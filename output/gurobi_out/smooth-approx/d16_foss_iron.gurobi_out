Water Network: ../data/d16_foss_iron.dat 

Results of smooth approximation of head loss constraint

*******************************************************************************
min_demand: 0.00026000000000000003
max_demand: 0.00202
max_flow: 0.03390999999999999
eps: 1e-10
Ipopt solver outputs: 

Ipopt 3.14.13: outlev = 0
expect_infeasible_problem = yes
tol = 1e-9
bound_relax_factor=0
bound_push = 0.01
bound_frac = 0.01
nlp_scaling_method = none


******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit https://github.com/coin-or/Ipopt
******************************************************************************

 
Ipopt 3.14.13: Optimal Solution Found

suffix ipopt_zU_out OUT;
suffix ipopt_zL_out OUT;
total_cost: 171727.0380486078 

*******************************************************************************

Violations between approximation constraint and original constraint:

+-----------------+----------------------+----------------------+
| Constraint ID   |   Absolute Violation |   Relative Violation |
+=================+======================+======================+
| con2_1,17       |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_1,31       |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_2,3        |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_2,18       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_3,4        |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_3,11       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_4,5        |                    0 |           3e-08      |
+-----------------+----------------------+----------------------+
| con2_5,6        |                   -0 |           1.8e-07    |
+-----------------+----------------------+----------------------+
| con2_5,13       |                    0 |           4.91e-06   |
+-----------------+----------------------+----------------------+
| con2_6,7        |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_7,24       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_8,28       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_9,36       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_10,11      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_10,32      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_11,19      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_11,26      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_12,4       |                   -0 |           1e-08      |
+-----------------+----------------------+----------------------+
| con2_12,13      |                    0 |           2e-08      |
+-----------------+----------------------+----------------------+
| con2_13,14      |                   -0 |           1e-08      |
+-----------------+----------------------+----------------------+
| con2_14,20      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_14,21      |                   -0 |           0.00187636 |
+-----------------+----------------------+----------------------+
| con2_15,16      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_15,22      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_16,25      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_16,29      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_17,2       |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_17,18      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_18,10      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_19,12      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_19,20      |                    0 |           1.1e-07    |
+-----------------+----------------------+----------------------+
| con2_20,15      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_21,6       |                    0 |           8.74e-06   |
+-----------------+----------------------+----------------------+
| con2_21,22      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_22,7       |                    0 |           8e-08      |
+-----------------+----------------------+----------------------+
| con2_22,23      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_23,25      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_24,8       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_24,23      |                   -0 |           0.00872622 |
+-----------------+----------------------+----------------------+
| con2_25,8       |                   -0 |           2e-08      |
+-----------------+----------------------+----------------------+
| con2_26,15      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_26,27      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_27,16      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_28,9       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_28,29      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_29,30      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_29,33      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_30,9       |                   -0 |           6.18e-06   |
+-----------------+----------------------+----------------------+
| con2_30,35      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_31,10      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_31,34      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_32,27      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_32,33      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_33,34      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_34,35      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_35,36      |                   -0 |           2e-08      |
+-----------------+----------------------+----------------------+
| con2_36,1       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_37,1       |                    0 |           0          |
+-----------------+----------------------+----------------------+

Total absolute constraint violation using ipopt: 2.2407791654350892e-11
Total relative constraint violation using ipopt: 0.01062288412369181
*******************************************************************************

total_cost using ipopt: 171727.0380486078
solve_time using ipopt: 0.20666400000000004
*******************************************************************************

gurobi solver outputs:

eps: 1e-10 

Gurobi 12.0.1: Set parameter LogToConsole to value 1
  tech:outlev = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter TimeLimit to value 3600
  lim:time = 3600
  alg:iisfind = 1
Set parameter IISMethod to value 0
  alg:iismethod = 0
  alg:iisforce = 1
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
  cvt:socp = 2
Set parameter Method to value 3
  alg:method = 3
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter ConcurrentMethod to value 3
  alg:concurrentmethod = 3
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter OBBT to value 1
  mip:obbt = 1
  alg:start = 1
Set parameter FeasibilityTol to value 1e-06
  alg:feastol = 1e-06
Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.1 build v12.0.1rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  3600
Method  3
ConcurrentMethod  3
NodeMethod  1
OBBT  1
VarBranch  0
IISMethod  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 152 rows, 1313 columns and 1042 nonzeros
Model fingerprint: 0x30522b4e
Model has 58 general nonlinear constraints (5924 nonlinear terms)
Variable types: 1313 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+00]
  Objective range  [2e+01, 2e+02]
  Bounds range     [5e-11, 3e+10]
  RHS range        [3e-01, 4e+02]
Warning: Model contains large bounds

User MIP start produced solution with objective 171727 (0.00s)
Loaded user MIP start with objective 171727

Presolve model has 58 nlconstr
Added 1862 variables to disaggregate expressions.
Presolve removed 1 rows and 408 columns
Presolve time: 0.03s
Presolved: 8594 rows, 3541 columns, 19028 nonzeros
Presolved model has 1588 bilinear constraint(s)
Presolved model has 174 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 3541 continuous, 0 integer (0 binary)
Concurrent LP optimizer: primal and dual simplex
Showing primal log only...


Solved with dual simplex

Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
     962    1.6643603e+05   0.000000e+00   0.000000e+00      5s
Extra simplex iterations after uncrush: 910

Root relaxation: objective 1.664360e+05, 962 iterations, 0.10 seconds (0.02 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 166436.028    0 1007 171727.038 166436.028  3.08%     -    5s
     0     0 166436.028    0 1027 171727.038 166436.028  3.08%     -    5s
     0     0 166436.028    0 1027 171727.038 166436.028  3.08%     -    5s
     0     0 166436.028    0 1026 171727.038 166436.028  3.08%     -    5s
     0     0 166436.028    0 1024 171727.038 166436.028  3.08%     -    5s
     0     0 166436.028    0 1024 171727.038 166436.028  3.08%     -    5s
     0     0 166436.028    0 1009 171727.038 166436.028  3.08%     -    5s
     0     0 166436.028    0 1008 171727.038 166436.028  3.08%     -    6s
     0     0 166436.028    0 1006 171727.038 166436.028  3.08%     -    6s
     0     0 166436.127    0  495 171727.038 166436.127  3.08%     -    7s
     0     0 166436.127    0  610 171727.038 166436.127  3.08%     -   14s
     0     0 166436.127    0  276 171727.038 166436.127  3.08%     -   14s
     0     0 166436.127    0  275 171727.038 166436.127  3.08%     -   15s
     0     0 166436.127    0  279 171727.038 166436.127  3.08%     -   15s
     0     0 166436.127    0  278 171727.038 166436.127  3.08%     -   15s
     0     0 166436.127    0  278 171727.038 166436.127  3.08%     -   15s
     0     0 166436.127    0  279 171727.038 166436.127  3.08%     -   16s
     0     0 166436.127    0  278 171727.038 166436.127  3.08%     -   16s
     0     0 166436.127    0  277 171727.038 166436.127  3.08%     -   16s
     0     0 166436.127    0  275 171727.038 166436.127  3.08%     -   16s
     0     0 166436.127    0  268 171727.038 166436.127  3.08%     -   17s
  NLP heuristic elapsed time = 5.03s
     0     0 166436.127    0  311 171727.038 166436.127  3.08%     -   26s
     0     0 166436.127    0  299 171727.038 166436.127  3.08%     -   26s
     0     0 166436.127    0  299 171727.038 166436.127  3.08%     -   26s
     0     0 166436.127    0  304 171727.038 166436.127  3.08%     -   26s
     0     0 166436.127    0  301 171727.038 166436.127  3.08%     -   26s
     0     0 166436.127    0  303 171727.038 166436.127  3.08%     -   27s
     0     0 166436.127    0  299 171727.038 166436.127  3.08%     -   27s
     0     0 166436.127    0  281 171727.038 166436.127  3.08%     -   27s
     0     0 166436.127    0  274 171727.038 166436.127  3.08%     -   27s
     0     0 166436.127    0  279 171727.038 166436.127  3.08%     -   27s
     0     0 166436.127    0  272 171727.038 166436.127  3.08%     -   27s
     0     2 166436.127    0  269 171727.038 166436.127  3.08%     -   55s
     7    16 166436.127    3  279 171727.038 166436.127  3.08%   122   60s
    31    64 166436.127    5  262 171727.038 166436.127  3.08%   219   65s
H   55    64                    171727.03803 166436.127  3.08%   248   65s
    95   179 166436.127    7  259 171727.038 166436.127  3.08%   219   71s
   304   402 166436.127    9  259 171727.038 166436.127  3.08%   120   75s
   825  1238 166436.127   12  255 171727.038 166436.127  3.08%   108   80s
H 1269  1272                    171727.03797 166436.127  3.08%   107   84s
  1271  1857 166436.127   15  259 171727.038 166436.127  3.08%   108   88s
  1872  2642 166436.127   21  261 171727.038 166436.127  3.08%   104   93s
  2669  3382 167824.439   25  250 171727.038 166436.127  3.08%   102   98s
  3601  4287 166436.127   32  270 171727.038 166436.127  3.08%   105  105s
  5134  5025 166436.127   41  276 171727.038 166436.127  3.08%  96.1  112s
  6168  5712 166436.127   45  288 171727.038 166436.127  3.08%   100  120s
  7337  6573 166436.127   56  258 171727.038 166436.127  3.08%   104  129s
  9598  8029 infeasible   83      171727.038 166436.127  3.08%  94.2  138s
 11892  9362 170215.648   95  283 171727.038 166436.127  3.08%  87.5  150s
 13949 10539 infeasible   35      171727.038 166436.127  3.08%  84.2  160s

Cutting planes:
  RLT: 118

Explored 15464 nodes (1300813 simplex iterations) in 164.06 seconds (15.42 work units)
Thread count was 32 (of 64 available processors)

Solution count 3: 171727 171727 171727 

Optimal solution found (tolerance 1.00e-04)
Best objective 1.717270379722e+05, best bound 1.717270379722e+05, gap 0.0000%
Gurobi 12.0.1: optimal solution; objective 171727.038
1.30081e+06 simplex iterations
15464 branching nodes
*******************************************************************************

q [*,*]
:       1          2         3          4          5           6        :=
2      .         .        1.76993     .          .           .
3      .         .         .         1.88932     .           .
4      .         .         .          .         0.467171     .
5      .         .         .          .          .         -0.288275
12     .         .         .        -0.612145    .           .
17     .        1.50404    .          .          .           .
21     .         .         .          .          .          0.108543
36   -3.22491    .         .          .          .           .
37   33.91       .         .          .          .           .

:        7           8           9          10         11        12       :=
3      .           .           .           .        -1.13939    .
6    -0.969731     .           .           .          .         .
10     .           .           .           .         8.21024    .
18     .           .           .         -1.77193     .         .
19     .           .           .           .          .        0.77074
22    0.354857     .           .           .          .         .
24     .         -1.52677      .           .          .         .
25     .         -0.524399     .           .          .         .
28     .           .         -1.58262      .          .         .
30     .           .         -0.118374     .          .         .
31     .           .           .         13.9359      .         .

:       13         14          15         16       17        18        19    :=
1     .           .           .          .        4.328     .         .
2     .           .           .          .         .      -1.30589    .
5    0.125445     .           .          .         .        .         .
11    .           .           .          .         .        .        2.97723
12   0.472885     .           .          .         .        .         .
13    .         -0.561669     .          .         .        .         .
15    .           .           .        -1.79162    .        .         .
17    .           .           .          .         .       1.55396    .
20    .           .         -1.67761     .         .        .         .
26    .           .          2.38943     .         .        .         .
27    .           .           .         2.47929    .        .         .

:       20           21          22          23          24          25      :=
7      .           .            .          .          -0.874875     .
14   -1.0741     -0.0275695     .          .            .           .
15     .           .           1.40343     .            .           .
16     .           .            .          .            .          2.14124
19    0.326487     .            .          .            .           .
21     .           .          -1.09611     .            .           .
22     .           .            .        -1.01754       .           .
23     .           .            .          .            .         -1.89564
24     .           .            .        -0.0181007     .           .

:      26         27         28         29         30        31        32    :=
1     .          .          .          .          .        25.8671    .
8     .          .        -2.63117     .          .          .        .
10    .          .          .          .          .          .       2.84369
11   2.34362     .          .          .          .          .        .
16    .          .          .        -2.66357     .          .        .
26    .        -1.73581     .          .          .          .        .
28    .          .          .        -1.34855     .          .        .
29    .          .          .          .        -1.68794     .        .
32    .         5.6351      .          .          .          .        .

:       33         34         35         36        :=
9      .          .          .        -2.241
29   -2.94417     .          .          .
30     .          .        -2.10957     .
31     .        11.0312      .          .
32   -3.82141     .          .          .
33     .        -7.53558     .          .
34     .          .         2.75566     .
35     .          .          .        -0.513911
;

Violations between approximation constraint and original constraint:

+-----------------+----------------------+----------------------+
| Constraint ID   |   Absolute Violation |   Relative Violation |
+=================+======================+======================+
| con2_1,17       |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_1,31       |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_2,3        |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_2,18       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_3,4        |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_3,11       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_4,5        |                    0 |           3e-08      |
+-----------------+----------------------+----------------------+
| con2_5,6        |                   -0 |           1.8e-07    |
+-----------------+----------------------+----------------------+
| con2_5,13       |                    0 |           4.91e-06   |
+-----------------+----------------------+----------------------+
| con2_6,7        |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_7,24       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_8,28       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_9,36       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_10,11      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_10,32      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_11,19      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_11,26      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_12,4       |                   -0 |           1e-08      |
+-----------------+----------------------+----------------------+
| con2_12,13      |                    0 |           2e-08      |
+-----------------+----------------------+----------------------+
| con2_13,14      |                   -0 |           1e-08      |
+-----------------+----------------------+----------------------+
| con2_14,20      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_14,21      |                   -0 |           0.00187636 |
+-----------------+----------------------+----------------------+
| con2_15,16      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_15,22      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_16,25      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_16,29      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_17,2       |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_17,18      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_18,10      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_19,12      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_19,20      |                    0 |           1.1e-07    |
+-----------------+----------------------+----------------------+
| con2_20,15      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_21,6       |                    0 |           8.74e-06   |
+-----------------+----------------------+----------------------+
| con2_21,22      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_22,7       |                    0 |           8e-08      |
+-----------------+----------------------+----------------------+
| con2_22,23      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_23,25      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_24,8       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_24,23      |                   -0 |           0.0087259  |
+-----------------+----------------------+----------------------+
| con2_25,8       |                   -0 |           2e-08      |
+-----------------+----------------------+----------------------+
| con2_26,15      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_26,27      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_27,16      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_28,9       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_28,29      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_29,30      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_29,33      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_30,9       |                   -0 |           6.18e-06   |
+-----------------+----------------------+----------------------+
| con2_30,35      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_31,10      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_31,34      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_32,27      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_32,33      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_33,34      |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_34,35      |                    0 |           0          |
+-----------------+----------------------+----------------------+
| con2_35,36      |                   -0 |           2e-08      |
+-----------------+----------------------+----------------------+
| con2_36,1       |                   -0 |           0          |
+-----------------+----------------------+----------------------+
| con2_37,1       |                    0 |           0          |
+-----------------+----------------------+----------------------+

Total absolute constraint violation using gurobi: 2.2407545917924654e-11
Total relative constraint violation using gurobi: 0.010622568541984853
*******************************************************************************

total_cost using gurobi: 171727.0379564624
solve_time using gurobi: 164.35247600000002 

min_demand: 0.00026000000000000003 

Q_max: 0.03390999999999999 

eps: 1e-10 

*******************************************************************************

