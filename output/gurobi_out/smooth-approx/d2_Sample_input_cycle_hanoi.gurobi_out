Water Network: ../data/d2_Sample_input_cycle_hanoi.dat 

Results of smooth approximation of head loss constraint

*******************************************************************************
min_demand: 0.016666
max_demand: 0.375
max_flow: 5.538865800000001
eps: 1e-10
Ipopt solver outputs: 

Ipopt 3.14.13: outlev = 0
expect_infeasible_problem = yes
tol = 1e-9
bound_relax_factor=0
bound_push = 0.01
bound_frac = 0.01
nlp_scaling_method = none


******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit https://github.com/coin-or/Ipopt
******************************************************************************

 
Ipopt 3.14.13: Optimal Solution Found

suffix ipopt_zU_out OUT;
suffix ipopt_zL_out OUT;
total_cost: 6055935.812226388 

*******************************************************************************

Violations between approximation constraint and original constraint:

+-----------------+----------------------+----------------------+
| Constraint ID   |   Absolute Violation |   Relative Violation |
+=================+======================+======================+
| con2_1,2        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_2,3        |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_3,4        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_3,19       |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_3,20       |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_4,5        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_5,6        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_6,7        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_7,8        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_8,9        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_9,10       |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_10,11      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_10,14      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_11,12      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_12,13      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_14,15      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_15,16      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_16,27      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_17,16      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_18,17      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_19,18      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_20,21      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_20,23      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_21,22      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_23,24      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_23,28      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_24,25      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_25,32      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_26,25      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_27,26      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_28,29      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_29,30      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_30,31      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_32,31      |                    0 |                    0 |
+-----------------+----------------------+----------------------+

Total absolute constraint violation using ipopt: 5.504114958948536e-15
Total relative constraint violation using ipopt: 3.103639859325603e-14
*******************************************************************************

total_cost using ipopt: 6055935.812226388
solve_time using ipopt: 0.7371840000000001
*******************************************************************************

gurobi solver outputs:

eps: 1e-10 

Gurobi 12.0.1: Set parameter LogToConsole to value 1
  tech:outlev = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter TimeLimit to value 3600
  lim:time = 3600
  alg:iisfind = 1
Set parameter IISMethod to value 0
  alg:iismethod = 0
  alg:iisforce = 1
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
  cvt:socp = 2
Set parameter Method to value 3
  alg:method = 3
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter ConcurrentMethod to value 3
  alg:concurrentmethod = 3
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter OBBT to value 1
  mip:obbt = 1
  alg:start = 1
Set parameter FeasibilityTol to value 1e-06
  alg:feastol = 1e-06
Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.1 build v12.0.1rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  3600
Method  3
ConcurrentMethod  3
NodeMethod  1
OBBT  1
VarBranch  0
IISMethod  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 94 rows, 497 columns and 387 nonzeros
Model fingerprint: 0x4dd0d3a9
Model has 29 general nonlinear constraints (667 nonlinear terms)
Variable types: 497 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [3e-05, 1e+00]
  Objective range  [5e+01, 3e+02]
  Bounds range     [3e-08, 3e+16]
  RHS range        [2e+01, 4e+03]
Warning: Model contains large bounds

User MIP start produced solution with objective 6.05594e+06 (0.00s)
Loaded user MIP start with objective 6.05594e+06

Presolve model has 29 nlconstr
Added 580 variables to disaggregate expressions.
Presolve removed 6 rows and 212 columns
Presolve time: 0.00s
Presolved: 2002 rows, 895 columns, 4696 nonzeros
Presolved model has 261 bilinear constraint(s)
Presolved model has 87 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 895 continuous, 0 integer (0 binary)
Extra simplex iterations after uncrush: 29

Root relaxation: objective 1.802526e+06, 33 iterations, 0.06 seconds (0.00 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 1802525.67    0  147 6055935.81 1802525.67  70.2%     -    1s
     0     0 1802525.67    0  145 6055935.81 1802525.67  70.2%     -    1s
     0     0 1802525.67    0  145 6055935.81 1802525.67  70.2%     -    1s
     0     0 1802525.67    0  145 6055935.81 1802525.67  70.2%     -    1s
     0     0 1802525.67    0  145 6055935.81 1802525.67  70.2%     -    1s
     0     0 1802525.67    0  145 6055935.81 1802525.67  70.2%     -    1s
     0     0 1802525.67    0  145 6055935.81 1802525.67  70.2%     -    1s
     0     0 1802525.67    0  125 6055935.81 1802525.67  70.2%     -    3s
     0     2 1802525.67    0  125 6055935.81 1802525.67  70.2%     -    6s
    39    64 1982368.25    6  164 6055935.81 1982368.25  67.3%  13.3   10s
   135   290 1982368.25    8  146 6055935.81 1982368.25  67.3%  24.5   16s
   504   844 1982368.25   14  146 6055935.81 1982368.25  67.3%  10.3   25s
   921  1456 1982368.25   20  147 6055935.81 1982368.25  67.3%   7.5   34s
  1799  2550 1982368.25   18  133 6055935.81 1982368.25  67.3%   8.8   49s
  3215  7494 1982609.99   40  135 6055935.81 1982368.25  67.3%   9.1   75s

Cutting planes:
  RLT: 2

Explored 11215 nodes (82620 simplex iterations) in 76.36 seconds (3.27 work units)
Thread count was 32 (of 64 available processors)

Solution count 1: 6.05594e+06 

Optimal solution found (tolerance 1.00e-04)
Best objective 6.055935812226e+06, best bound 6.055935812226e+06, gap 0.0000%
Gurobi 12.0.1: optimal solution; objective 6055935.812
82620 simplex iterations
11215 branching nodes
*******************************************************************************

q [*,*] (tr)
:       1         2         3          4         5         6         7       :=
2    5538.87       .         .          .         .         .         .
3        .     5291.64       .          .         .         .         .
4        .         .     2213.15        .         .         .         .
5        .         .         .      2177.03       .         .         .
6        .         .         .          .     1975.65       .         .
7        .         .         .          .         .     1696.48       .
8        .         .         .          .         .         .     1321.48
19       .         .      666.992       .         .         .         .
20       .         .     2175.4         .         .         .         .

:      8         9        10        11       12       14        15        16 :=
9    1168.7       .        .         .        .        .        .         .
10       .    1022.87      .         .        .        .        .         .
11       .        .     555.54       .        .        .        .         .
12       .        .        .      416.66      .        .        .         .
13       .        .        .         .     261.11      .        .         .
14       .        .     321.496      .        .        .        .         .
15       .        .        .         .        .     150.663     .         .
16       .        .        .         .        .        .      72.8861     .
27       .        .        .         .        .        .        .       23.2129

:      17        18        19         20        21        23        24       :=
16   36.4378      .         .          .         .         .         .
17     .       276.715      .          .         .         .         .
18     .          .      650.326       .         .         .         .
21     .          .         .       393.055      .         .         .
22     .          .         .          .      134.722      .         .
23     .          .         .      1428.17       .         .         .
24     .          .         .          .         .      972.449      .
25     .          .         .          .         .         .      744.672
28     .          .         .          .         .      165.447      .

:      25         26         27        28         29         30        32    :=
25      .      -329.564      .         .          .           .         .
26      .          .      -79.5641     .          .           .         .
29      .          .         .       84.8915      .           .         .
30      .          .         .         .       -15.1085       .         .
31      .          .         .         .          .       -115.108   144.275
32   367.886       .         .         .          .           .         .
;

Violations between approximation constraint and original constraint:

+-----------------+----------------------+----------------------+
| Constraint ID   |   Absolute Violation |   Relative Violation |
+=================+======================+======================+
| con2_1,2        |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_2,3        |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_3,4        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_3,19       |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_3,20       |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_4,5        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_5,6        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_6,7        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_7,8        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_8,9        |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_9,10       |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_10,11      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_10,14      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_11,12      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_12,13      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_14,15      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_15,16      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_16,27      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_17,16      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_18,17      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_19,18      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_20,21      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_20,23      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_21,22      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_23,24      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_23,28      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_24,25      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_25,32      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_26,25      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_27,26      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_28,29      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_29,30      |                   -0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_30,31      |                    0 |                    0 |
+-----------------+----------------------+----------------------+
| con2_32,31      |                    0 |                    0 |
+-----------------+----------------------+----------------------+

Total absolute constraint violation using gurobi: 9.94484442712329e-15
Total relative constraint violation using gurobi: 3.1355005523955836e-14
*******************************************************************************

total_cost using gurobi: 6055935.812226387
solve_time using gurobi: 76.61684100000001 

min_demand: 0.016666 

Q_max: 5.538865800000001 

eps: 1e-10 

*******************************************************************************

