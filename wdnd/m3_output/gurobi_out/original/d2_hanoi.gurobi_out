Water Network: ../data/d2_hanoi.dat
*******************************************************************************

-------------------------------- Solving with gurobi --------------------------
min_demand: 0.01667
max_demand: 0.375
max_flow: 5.538899999999999
Gurobi 12.0.1: Set parameter LogToConsole to value 1
  tech:outlev = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter TimeLimit to value 3600
  lim:time = 3600
Set parameter Method to value 2
  alg:method = 2
  alg:start = 1
Set parameter BarConvTol to value 1e-09
  bar:convtol = 1e-09
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1e-05
  sol:chk:feastolrel = 0
Set parameter MIPGap to value 1e-09
  mip:gap = 1e-09
Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.1 build v12.0.1rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: Intel(R) Xeon(R) Gold 6130 CPU @ 2.10GHz, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 32 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  3600
FeasibilityTol  1e-05
MIPGap  1e-09
Method  2
BarConvTol  1e-09
InfUnbdInfo  1
Presolve  1

Optimize a model with 196 rows, 468 columns and 595 nonzeros
Model fingerprint: 0x86d4b046
Model has 34 general nonlinear constraints (816 nonlinear terms)
Variable types: 434 continuous, 34 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 6e+00]
  Objective range  [5e+01, 3e+02]
  Bounds range     [1e+00, 4e+03]
  RHS range        [2e-02, 4e+03]
Presolve model has 27 nlconstr
Added 702 variables to disaggregate expressions.
Presolve removed 50 rows and 123 columns
Presolve time: 0.02s
Presolved: 2063 rows, 1048 columns, 4657 nonzeros
Presolved model has 324 bilinear constraint(s)
Presolved model has 54 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 1021 continuous, 27 integer (27 binary)
Root barrier log...

Ordering time: 0.08s

Barrier statistics:
 AA' NZ     : 1.099e+04
 Factor NZ  : 2.266e+04 (roughly 1 MB of memory)
 Factor Ops : 4.570e+05 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   1.53911175e+08 -2.89922709e+09  1.36e+04 7.00e+02  1.44e+07     2s
   1   3.60609549e+07 -2.19780535e+09  2.55e+03 5.46e-12  2.92e+06     2s
   2   1.04663769e+07 -9.39211505e+08  4.54e+02 2.73e-11  6.35e+05     2s
   3   5.21665009e+06 -2.09950044e+08  1.10e+01 3.64e-12  8.67e+04     2s
   4   4.80195294e+06 -1.72061450e+07  2.59e+00 1.88e-12  8.79e+03     2s
   5   3.69606373e+06 -2.63520149e+06  2.72e-01 5.19e-13  2.47e+03     2s
   6   2.89958204e+06  2.06081164e+05  6.11e-03 7.76e-12  1.05e+03     2s
   7   2.46353931e+06  9.47324940e+05  9.98e-04 3.51e-12  5.88e+02     2s
   8   2.31738878e+06  1.50445546e+06  5.46e-04 6.85e-12  3.15e+02     2s
   9   2.15545614e+06  1.94009446e+06  7.53e-05 1.90e-12  8.36e+01     2s
  10   2.10933429e+06  2.01742185e+06  5.32e-06 8.10e-13  3.57e+01     2s
  11   2.10345623e+06  2.09223075e+06  3.42e-07 1.82e-12  4.36e+00     3s
  12   2.10153888e+06  2.10105052e+06  7.40e-09 1.82e-12  1.90e-01     3s
  13   2.10147305e+06  2.10147256e+06  5.90e-10 2.27e-13  1.90e-04     3s
  14   2.10147298e+06  2.10147298e+06  5.48e-10 4.55e-13  1.90e-07     3s
  15   2.10147298e+06  2.10147298e+06  1.05e-11 4.55e-13  1.90e-10     3s

Barrier solved model in 15 iterations and 2.73 seconds (0.04 work units)
Optimal objective 2.10147298e+06


Root relaxation: objective 2.101473e+06, 116 iterations, 1.08 seconds (0.01 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 2101472.98    0   48          - 2101472.98      -     -    3s
     0     0 2120713.36    0   79          - 2120713.36      -     -    3s
     0     0 2124764.80    0   95          - 2124764.80      -     -    3s
     0     0 2125221.56    0   91          - 2125221.56      -     -    3s
     0     0 2274963.30    0  154          - 2274963.30      -     -    4s
     0     0 2274976.05    0  161          - 2274976.05      -     -    4s
     0     0 2322140.00    0  155          - 2322140.00      -     -    4s
     0     0 2376453.48    0  185          - 2376453.48      -     -    5s
     0     0 2391921.53    0  197          - 2391921.53      -     -    5s
     0     0 2481403.88    0  221          - 2481403.88      -     -    7s
     0     0 2496900.50    0  210          - 2496900.50      -     -    7s
     0     0 2521948.60    0  214          - 2521948.60      -     -    9s
     0     0 2534350.55    0  225          - 2534350.55      -     -    9s
     0     0 2760675.65    0  205          - 2760675.65      -     -   11s
     0     0 2783334.28    0  214          - 2783334.28      -     -   11s
     0     0 3814209.79    0  204          - 3814209.79      -     -   12s
     0     0 3814209.79    0  201          - 3814209.79      -     -   12s
     0     0 3814209.79    0  218          - 3814209.79      -     -   13s
     0     0 3814209.79    0  218          - 3814209.79      -     -   13s
     0     0 3814209.79    0  217          - 3814209.79      -     -   13s
     0     0 3814209.79    0  221          - 3814209.79      -     -   13s
     0     0 3864887.71    0  211          - 3864887.71      -     -   14s
     0     0 3864887.71    0  212          - 3864887.71      -     -   14s
     0     0 3864887.71    0  212          - 3864887.71      -     -   14s
     0     0 3864887.71    0  212          - 3864887.71      -     -   14s
     0     0 3864887.71    0  214          - 3864887.71      -     -   15s
     0     0 3864887.71    0  201          - 3864887.71      -     -   18s
H    0     0                    6454986.4909 3864887.71  40.1%     -   18s
H    0     0                    6120308.2608 3864887.71  36.9%     -   19s
     0     2 3864887.71    0  198 6120308.26 3864887.71  36.9%     -   20s
    33    28 4901766.59    7   65 6120308.26 4497771.34  26.5%   220   25s
   149    68     cutoff   10      6120308.26 4674532.04  23.6%   157   33s
   225   107 5917940.60   10   67 6120308.26 4856439.81  20.7%   146   36s
H  252   107                    6076324.7293 4856439.81  20.1%   139   36s
   469   137     cutoff   15      6076324.73 4981405.25  18.0%   101   41s
H  498   137                    6069873.2868 5097154.74  16.0%  98.9   41s
H  503   137                    6066973.9732 5097154.74  16.0%  98.4   41s
H  753   150                    6063157.5711 5097154.74  15.9%  82.8   44s
   865   124     cutoff   18      6063157.57 5097154.74  15.9%  79.4   46s
H 1081   126                    6062876.2771 5395215.40  11.0%  73.0   49s
H 1081   126                    6062574.6130 5395215.40  11.0%  73.0   49s
H 1139   126                    6062397.7613 5395215.40  11.0%  71.6   49s
  1163   113 6049258.33   19   33 6062397.76 5494511.17  9.37%  71.1   50s
* 1624   245              27    6061245.4487 5547010.50  8.48%  62.6   54s
* 1625   245              27    6061147.7981 5547010.50  8.48%  62.6   54s
  1697   235     cutoff   29      6061147.80 5547010.50  8.48%  60.9   55s
* 2128   317              46    6061145.8292 5858771.15  3.34%  54.5   57s
* 2206   457              37    6061133.4718 5987472.31  1.22%  54.3   59s
* 2279   457              37    6061062.2151 6036645.06  0.40%  53.1   59s
* 2326   457              42    6061044.2314 6036645.06  0.40%  53.0   59s
  2439   470     cutoff   22      6061044.23 6036645.06  0.40%  51.9   62s
H 2442   470                    6060542.9278 6036645.06  0.39%  51.9   62s
H 2446   470                    6057818.4162 6036645.06  0.35%  51.8   62s
H 2489   470                    6057701.4358 6036645.06  0.35%  51.1   62s
* 2935   274              37    6057678.6009 6044897.22  0.21%  46.0   64s
  2938   349     cutoff   30      6057678.60 6044897.22  0.21%  45.9   66s
* 3076   349              41    6057513.5280 6044897.22  0.21%  45.4   66s
* 3238   466              39    6056681.9176 6044897.22  0.19%  43.6   67s
  3776   613 6056607.90   35    1 6056681.92 6044897.22  0.19%  41.8   71s
* 3778   613              36    6056609.9155 6044897.22  0.19%  41.8   71s
* 3909   613              39    6056318.6220 6044897.22  0.19%  41.6   71s
* 4322   548              35    6056313.4569 6050517.22  0.10%  38.5   73s
* 4542   742              37    6056241.1599 6055375.58  0.01%  37.9   74s
  4798   852 6055878.16   30    8 6056241.16 6055375.58  0.01%  36.6   76s
* 4820   852              37    6056224.6751 6055375.58  0.01%  36.7   76s
* 4833   852              36    6056220.7487 6055375.58  0.01%  36.7   76s
* 4874   852              46    6056216.1098 6055375.58  0.01%  36.4   76s
* 4875   852              46    6056187.2515 6055375.58  0.01%  36.4   76s
* 5180   954              47    6056185.4533 6055752.70  0.01%  35.3   78s
* 5195   954              51    6056181.5509 6055752.70  0.01%  35.2   78s
* 5197   954              52    6056180.8166 6055752.70  0.01%  35.2   78s
* 5198   954              52    6056180.5210 6055752.70  0.01%  35.2   78s
* 5199   954              50    6056179.4443 6055752.70  0.01%  35.2   78s
* 5257   954              36    6056165.3869 6055752.70  0.01%  35.0   78s
* 5267   954              39    6056151.3452 6055752.70  0.01%  34.9   78s
  5424  1307 6056143.83   39    4 6056151.35 6055752.70  0.01%  34.9   82s
* 5430  1307              44    6056146.1091 6055752.70  0.01%  34.8   82s
* 5517  1307              53    6056054.7255 6055752.70  0.00%  34.3   82s
  6291  1357     cutoff   52      6056054.73 6055784.43  0.00%  31.6   89s
* 6298  1357              38    6056049.0707 6055784.43  0.00%  31.6   89s
H 6379  1357                    6056045.2099 6055784.43  0.00%  31.2   89s
* 6467  1357              43    6056045.1947 6055784.43  0.00%  30.9   89s
* 6480  1357              47    6056042.3977 6055784.43  0.00%  30.9   89s
H 7133  1357                    6056041.2732 6055953.89  0.00%  28.8   89s
  7385  1248 6056039.40   44    4 6056041.27 6055973.74  0.00%  28.1   94s
* 7793  1248              58    6056040.4690 6055973.74  0.00%  26.8   94s
* 8385  1248              40    6056039.5832 6055973.74  0.00%  25.0   95s
*10089   842              47    6056039.5492 6056038.95  0.00%  21.0   98s
*10682   842              47    6056039.5476 6056038.99  0.00%  19.9   99s
 11266  1282 6056039.14   65    1 6056039.55 6056039.01  0.00%  18.9  103s
 12755   820 6056039.11   76   14 6056039.55 6056039.10  0.00%  16.8  126s
  NLP heuristic elapsed time = 5.05s
 12756   821 6056039.10   54   14 6056039.55 6056039.10  0.00%  16.8  133s
 12757   821 6056039.12   63   13 6056039.55 6056039.10  0.00%  16.7  136s
 12762   825 6056039.11   67   14 6056039.55 6056039.10  0.00%  16.7  140s
 12796   869 6056039.10   15  103 6056039.55 6056039.10  0.00%  17.3  145s
H12803   825                    6056039.5378 6056039.10  0.00%  17.3  145s
 13769   729 6056039.10   22   58 6056039.54 6056039.10  0.00%  23.3  150s
H13928   621                    6056039.4697 6056039.10  0.00%  24.0  150s
 14873   288     cutoff   27      6056039.47 6056039.10  0.00%  28.9  155s
 16202   151     cutoff   27      6056039.47 6056039.10  0.00%  32.2  160s
H16322   151                    6056039.4656 6056039.10  0.00%  32.5  160s
 17370    52     cutoff   49      6056039.47 6056039.10  0.00%  33.0  165s
H17408    52                    6056039.3907 6056039.10  0.00%  33.0  165s
H17415    52                    6056039.3752 6056039.10  0.00%  33.0  165s
H17436    52                    6056039.1669 6056039.10  0.00%  33.0  165s
 18493   382 6056039.10   65    4 6056039.17 6056039.10  0.00%  32.6  171s
H18514   382                    6056039.1349 6056039.10  0.00%  32.6  171s
H18639   382                    6056038.8983 6056038.90  0.00%  32.4  171s
H18658   382                    6056038.8464 6056038.85  0.00%  32.4  171s

Explored 19103 nodes (611297 simplex iterations) in 171.13 seconds (6.17 work units)
Thread count was 32 (of 32 available processors)

Solution count 10: 6.05604e+06 6.05604e+06 6.05604e+06 ... 6.05604e+06

Optimal solution found (tolerance 1.00e-09)
Best objective 6.056038846401e+06, best bound 6.056038846401e+06, gap 0.0000%
Gurobi 12.0.1: optimal solution; objective 6056038.846
611297 simplex iterations
35 barrier iterations
19103 branching nodes
 
------------ WARNINGS ------------
WARNING:  "Tolerance violations"
  Type                         MaxAbs [Name]   MaxRel [Name]
  objective(s)                 6E-06           1E-12         
Documentation: mp.ampl.com/modeling-tools.html#automatic-solution-check.
*******************************************************************************

Constraints violation:


Sum of constraints violation: 19.027214415912155
*******************************************************************************

*******************************************************************************

Constraint 2 violations:


Sum of violation of original con2: 2.282796174313262e-11
Sum of violation of approx con2: 2.282796174313262e-11
*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:


Con2 sum of absolute violation: 19.027209552552705
Con2 sum of relative violation: 4.287623463303212
*******************************************************************************

Total cost using gurobi: 6056038.846406912
gurobi solve time: 171.34 seconds
*******************************************************************************

