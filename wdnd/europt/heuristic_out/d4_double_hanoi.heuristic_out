Water Network: d4_double_hanoi 

Solve the original nonconvex optimization problem using IPOPT 
fix_arc_set: {(1, 2), (10, 11), (41, 42), (12, 13), (21, 22), (50, 51), (11, 12), (51, 52), (40, 41), (42, 43), (20, 21)}
super_source_out_arc: [(1, 2), (2, 3), (3, 4), (3, 19), (3, 20), (2, 33), (33, 34), (33, 49), (33, 50)] 

Ipopt 3.12.13: outlev = 0
bound_relax_factor=0
bound_push = 0.1
bound_frac = 0.1
halt_on_ampl_error = yes
halt_on_ampl_error = yes


******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

 
Ipopt 3.12.13: Optimal Solution Found

suffix ipopt_zU_out OUT;
suffix ipopt_zL_out OUT;
Objective:  12069768.506368054
Solve_result:  solved
Solve_time: 1.096438 


---------------------------Reverse Arc Direction Approach------------------------------------

*********************************************************************************************
Iteration : 1 

self.sorted_nodes: [27, 29, 60, 16, 46]
----------------------------------------------------------------------------------------

Node: 27
node-in-arcs: [(27, 16), (26, 27)]
decreasing-in-flow-arcs: [(26, 27), (27, 16)] 

Arc       C_Best_Sol    New_Sol       Solve_Time  Solve_Result  Improved  Time        
(26, 27)  1,20,69,769   1,21,19,843   0.41s       solved        No        1.8s
(27, 16)  1,20,69,769   1,20,69,173   0.55s       solved        Yes       2.39s

*********************************************************************************************
Iteration : 2 

self.sorted_nodes: [57, 29, 59, 16, 46]
----------------------------------------------------------------------------------------

Node: 57
node-in-arcs: [(46, 57), (57, 56)]
decreasing-in-flow-arcs: [(57, 56), (46, 57)] 

Arc       C_Best_Sol    New_Sol       Solve_Time  Solve_Result  Improved  Time        
(57, 56)  1,20,69,173   1,21,14,727   0.43s       solved        No        2.86s
(46, 57)  1,20,69,173   1,20,69,173   0.45s       solved        No        3.47s
----------------------------------------------------------------------------------------

Node: 29
node-in-arcs: [(28, 29), (29, 30)]
decreasing-in-flow-arcs: [(28, 29), (29, 30)] 

Arc       C_Best_Sol    New_Sol       Solve_Time  Solve_Result  Improved  Time        
(28, 29)  1,20,69,173   1,23,41,205   0.49s       solved        No        4.0s
(29, 30)  1,20,69,173   1,20,72,283   0.52s       solved        No        4.56s
----------------------------------------------------------------------------------------

Node: 59
node-in-arcs: [(58, 59), (59, 60)]
decreasing-in-flow-arcs: [(58, 59), (59, 60)] 

Arc       C_Best_Sol    New_Sol       Solve_Time  Solve_Result  Improved  Time        
(58, 59)  1,20,69,173   1,23,41,205   0.5s        solved        No        5.1s
(59, 60)  1,20,69,173   1,20,70,199   0.53s       solved        No        5.68s
----------------------------------------------------------------------------------------

Node: 16
node-in-arcs: [(15, 16), (16, 17), (27, 16)]
decreasing-in-flow-arcs: [(16, 17), (15, 16), (27, 16)] 

Arc       C_Best_Sol    New_Sol       Solve_Time  Solve_Result  Improved  Time        
(16, 17)  1,20,69,173   1,20,79,809   0.52s       solved        No        6.24s
(15, 16)  1,20,69,173   1,20,69,478   0.54s       solved        No        6.81s
(27, 16)  1,20,69,173   1,20,66,932   0.53s       solved        Yes       7.38s

*********************************************************************************************
Iteration : 3 

self.sorted_nodes: [46]
----------------------------------------------------------------------------------------

Node: 46
node-in-arcs: [(45, 46), (47, 46)]
decreasing-in-flow-arcs: [(47, 46), (45, 46)] 

Arc       C_Best_Sol    New_Sol       Solve_Time  Solve_Result  Improved  Time        
(47, 46)  1,20,66,932   1,20,77,530   0.51s       solved        No        7.94s
(45, 46)  1,20,66,932   1,20,71,758   0.43s       solved        No        8.41s
----------------------------------------------------------------------------------------

----------------------------Diameter Reduction Approach--------------------------------------

**********************************Final best results*****************************************

Water Network: d4_double_hanoi
*******************************************************************************

Constraints violation:


Sum of constraints violation: 5.001304740445689e-06
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation(in %) |
+=================+==============+==========================+========================+======================+============================+
| 1,2             |  10.8306     |                 -4.7e-07 |               -4.7e-07 |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 2,3             |   5.29168    |                 -1.3e-07 |               -1.3e-07 |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 2,33            |   5.29168    |                 -1.3e-07 |               -1.3e-07 |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 3,4             |   2.21323    |                 -3e-08   |               -3e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 3,20            |   2.17537    |                 -2e-08   |               -2e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 4,5             |   2.17712    |                 -2e-08   |               -2e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 5,6             |   1.97573    |                 -2e-08   |               -2e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 6,7             |   1.69656    |                 -2e-08   |               -2e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 7,8             |   1.32156    |                 -1e-08   |               -1e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 8,9             |   1.16878    |                 -1e-08   |               -1e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 9,10            |   1.02295    |                 -1e-08   |               -1e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 10,11           |   0.55556    |                 -0       |               -0       |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 10,14           |   0.321564   |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 11,12           |   0.41667    |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 12,13           |   0.26111    |                 -3e-07   |               -3e-07   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 14,15           |   0.150734   |                  0       |                0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 15,16           |   0.0729542  |                  0       |                0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 16,17           |  -0.0364009  |                 -0       |               -0       |                   -0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 17,18           |  -0.276681   |                 -0       |               -0       |                   -0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 18,19           |  -0.650291   |                  0       |                0       |                   -0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 19,3            |  -0.666961   |                  0       |                0       |                   -0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 20,21           |   0.39305    |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 20,23           |   1.42815    |                 -1e-08   |               -1e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 21,22           |   0.13472    |                 -3e-07   |               -3e-07   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 23,24           |   0.972432   |                 -1e-08   |               -1e-08   |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 23,28           |   0.165443   |                  0       |                0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 24,25           |   0.744652   |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 25,26           |   0.329535   |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 26,27           |   0.0795349  |                 -3e-07   |               -3e-07   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 27,16           |  -0.0232451  |                  3e-07   |                3e-07   |                   -0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 28,29           |   0.0848832  |                 -3e-07   |               -3e-07   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 29,30           |  -0.0151168  |                  3e-07   |                3e-07   |                   -0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 30,31           |  -0.115117   |                 -0       |               -0       |                    0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 31,32           |  -0.144287   |                  0       |                0       |                    0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 32,25           |  -0.367897   |                  0       |                0       |                    0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 33,34           |   2.14974    |                 -2e-08   |               -2e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 33,49           |   0.717529   |                 -0       |               -0       |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 33,50           |   2.1883     |                 -2e-08   |               -2e-08   |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 34,35           |   2.11363    |                 -2e-08   |               -2e-08   |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 35,36           |   1.91224    |                 -2e-08   |               -2e-08   |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 36,37           |   1.63307    |                 -1e-08   |               -1e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 37,38           |   1.25807    |                 -1e-08   |               -1e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 38,39           |   1.10529    |                 -1e-08   |               -1e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 39,40           |   0.95946    |                 -1e-08   |               -1e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 40,41           |   0.55556    |                 -0       |               -0       |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 40,44           |   0.25807    |                  0       |                0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 41,42           |   0.41667    |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 42,43           |   0.26111    |                 -3e-07   |               -3e-07   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 44,45           |   0.08724    |                  0       |                0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 45,46           |   0.00946003 |                  0       |                0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 46,57           |   0.0103188  |                 -3e-07   |               -3e-07   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 47,46           |   0.0869688  |                  0       |                0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 48,47           |   0.327249   |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 49,48           |   0.700859   |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 50,51           |   0.39305    |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 50,53           |   1.44108    |                 -1e-08   |               -1e-08   |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 51,52           |   0.13472    |                 -3e-07   |               -3e-07   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 53,54           |   0.986254   |                 -1e-08   |               -1e-08   |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 53,58           |   0.164547   |                  0       |                0       |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 54,55           |   0.758474   |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 55,62           |   0.368793   |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 56,55           |  -0.342461   |                  0       |                0       |                    0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 57,56           |  -0.0924612  |                  3e-07   |                3e-07   |                    0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 58,59           |   0.0839872  |                 -3e-07   |               -3e-07   |                   -0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 59,60           |  -0.0160128  |                  3e-07   |                3e-07   |                   -0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 60,61           |  -0.116013   |                 -0       |               -0       |                    0 |                         -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+
| 62,61           |   0.145183   |                 -0       |               -0       |                    0 |                          0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------------+

Sum of violation of original headloss constraint: 4.644852139155942e-06
Sum of violation of approx headloss constraint: 4.6448521572803325e-06

Con2 sum of absolute violation between original function and approximate function: 4.418687638008123e-14
Con2 sum of relative violation between original function and approximate function: 3.081631540601605e-12 %
*******************************************************************************

Final best objective: 12066932.217008658
Number of nlp problem solved: 14
Total number of iteration: 4
Solver_time: 7.52 seconds
Heuristic elapsed time: 8.50 seconds

