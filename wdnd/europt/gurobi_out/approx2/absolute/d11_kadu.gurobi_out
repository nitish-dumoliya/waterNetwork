Water Network: 11
Results smooth approximation 2 of Hazen--Williams headloss constraint using absolute error

*******************************************************************************
wdnmodel.mod

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 600
  lim:time = 600
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-05
  mip:gapabs = 1.0000000000000001e-05
Set parameter MIPGap to value 1e-06
  mip:gap = 9.9999999999999995e-07
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1.0000000000000001e-05
  cvt:pre:feastol = 1.0000000000000001e-05
  cvt:pre:feastolrel = 9.9999999999999995e-07
  sol:chk:feastol = 1.0000000000000001e-05
  sol:chk:feastolrel = 9.9999999999999995e-07

AMPL MP initial flat model has 534 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  58 linear; 136 quadratic;
Algebraic expressions:  34 div; 68 powconstexp;

AMPL MP final model has 772 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  92 linear; 136 quadratic;
Algebraic expressions:  34 div; 68 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  600
FeasibilityTol  1e-05
MIPGap  1e-06
MIPGapAbs  1e-05
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 92 rows, 772 columns and 642 nonzeros
Model fingerprint: 0x1d5e26ee
Model has 34 general nonlinear constraints (3332 nonlinear terms)
Variable types: 772 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+00]
  Objective range  [1e+03, 2e+04]
  Bounds range     [2e-11, 3e+03]
  RHS range        [3e-02, 3e+03]
Presolve model has 34 nlconstr
Added 2108 variables to disaggregate expressions.
Presolve removed 2 rows and 206 columns
Presolve time: 0.02s
Presolved: 8502 rows, 2675 columns, 20872 nonzeros
Presolved model has 1020 bilinear constraint(s)
Presolved model has 544 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 2675 continuous, 0 integer (0 binary)
Root barrier log...

Ordering time: 0.00s

Barrier statistics:
 AA' NZ     : 0.000e+00
 Factor NZ  : 3.400e+01
 Factor Ops : 3.400e+01 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   1.47749329e+09  0.00000000e+00  4.74e+03 0.00e+00  2.11e+06     2s
   1   1.68962301e+08 -2.36593035e+07  2.18e+02 5.54e+02  2.35e+05     2s
   2   7.22915899e+07  3.81057186e+07  2.27e-11 1.65e+02  4.14e+04     2s
   3   3.99698772e+07  3.63726426e+07  1.43e-11 4.12e+01  4.97e+03     2s
   4   3.75675710e+07  3.74512935e+07  7.22e-12 1.30e-02  1.23e+02     2s
   5   3.74584280e+07  3.74584243e+07  1.36e-12 5.46e-12  3.91e-03     2s
   6   3.74584250e+07  3.74584250e+07  1.36e-12 3.64e-12  3.91e-06     2s
   7   3.74584250e+07  3.74584250e+07  6.82e-13 5.46e-12  3.91e-12     2s

Barrier solved model in 7 iterations and 1.90 seconds (0.09 work units)
Optimal objective 3.74584250e+07

Extra simplex iterations after uncrush: 522

Root relaxation: objective 3.745842e+07, 559 iterations, 0.04 seconds (0.00 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 3.7458e+07    0  653          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0  657          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0  659          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0  660          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0  660          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0  662          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0  662          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0  641          - 3.7458e+07      -     -    2s
     0     2 3.7458e+07    0  641          - 3.7458e+07      -     -   17s
   833  1656 3.7458e+07   16  622          - 3.7458e+07      -   7.5   20s
  7705  6915 3.7458e+07  152  477          - 3.7458e+07      -   9.1   25s
  NLP heuristic elapsed time = 5.01s
 10108  6921 3.7458e+07   91    0          - 3.7458e+07      -   8.3   52s
 10109  6924 3.7458e+07   13  596          - 3.7458e+07      -   8.4   62s
 12144  7935 3.7458e+07   48  550          - 3.7458e+07      -   9.9   66s
 18431  7751 3.7458e+07   43  398          - 3.7458e+07      -  14.2   71s
 24852  7884 3.7458e+07   66  347          - 3.7458e+07      -  12.0   75s
 32564  9976 6.7414e+07  117  201          - 3.7458e+07      -  11.1   82s
 35609 10003 6.7414e+07  116  225          - 3.7458e+07      -  10.8   96s
 41169 15994 7.3228e+07  197  209          - 3.7458e+07      -   9.9  102s
 50714 22010 7.3228e+07  369  209          - 3.7458e+07      -   8.8  105s
 58887 28795 8.8997e+07   79  243          - 3.7458e+07      -   8.2  110s
 80343 47361 infeasible  557               - 3.7458e+07      -   6.4  116s
 100080 64409 infeasible 1048               - 3.7458e+07      -   5.1  120s
 124359 85215 infeasible 1657               - 3.7458e+07      -   4.1  126s
 140528 99709 infeasible 2077               - 3.7458e+07      -   3.7  130s
 160732 118091 infeasible 2607               - 3.7458e+07      -   3.3  135s
 184718 139986 infeasible 3236               - 3.7458e+07      -   2.9  140s
 203169 156866 infeasible 3719               - 3.7458e+07      -   2.7  145s
 225489 177312 infeasible 4299               - 3.7458e+07      -   2.5  150s
 246021 196095 infeasible 4861               - 3.7458e+07      -   2.3  155s
 263146 210566 infeasible 5311               - 3.7458e+07      -   2.2  161s
 273479 221233 infeasible 5629               - 3.7458e+07      -   2.1  166s
 286061 231935 infeasible 5964               - 3.7458e+07      -   2.1  171s
 301760 247802 infeasible 6354               - 3.7458e+07      -   2.0  175s
 313754 259123 infeasible 6667               - 3.7458e+07      -   1.9  180s
 325755 270562 infeasible 6908               - 3.7458e+07      -   1.9  185s
 341470 285515 infeasible 7235               - 3.7458e+07      -   1.8  190s
 353828 296774 infeasible 7483               - 3.7458e+07      -   1.8  196s
 373736 316276 infeasible 7875               - 3.7458e+07      -   1.7  200s
 380856 321726 infeasible 8021               - 3.7458e+07      -   1.7  205s
 391740 332493 infeasible 8256               - 3.7458e+07      -   1.7  211s
 407063 348045 infeasible 8564               - 3.7458e+07      -   1.6  215s
 427291 367331 infeasible 8961               - 3.7458e+07      -   1.6  220s
 447239 386355 infeasible 9349               - 3.7458e+07      -   1.5  226s
 463085 401601 infeasible 9649               - 3.7458e+07      -   1.5  230s
 474817 413226 3.7458e+07 5607  185          - 3.7458e+07      -   1.4  235s
 486470 423671 3.7458e+07 5790  185          - 3.7458e+07      -   1.4  240s
 508650 446866 3.7458e+07 6154  185          - 3.7458e+07      -   1.4  245s
 519024 457202 3.7458e+07 6303  185          - 3.7458e+07      -   1.4  250s
 538306 475491 3.7458e+07 6631  185          - 3.7458e+07      -   1.3  255s
 560412 498574 3.7458e+07 6977  185          - 3.7458e+07      -   1.3  260s
 566772 504936 3.7458e+07 7077  185          - 3.7458e+07      -   1.3  265s
 585852 523983 3.7458e+07 7381  185          - 3.7458e+07      -   1.3  270s
 601123 538202 3.7458e+07 7643  185          - 3.7458e+07      -   1.2  278s
 607704 545846 3.7458e+07 7741  185          - 3.7458e+07      -   1.2  280s
 619136 555438 3.7458e+07 7930  185          - 3.7458e+07      -   1.2  286s
 627086 563660 3.7458e+07 8006  185          - 3.7458e+07      -   1.2  291s
 637016 574088 3.7458e+07 8147  185          - 3.7458e+07      -   1.2  295s
 655128 593277 3.7458e+07 8435  185          - 3.7458e+07      -   1.2  301s
 658952 595991 3.7458e+07 8498  185          - 3.7458e+07      -   1.2  305s
 673145 611297 3.7458e+07 8721  185          - 3.7458e+07      -   1.2  310s
 692252 630392 3.7458e+07 9028  185          - 3.7458e+07      -   1.1  315s
 699869 636367 3.7458e+07 9154  185          - 3.7458e+07      -   1.1  320s
 707908 646054 3.7458e+07 9247  185          - 3.7458e+07      -   1.1  325s
 723163 661310 3.7458e+07 9499  185          - 3.7458e+07      -   1.1  330s
 732757 669432 3.7458e+07 9617  185          - 3.7458e+07      -   1.1  337s
 742768 679430 3.7458e+07 9763  185          - 3.7458e+07      -   1.1  344s
 745105 683248 3.7458e+07 9765  185          - 3.7458e+07      -   1.1  345s
 764243 702391 3.7458e+07 10091  185          - 3.7458e+07      -   1.1  351s
 779505 717621 3.7458e+07 10334  185          - 3.7458e+07      -   1.1  355s
 795214 732709 3.7458e+07 10594  185          - 3.7458e+07      -   1.0  360s
 814971 751810 3.7458e+07 10897  185          - 3.7458e+07      -   1.0  365s
 830467 765700 3.7458e+07 11146  179          - 3.7458e+07      -   1.0  373s
 832751 769584 3.7458e+07 11173  179          - 3.7458e+07      -   1.0  375s
 846836 783676 3.7458e+07 11378  179          - 3.7458e+07      -   1.0  380s
 862398 796829 3.7458e+07 11628  179          - 3.7458e+07      -   1.0  389s
 863880 800735 3.7458e+07 11632  179          - 3.7458e+07      -   1.0  390s
 879538 816413 3.7458e+07 11882  179          - 3.7458e+07      -   0.9  395s
 891303 825421 3.7458e+07 12069  179          - 3.7458e+07      -   0.9  401s
 896384 829388 3.7458e+07 12139  179          - 3.7458e+07      -   0.9  417s
 900515 837569 3.7458e+07 12204  179          - 3.7458e+07      -   0.9  420s
 916964 854047 3.7458e+07 12464  179          - 3.7458e+07      -   0.9  425s
 925203 858931 3.7458e+07 12603  179          - 3.7458e+07      -   0.9  430s
 930092 866585 3.7458e+07 12665  179          - 3.7458e+07      -   0.9  437s
 941899 878995 3.7458e+07 12676  179          - 3.7458e+07      -   0.9  440s
 949531 886601 3.7458e+07 12675  179          - 3.7458e+07      -   0.9  446s
 966123 903230 3.7458e+07 12675  179          - 3.7458e+07      -   0.9  451s
 978566 915673 3.7458e+07 12675  179          - 3.7458e+07      -   0.8  455s
 990971 925527 3.7458e+07 12676  179          - 3.7458e+07      -   0.8  461s
 1000861 937905 3.7458e+07 12676  179          - 3.7458e+07      -   0.8  468s
 1004956 938676 3.7458e+07 12674  179          - 3.7458e+07      -   0.8  472s
 1009918 944352 3.7458e+07 12676  179          - 3.7458e+07      -   0.8  477s
 1019752 956891 3.7458e+07 12676  179          - 3.7458e+07      -   0.8  481s
 1032291 969430 3.7458e+07 12676  179          - 3.7458e+07      -   0.8  485s
 1044824 978916 3.7458e+07 12676  179          - 3.7458e+07      -   0.8  492s
 1050157 987296 3.7458e+07 12674  179          - 3.7458e+07      -   0.8  495s
 1062696 999083 3.7458e+07 12673  179          - 3.7458e+07      -   0.8  502s
 1074530 1011669 3.7458e+07 12670  179          - 3.7458e+07      -   0.8  506s
 1078720 1012875 3.7458e+07 12673  179          - 3.7458e+07      -   0.8  510s
 1092497 1029606 3.7458e+07 12676  179          - 3.7458e+07      -   0.8  515s
 1098142 1035281 3.7458e+07 12673  179          - 3.7458e+07      -   0.8  520s
 1114873 1052012 3.7458e+07 12675  179          - 3.7458e+07      -   0.7  525s
 1131542 1066285 3.7458e+07 12661  179          - 3.7458e+07      -   0.7  532s
 1137505 1072838 3.7458e+07 12676  179          - 3.7458e+07      -   0.7  537s
 1148276 1085415 3.7458e+07 12675  179          - 3.7458e+07      -   0.7  540s
 1154664 1091803 3.7458e+07 12676  179          - 3.7458e+07      -   0.7  545s
 1171394 1107006 3.7458e+07 12674  179          - 3.7458e+07      -   0.7  551s
 1182440 1115605 3.7458e+07 12676  179          - 3.7458e+07      -   0.7  557s
 1191069 1128209 3.7458e+07 12675  179          - 3.7458e+07      -   0.7  560s
 1212048 1149153 3.7458e+07 12671  179          - 3.7458e+07      -   0.7  565s
 1232936 1170043 3.7458e+07 12676  179          - 3.7458e+07      -   0.7  570s
 1241173 1177041 3.7458e+07 12676  179          - 3.7458e+07      -   0.7  576s
 1244134 1180980 3.7458e+07 12671  179          - 3.7458e+07      -   0.7  580s
 1260581 1197678 3.7458e+07 12676  179          - 3.7458e+07      -   0.7  585s
 1281352 1218397 3.7458e+07 12673  179          - 3.7458e+07      -   0.7  590s
 1297955 1234970 3.7458e+07 12676  179          - 3.7458e+07      -   0.6  595s
 1310606 1245871 3.7458e+07 12671  179          - 3.7458e+07      -   0.6  600s

Explored 1312984 nodes (834440 simplex iterations) in 600.12 seconds (84.03 work units)
Thread count was 32 (of 64 available processors)

Solution count 0

Time limit reached
Best objective -, best bound 3.745842500000e+07, gap -
Gurobi 12.0.3: time limit, without a feasible solution
834440 simplex iterations
14 barrier iterations
1.31298e+06 branching nodes
eps [*,*]
:        3             4             5             6             7         :=
1   2.64318e-05    .             .             .             .
3    .            1.53579e-05    .             .             .
4    .             .            1.42661e-05    .             .
5    .             .             .            1.63529e-05    .
6    .             .             .             .            1.06332e-05

:         8            9            10            11            12         :=
4     .            1.5564e-05    .             .             .
6     .             .           1.15051e-05    .             .
7    1.81795e-05    .            .             .             .
9     .             .           1.67276e-05    .             .
10    .             .            .            2.59679e-05    .
11    .             .            .             .            2.00603e-05

:        13            14            15           16            17         :=
2     .            3.20455e-05    .            .             .
8    1.26467e-05   1.61159e-05    .            .             .
9     .             .            1.4605e-05    .             .
12   9.59375e-06    .             .            .             .
13    .             .             .           1.31052e-05    .
14    .             .             .            .            1.72676e-05

:        18            19            20            21            22         :=
10    .            1.74106e-05    .             .             .
13    .             .            1.60011e-05    .             .
15   1.50628e-05    .             .             .             .
16    .             .             .            1.7128e-05     .
17    .             .             .            1.32357e-05   1.63529e-05
19    .             .            1.26758e-05    .             .
20    .             .             .            1.39486e-05    .

:        23            24            25            26         :=
18   1.61159e-05    .             .             .
19    .            1.4605e-05     .             .
20    .             .            1.74106e-05    .
21    .             .             .            1.0928e-05
22    .             .             .            7.30128e-06
23    .            1.26758e-05    .             .
24    .             .            1.05284e-05    .
25    .             .             .            1.18765e-05
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 35781.0869
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 1,3             |            0 |                      100 |                    100 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,14            |            0 |                       95 |                     95 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,4             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,9             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,10            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,13            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,14            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,15            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,11           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,19           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,12           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,13           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,16           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,20           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,17           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,18           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 16,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,22           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,23           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,20           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,24           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,25           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 23,24           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,25           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 25,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 195.0
Sum of violation of approx headloss constraint: 195.0

Con2 sum of absolute violation between original function and approximate function: 0.0
Con2 sum of relative violation between original function and approximate function: 0.0
*******************************************************************************

Total cost using gurobi: 0.0
gurobi solve time: 601.65 seconds
*******************************************************************************

