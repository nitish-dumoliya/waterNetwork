Water Network: 6
Results smooth approximation 2 of Hazen--Williams headloss constraint using absolute error

*******************************************************************************

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 600
  lim:time = 600
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-05
  mip:gapabs = 1.0000000000000001e-05
Set parameter MIPGap to value 1e-06
  mip:gap = 9.9999999999999995e-07
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1.0000000000000001e-05
  cvt:pre:feastol = 1.0000000000000001e-05
  cvt:pre:feastolrel = 9.9999999999999995e-07
  sol:chk:feastol = 1.0000000000000001e-05
  sol:chk:feastolrel = 9.9999999999999995e-07

AMPL MP initial flat model has 397 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  61 linear; 147 quadratic;
Algebraic expressions:  42 div; 84 powconstexp;

AMPL MP final model has 670 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  103 linear; 147 quadratic;
Algebraic expressions:  42 div; 84 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  600
FeasibilityTol  1e-05
MIPGap  1e-06
MIPGapAbs  1e-05
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 103 rows, 670 columns and 580 nonzeros
Model fingerprint: 0x258806ea
Model has 42 general nonlinear constraints (861 nonlinear terms)
Variable types: 670 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+00]
  Objective range  [3e+02, 3e+03]
  Bounds range     [5e-07, 1e+04]
  RHS range        [3e-02, 1e+04]
Presolve model has 42 nlconstr
Added 987 variables to disaggregate expressions.
Presolve removed 23 rows and 256 columns
Presolve time: 0.01s
Presolved: 3146 rows, 1402 columns, 7540 nonzeros
Presolved model has 441 bilinear constraint(s)
Presolved model has 126 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 1402 continuous, 0 integer (0 binary)
Root barrier log...

Ordering time: 0.00s

Barrier statistics:
 AA' NZ     : 0.000e+00
 Factor NZ  : 2.100e+01
 Factor Ops : 2.100e+01 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   7.94254489e+08  0.00000000e+00  2.16e+04 0.00e+00  1.54e+06     2s
   1   9.23779594e+07  1.35499109e+07  8.64e-12 9.25e+01  1.38e+05     2s
   2   4.48547936e+07  3.45281279e+07  2.29e-10 2.11e+01  1.95e+04     2s
   3   3.43837229e+07  3.40084116e+07  2.32e-10 4.30e-01  6.74e+02     2s
   4   3.42017075e+07  3.42012116e+07  1.46e-10 9.09e-13  7.87e-01     2s
   5   3.42014594e+07  3.42014593e+07  5.46e-12 9.09e-13  8.56e-07     2s
   6   3.42014594e+07  3.42014593e+07  3.64e-12 9.09e-13  8.56e-10     2s

Barrier solved model in 6 iterations and 2.41 seconds (0.08 work units)
Optimal objective 3.42014594e+07

Extra simplex iterations after uncrush: 315

Root relaxation: objective 3.420146e+07, 339 iterations, 0.04 seconds (0.00 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 3.4201e+07    0  493          - 3.4201e+07      -     -    2s
     0     0 3.4201e+07    0  493          - 3.4201e+07      -     -    2s
     0     0 3.4201e+07    0  496          - 3.4201e+07      -     -    2s
     0     0 3.4201e+07    0  503          - 3.4201e+07      -     -    2s
     0     0 3.4201e+07    0  508          - 3.4201e+07      -     -    2s
     0     0 3.4201e+07    0  507          - 3.4201e+07      -     -    2s
     0     2 3.4201e+07    0  507          - 3.4201e+07      -     -   15s
  2689  4256 3.4201e+07   19  407          - 3.4201e+07      -  17.1   20s
  8759  7482 3.4201e+07  103  291          - 3.4201e+07      -  15.6   25s
  NLP heuristic elapsed time = 5.02s
 10667  7484 3.4201e+07  119    0          - 3.4201e+07      -  15.2   32s
 10675  7489 3.4201e+07   69    0          - 3.4201e+07      -  15.2   51s
 10676  7493 3.4201e+07   15  504          - 3.4201e+07      -  15.2   58s
 10678  7496 3.4201e+07   16  485          - 3.4201e+07      -  15.2   66s
 13093  9992 3.4201e+07   52  342          - 3.4201e+07      -  15.7   70s
 17146 11064 3.4201e+07   39  342          - 3.4201e+07      -  15.1   76s
 21760 10974 3.4201e+07   85  270          - 3.4201e+07      -  14.5   80s
 26705 10523 3.4201e+07  100  262          - 3.4201e+07      -  13.5   86s
 29269 10148 infeasible  108               - 3.4201e+07      -  13.0   90s
 35376  9661 3.4201e+07   50  326          - 3.4201e+07      -  11.8   96s
 38607  9971 3.4201e+07   70  268          - 3.4201e+07      -  11.2  100s
 44303 10758 infeasible  102               - 3.4201e+07      -  10.5  106s
 46324 10798 infeasible  109               - 3.4201e+07      -  10.4  117s
 49122 12149 3.4201e+07   72  331          - 3.4201e+07      -  10.3  121s
 54759 13312 3.4201e+07   86  314          - 3.4201e+07      -  10.0  127s
 57734 13886 3.4201e+07  190  344          - 3.4201e+07      -   9.9  130s
 63530 15054 3.4201e+07  244  277          - 3.4201e+07      -   9.7  136s
 66646 15722 3.4201e+07  267  277          - 3.4201e+07      -   9.6  140s
 74047 16925 4.2487e+07  313  259          - 3.4201e+07      -   9.2  146s
 78209 17476 3.4201e+07  343  276          - 3.4201e+07      -   9.1  150s
 86944 18622 3.4201e+07  400  277          - 3.4201e+07      -   8.7  156s
 91416 19201 3.4201e+07  429  277          - 3.4201e+07      -   8.6  160s
 100528 20374 3.4201e+07  488  277          - 3.4201e+07      -   8.3  167s
 104862 20955 3.4201e+07  517  277          - 3.4201e+07      -   8.3  170s
 115533 21976 4.4496e+07  571  260          - 3.4201e+07      -   7.9  178s
 120700 22494 3.4201e+07  604  277          - 3.4201e+07      -   7.8  181s
 130722 23483 3.4201e+07  660  277          - 3.4201e+07      -   7.5  187s
 135635 23928 3.4201e+07  687  276          - 3.4201e+07      -   7.4  190s
 144800 24588 3.4201e+07  724  276          - 3.4201e+07      -   7.2  196s
 154604 25066 3.4201e+07  761  277          - 3.4201e+07      -   7.0  202s
 159662 25291 3.4201e+07  781  277          - 3.4201e+07      -   6.8  205s
 169567 25675 3.4201e+07  817  277          - 3.4201e+07      -   6.6  211s
 174389 25827 3.4201e+07  836  276          - 3.4201e+07      -   6.5  215s
 183857 26167 3.4201e+07  875  276          - 3.4201e+07      -   6.4  222s
 188401 26267 3.4201e+07  895  276          - 3.4201e+07      -   6.3  225s
 197367 26513 3.4201e+07  936  276          - 3.4201e+07      -   6.2  232s
 206172 26784 3.4201e+07  974  277          - 3.4201e+07      -   6.1  238s
 210790 26863 infeasible  992               - 3.4201e+07      -   6.0  241s
 219545 27108 3.4201e+07 1030  277          - 3.4201e+07      -   5.9  247s
 224208 27166 3.4201e+07 1050  277          - 3.4201e+07      -   5.9  250s
 232727 27317 3.4201e+07 1090  277          - 3.4201e+07      -   5.8  256s
 237103 27430 3.4201e+07 1110  277          - 3.4201e+07      -   5.8  260s
 245408 27613 3.4201e+07 1150  277          - 3.4201e+07      -   5.7  266s
 249091 27800 3.4201e+07 1170  277          - 3.4201e+07      -   5.7  270s
 256367 28538 3.4201e+07 1210  277          - 3.4201e+07      -   5.7  277s
 259692 28883 3.4201e+07 1230  277          - 3.4201e+07      -   5.7  281s
 266273 29541 3.4201e+07 1269  277          - 3.4201e+07      -   5.7  288s
 269469 30036 3.4201e+07 1289  277          - 3.4201e+07      -   5.7  291s
 272440 30537 infeasible 1308               - 3.4201e+07      -   5.7  295s
 278594 31407 3.4201e+07 1348  277          - 3.4201e+07      -   5.8  301s
 281771 31884 3.4201e+07 1368  277          - 3.4201e+07      -   5.8  305s
 288252 32813 3.4201e+07 1407  277          - 3.4201e+07      -   5.8  313s
 291659 33207 3.4201e+07 1427  277          - 3.4201e+07      -   5.8  317s
 294913 33531 3.4201e+07 1447  277          - 3.4201e+07      -   5.8  323s
 297875 33848 3.4201e+07 1467  277          - 3.4201e+07      -   5.8  328s
 300810 34144 3.4201e+07 1487  277          - 3.4201e+07      -   5.8  334s
 303694 34434 3.4201e+07 1507  277          - 3.4201e+07      -   5.8  339s
 306620 34652 3.4201e+07 1527  277          - 3.4201e+07      -   5.8  344s
 309412 34896 3.4201e+07 1547  277          - 3.4201e+07      -   5.8  349s
 312256 35148 3.4201e+07 1567  277          - 3.4201e+07      -   5.9  354s
 315372 35389 3.4201e+07 1587  277          - 3.4201e+07      -   5.9  358s
 318241 35575 infeasible 1607               - 3.4201e+07      -   5.9  363s
 321101 35781 3.4201e+07 1626  277          - 3.4201e+07      -   5.9  366s
 326835 36135 3.4201e+07 1666  277          - 3.4201e+07      -   5.9  373s
 329727 36316 3.4201e+07 1686  277          - 3.4201e+07      -   5.9  377s
 332694 36511 3.4201e+07 1706  277          - 3.4201e+07      -   5.9  381s
 335607 36656 3.4201e+07 1726  277          - 3.4201e+07      -   5.9  385s
 341628 36905 3.4201e+07 1766  277          - 3.4201e+07      -   6.0  392s
 344579 37158 3.4201e+07 1786  277          - 3.4201e+07      -   6.0  396s
 347400 37417 3.4201e+07 1806  277          - 3.4201e+07      -   6.0  400s
 352926 37921 3.4201e+07 1846  277          - 3.4201e+07      -   6.0  408s
 355703 38176 3.4201e+07 1866  277          - 3.4201e+07      -   6.0  411s
 358476 38404 3.4201e+07 1886  277          - 3.4201e+07      -   6.1  416s
 361142 38642 infeasible 1907               - 3.4201e+07      -   6.1  420s
 363844 38677 3.4201e+07 1927  277          - 3.4201e+07      -   6.1  429s
 364295 38830 infeasible 1937               - 3.4201e+07      -   6.1  433s
 366974 38971 3.4201e+07 1957  277          - 3.4201e+07      -   6.1  438s
 369629 39107 3.4201e+07 1978  277          - 3.4201e+07      -   6.1  444s
 372293 39271 3.4201e+07 1999  277          - 3.4201e+07      -   6.1  451s
 375019 39406 3.4201e+07 2020  277          - 3.4201e+07      -   6.1  457s
 377694 39557 3.4201e+07 2041  277          - 3.4201e+07      -   6.2  461s
 380391 39678 3.4201e+07 2062  277          - 3.4201e+07      -   6.2  466s
 383148 39789 3.4201e+07 2083  277          - 3.4201e+07      -   6.2  470s
 388808 40022 3.4201e+07 2125  277          - 3.4201e+07      -   6.2  478s
 391616 40139 3.4201e+07 2146  277          - 3.4201e+07      -   6.2  483s
 394399 40241 infeasible 2168               - 3.4201e+07      -   6.2  487s
 397189 40368 3.4201e+07 2189  277          - 3.4201e+07      -   6.2  492s
 400008 40478 infeasible 2211               - 3.4201e+07      -   6.3  496s
 402792 40582 3.4201e+07 2232  277          - 3.4201e+07      -   6.3  500s
 405588 40684 infeasible 2254               - 3.4201e+07      -   6.3  505s
 411188 40907 3.4201e+07 2297  277          - 3.4201e+07      -   6.3  512s
 413991 41035 3.4201e+07 2319  277          - 3.4201e+07      -   6.3  516s
 416689 41141 3.4201e+07 2341  277          - 3.4201e+07      -   6.3  521s
 419373 41251 3.4201e+07 2363  277          - 3.4201e+07      -   6.3  525s
 424800 41463 3.4201e+07 2407  277          - 3.4201e+07      -   6.4  534s
 427509 41606 3.4201e+07 2429  277          - 3.4201e+07      -   6.4  538s
 430176 41808 3.4201e+07 2451  277          - 3.4201e+07      -   6.4  543s
 432828 41945 3.4201e+07 2473  277          - 3.4201e+07      -   6.4  547s
 435525 42076 3.4201e+07 2495  277          - 3.4201e+07      -   6.4  551s
 438994 42204 3.4201e+07 2517  277          - 3.4201e+07      -   6.4  556s
 442520 42339 3.4201e+07 2539  277          - 3.4201e+07      -   6.4  560s
 449462 42608 3.4201e+07 2583  277          - 3.4201e+07      -   6.4  569s
 452974 42741 3.4201e+07 2605  277          - 3.4201e+07      -   6.4  573s
 456491 42878 3.4201e+07 2627  277          - 3.4201e+07      -   6.4  577s
 459970 43002 3.4201e+07 2649  277          - 3.4201e+07      -   6.4  581s
 463488 43099 3.4201e+07 2671  277          - 3.4201e+07      -   6.4  585s
 470853 43364 3.4201e+07 2715  277          - 3.4201e+07      -   6.4  592s
 474342 43586 3.4201e+07 2737  277          - 3.4201e+07      -   6.4  596s
 481326 43849 3.4201e+07 2781  277          - 3.4201e+07      -   6.4  600s

Explored 481867 nodes (3082087 simplex iterations) in 600.02 seconds (72.23 work units)
Thread count was 32 (of 64 available processors)

Solution count 0

Time limit reached
Best objective -, best bound 3.420145935000e+07, gap -
Gurobi 12.0.3: time limit, without a feasible solution
3.08209e+06 simplex iterations
12 barrier iterations
481867 branching nodes
eps [*,*] (tr)
:        1            2            3           4            5            6   :=
2    0.00215775    .            .           .            .            .
3     .           0.00161666    .           .            .            .
4     .            .           0.0027708    .            .            .
5     .            .            .          0.00258523    .            .
6     .            .            .           .           0.00253614    .
7     .            .            .           .            .           0.00164839
15   0.00184516    .            .           .            .            .

:       7            8            9            10           11           12  :=
8   0.00238989    .            .            .            .            .
9    .           0.00207242    .            .           0.00219903    .
10
     .            .           0.00238989    .            .            .
11
     .            .            .            .            .           0.00191282
16
     .            .           0.00138407    .            .            .
17
     .            .            .           0.00138407    .            .
18
     .            .            .            .            .           0.00126469
20
     .            .            .            .           0.00191998    .

:        13          14           15           18           20        :=
12   0.00209979    .           .            .            .
13    .           0.0014539    .            .            .
14    .            .          0.00156209    .            .
16    .            .           .            .           0.00113056
19    .            .           .           0.00145716    .
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 113402.72924490001
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 1,2             |            0 |                   182.88 |                 182.88 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 1,15            |            0 |                   182.88 |                 182.88 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,3             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,4             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,9             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,16            |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,17           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,9            |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,20           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,11           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,18           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,12           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,13           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,14           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,19           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,16           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 365.76
Sum of violation of approx headloss constraint: 365.76

Con2 sum of absolute violation between original function and approximate function: 0.0
Con2 sum of relative violation between original function and approximate function: 0.0
*******************************************************************************

Total cost using gurobi: 0.0
gurobi solve time: 600.31 seconds
*******************************************************************************

