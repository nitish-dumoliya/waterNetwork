Water Network: 7
Results smooth approximation 2 of Hazen--Williams headloss constraint using absolute error

*******************************************************************************

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 600
  lim:time = 600
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-05
  mip:gapabs = 1.0000000000000001e-05
Set parameter MIPGap to value 1e-06
  mip:gap = 9.9999999999999995e-07
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1.0000000000000001e-05
  cvt:pre:feastol = 1.0000000000000001e-05
  cvt:pre:feastolrel = 9.9999999999999995e-07
  sol:chk:feastol = 1.0000000000000001e-05
  sol:chk:feastolrel = 9.9999999999999995e-07

AMPL MP initial flat model has 379 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  53 linear; 102 quadratic;
Algebraic expressions:  27 div; 54 powconstexp;

AMPL MP final model has 563 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  80 linear; 102 quadratic;
Algebraic expressions:  27 div; 54 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  600
FeasibilityTol  1e-05
MIPGap  1e-06
MIPGapAbs  1e-05
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 80 rows, 563 columns and 497 nonzeros
Model fingerprint: 0x9f90aae6
Model has 27 general nonlinear constraints (729 nonlinear terms)
Variable types: 563 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [2e-08, 2e+00]
  Objective range  [5e-01, 3e+02]
  Bounds range     [1e-13, 6e+04]
  RHS range        [7e-04, 7e+02]
Presolve model has 27 nlconstr
Added 825 variables to disaggregate expressions.
Presolve removed 8 rows and 167 columns
Presolve time: 0.01s
Presolved: 2427 rows, 1222 columns, 5678 nonzeros
Presolved model has 375 bilinear constraint(s)
Presolved model has 81 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 1222 continuous, 0 integer (0 binary)
Root barrier log...

Ordering time: 0.00s

Barrier statistics:
 AA' NZ     : 1.000e+00
 Factor NZ  : 2.500e+01
 Factor Ops : 2.700e+01 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   2.40022291e+06  5.55834233e+04  8.55e+02 0.00e+00  5.47e+03     2s
   1   3.09612556e+05 -3.25735576e+04  7.78e+01 3.20e+00  6.70e+02     2s
   2   9.17736595e+04  4.99350112e+04  2.27e-13 5.23e-01  6.83e+01     2s
   3   6.15037222e+04  5.68525644e+04  3.30e-12 1.25e-01  7.91e+00     2s
   4   5.81203613e+04  5.76516853e+04  1.52e-12 1.33e-02  8.05e-01     2s
   5   5.78643788e+04  5.78425583e+04  1.20e-12 9.01e-05  3.44e-02     2s
   6   5.78462812e+04  5.78462589e+04  2.27e-13 5.68e-14  3.44e-05     2s
   7   5.78462631e+04  5.78462631e+04  1.71e-13 5.68e-14  3.44e-11     2s

Barrier solved model in 7 iterations and 1.68 seconds (0.06 work units)
Optimal objective 5.78462631e+04

Extra simplex iterations after uncrush: 321

Root relaxation: objective 5.784626e+04, 346 iterations, 0.00 seconds (0.00 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 57846.2631    0  422          - 57846.2631      -     -    1s
     0     0 60267.4509    0  403          - 60267.4509      -     -    1s
     0     0 60267.4509    0  403          - 60267.4509      -     -    1s
     0     0 60267.4509    0  403          - 60267.4509      -     -    1s
     0     0 60267.4509    0  403          - 60267.4509      -     -    1s
     0     2 60267.4509    0  403          - 60267.4509      -     -   12s
  2465  3087 60267.4509   44  306          - 60267.4509      -   1.6   15s
  NLP heuristic elapsed time = 5.02s
  5928  4196 63490.0361   12    0          - 60267.4509      -   3.4   39s
  5929  4200 60570.6393   14  366          - 60570.6393      -   3.5   43s
  7570  4626 infeasible   34               - 60570.6393      -   4.1   45s
 21576  3873 infeasible   81               - 60570.6393      -   4.1   50s
 39400  4795 infeasible  156               - 60570.6393      -   2.7   55s
 61505  5788 infeasible  543               - 60570.6393      -   2.0   60s
 81646  6048 infeasible  877               - 60570.6393      -   1.5   65s
 98793  6283 infeasible 1163               - 60570.6393      -   1.3   70s
 115596  6414 infeasible 1431               - 60570.6393      -   1.1   76s
 131791  6425 infeasible 1689               - 60570.6393      -   1.0   80s
 144565  6490 infeasible 1889               - 60570.6393      -   0.9   85s
 160817  6598 infeasible 2152               - 60570.6393      -   0.8   91s
 172904  6715 infeasible 2309               - 60570.6393      -   0.8   95s
 189800  6800 infeasible 2567               - 60570.6393      -   0.7  101s
 201733  7063 infeasible 2752               - 60570.6393      -   0.7  105s
 216569  7375 infeasible 2989               - 60570.6393      -   0.7  110s
 231665  7767 infeasible 3230               - 60570.6393      -   0.6  115s
 249546  8324 infeasible 3526               - 60570.6393      -   0.6  120s
 261198  8553 infeasible 3716               - 60570.6393      -   0.6  127s
 271778  8611 infeasible 3883               - 60570.6393      -   0.6  130s
 286370  8676 infeasible 4108               - 60570.6393      -   0.6  135s
 301128  8774 infeasible 4329               - 60570.6393      -   0.5  140s
 319420  8936 infeasible 4620               - 60570.6393      -   0.5  146s
 323726  9103 infeasible 4686               - 60570.6393      -   0.5  156s
 354202  9154 66780.7160 5165  177          - 60570.6393      -   0.5  160s
 368133  9165 66780.7160 5366  166          - 60570.6393      -   0.5  165s
 385141  9164 infeasible 5635               - 60570.6393      -   0.4  171s
 398336  9166 infeasible 5843               - 60570.6393      -   0.4  175s
 414678  9196 infeasible 6098               - 60570.6393      -   0.4  182s
 426264  9212 infeasible 6291               - 60570.6393      -   0.4  185s
 444652  9213 infeasible 6581               - 60570.6393      -   0.4  190s
 460483  9243 infeasible 6780               - 60570.6393      -   0.4  195s
 475303  9251 infeasible 7031               - 60570.6393      -   0.4  200s
 493544  9348 infeasible 7342               - 60570.6393      -   0.3  205s
 507903  9559 67027.9516 7598  190          - 60570.6393      -   0.3  210s
 524033 10109 infeasible 7909               - 60570.6393      -   0.3  215s
 537829 10277 infeasible 8157               - 60570.6393      -   0.3  220s
 553870 10546 infeasible 8433               - 60570.6393      -   0.3  225s
 566205 11200 60570.6393   86  190          - 60570.6393      -   0.3  230s
 576235 11660 73081.6644  105  157          - 60570.6393      -   0.4  235s
 590937 12523 infeasible  168               - 60570.6393      -   0.4  241s
 600148 12946 infeasible   64               - 60570.6393      -   0.4  245s
 612088 13335 60570.6393   70  168          - 60570.6393      -   0.4  250s
 625578 13792 64843.0931   33  220          - 60570.6393      -   0.4  255s
 638779 14123 infeasible   66               - 60570.6393      -   0.4  260s
 652294 14444 60570.6393   78  191          - 60570.6393      -   0.4  266s
 661323 14713 infeasible  220               - 60570.6393      -   0.4  270s
 673700 14875 infeasible  420               - 60570.6393      -   0.4  275s
 688158 14975 infeasible  664               - 60570.6393      -   0.4  281s
 701257 15238 74786.8305   83  120          - 60570.6393      -   0.4  285s
 715807 15335 infeasible  324               - 60570.6393      -   0.4  290s
 726891 15441 infeasible  508               - 60570.6393      -   0.4  296s
 741140 15565 infeasible  747               - 60570.6393      -   0.4  300s
 754429 15734 infeasible  984               - 60570.6393      -   0.4  305s
 767830 15938 infeasible 1223               - 60570.6393      -   0.4  310s
 781916 16176 infeasible 1458               - 60570.6393      -   0.4  315s
 795590 16225 infeasible 1695               - 60570.6393      -   0.3  321s
 809124 16254 infeasible 1929               - 60570.6393      -   0.3  325s
 823411 16431 infeasible 2168               - 60570.6393      -   0.3  330s
 836810 16682 infeasible 2389               - 60570.6393      -   0.3  335s
 851136 16872 infeasible 2633               - 60570.6393      -   0.3  340s
 869187 16952 infeasible 2933               - 60570.6393      -   0.3  346s
 882216 17017 infeasible 3165               - 60570.6393      -   0.3  350s
 892612 17189 infeasible 3350               - 60570.6393      -   0.3  355s
 906932 17253 infeasible 3593               - 60570.6393      -   0.3  360s
 920767 17409 infeasible 3837               - 60570.6393      -   0.3  365s
 934994 17445 infeasible 4077               - 60570.6393      -   0.3  371s
 947888 17473 infeasible 4295               - 60570.6393      -   0.3  375s
 965385 17615 infeasible 4598               - 60570.6393      -   0.3  381s
 976101 17678 infeasible 4781               - 60570.6393      -   0.3  385s
 987369 17781 infeasible 4972               - 60570.6393      -   0.3  390s
 997707 17872 infeasible 5154               - 60570.6393      -   0.3  395s
 1011360 18064 infeasible 5398               - 60570.6393      -   0.3  400s
 1024743 18287 infeasible 5641               - 60570.6393      -   0.3  405s
 1035387 18382 infeasible 5833               - 60570.6393      -   0.3  410s
 1044955 18470 infeasible 6005               - 60570.6393      -   0.3  415s
 1054584 18515 85419.1849 6174  178          - 60570.6393      -   0.3  420s
 1067926 18741 infeasible 6417               - 60570.6393      -   0.3  426s
 1077738 18942 85419.1849 6597  154          - 60570.6393      -   0.3  431s
 1087229 19273 infeasible 6781               - 60570.6393      -   0.3  435s
 1099986 19570 infeasible 7023               - 60570.6393      -   0.3  440s
 1112533 19786 infeasible 7263               - 60570.6393      -   0.3  445s
 1124809 20147 infeasible 7505               - 60570.6393      -   0.3  450s
 1134991 20372 85419.1849 7703  154          - 60570.6393      -   0.3  455s
 1147672 20590 infeasible 7935               - 60570.6393      -   0.3  460s
 1160965 20800 infeasible 8177               - 60570.6393      -   0.3  465s
 1177413 21089 infeasible 8481               - 60570.6393      -   0.3  470s
 1189257 21303 infeasible  179               - 60570.6393      -   0.3  476s
 1199855 21388 infeasible  364               - 60570.6393      -   0.3  481s
 1213395 21434 infeasible  603               - 60570.6393      -   0.3  485s
 1226975 21559 infeasible  841               - 60570.6393      -   0.3  490s
 1243283 21917 infeasible 1135               - 60570.6393      -   0.3  495s
 1255430 22139 infeasible 1347               - 60570.6393      -   0.3  500s
 1268368 22350 infeasible 1584               - 60570.6393      -   0.3  505s
 1278972 22464 infeasible 1771               - 60570.6393      -   0.3  510s
 1292159 22876 infeasible 2009               - 60570.6393      -   0.3  515s
 1312043 23245 infeasible 2366               - 60570.6393      -   0.3  520s
 1331429 23565 infeasible 2727               - 60570.6393      -   0.3  525s
 1358717 23889 infeasible 3207               - 60570.6393      -   0.3  530s
 1383795 24264 infeasible 3648               - 60570.6393      -   0.3  535s
 1405996 24615 infeasible 4061               - 60570.6393      -   0.3  540s
 1429943 24789 60570.6393  123  188          - 60570.6393      -   0.3  545s
 1452697 25150 infeasible  505               - 60570.6393      -   0.3  550s
 1473169 25444 infeasible  841               - 60570.6393      -   0.3  555s
 1499874 25532 infeasible 1302               - 60570.6393      -   0.3  560s
 1519437 25570 infeasible 1609               - 60570.6393      -   0.3  565s
 1540900 25651 64922.3276 1904  167          - 60570.6393      -   0.3  570s
 1563599 25803 67554.7913 2171  155          - 60570.6393      -   0.3  575s
 1583175 25875 infeasible 2526               - 60570.6393      -   0.3  580s
 1604963 26117 infeasible 2916               - 60570.6393      -   0.3  585s
 1624680 26222 infeasible 3289               - 60570.6393      -   0.3  590s
 1647021 26326 infeasible 3711               - 60570.6393      -   0.3  595s

Explored 1668652 nodes (464592 simplex iterations) in 600.02 seconds (41.07 work units)
Thread count was 32 (of 64 available processors)

Solution count 0

Time limit reached
Best objective -, best bound 6.057063933051e+04, gap -
Gurobi 12.0.3: time limit, without a feasible solution
464592 simplex iterations
14 barrier iterations
1.66865e+06 branching nodes
eps [*,*] (tr)
:         0             1             2             3             4         :=
1    6.65097e-07    .             .             .             .
2     .            5.66942e-07    .             .             .
3     .             .            8.38227e-07    .             .
4    1.90574e-06    .             .             .             .
5     .             .             .             .            7.47452e-07
8     .            2.18185e-06    .             .             .
11    .             .            2.15126e-06    .             .
13    .             .            1.4822e-06     .             .
17    .             .             .            9.53855e-07    .
18    .             .             .            7.28667e-07    .

:         5             6             7             8             9         :=
6    1.05695e-06    .             .             .             .
7     .            2.80215e-06    .             .             .
8     .             .            1.25746e-06    .             .
10    .             .             .             .            1.20849e-06
12    .             .             .             .            3.62405e-06
21   1.02574e-06    .             .             .             .
25    .             .             .             .            1.26235e-06
29    .             .            1.83537e-06    .             .
30    .             .             .            2.58889e-06    .

:        11            12            13            14            15         :=
11    .            8.73317e-07    .             .             .
14    .             .            9.07627e-07    .             .
15   1.49798e-06    .             .             .             .
16    .             .             .             .            9.12942e-07
17    .             .             .             .            7.82369e-07
23    .             .             .            1.32183e-06    .

:        18            21            22            23            24         :=
13    .             .            9.52144e-07    .             .
19   7.75269e-07    .             .             .            8.00423e-07
20    .            2.55155e-06    .             .             .
22    .             .             .            1.38365e-06    .
24   7.18563e-07    .             .             .             .

:        26            29         :=
9    1.59114e-06    .
26    .            9.31767e-07
27   1.46189e-06    .
28   1.24947e-06    .
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 26124.86266305898
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 0,1             |   0          |             715.56       |           715.56       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 0,4             |   0          |             715.56       |           715.56       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 1,2             |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 1,8             |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,3             |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,11            |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,13            |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,17            |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,18            |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,29            |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,30            |   0.00323968 |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,12            |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,11           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,23           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,17           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,19           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,24           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,20           |   0.00069147 |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,9            |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,21            |   0.00393115 |              -0.0936466  |            -0.0936466  |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |   0.00328763 |              -0.0496397  |            -0.0496397  |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,25            |   0.00325167 |              -0.0448656  |            -0.0448656  |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,15           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,14           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,16           |   0.00328763 |              -0.00693429 |            -0.00693429 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,13           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 23,22           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,19           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,27           |   0.00321508 |              -0.0334794  |            -0.0334794  |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,28           |   0.00161385 |              -0.0124941  |            -0.0124941  |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 29,26           |   0          |               0          |             0          |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 1431.3610596689712
Sum of violation of approx headloss constraint: 1431.3610596689712

Con2 sum of absolute violation between original function and approximate function: 9.8879238130678e-16
Con2 sum of relative violation between original function and approximate function: 5.490195880548256e-14
*******************************************************************************

Total cost using gurobi: 55583.42331599999
gurobi solve time: 600.37 seconds
*******************************************************************************

