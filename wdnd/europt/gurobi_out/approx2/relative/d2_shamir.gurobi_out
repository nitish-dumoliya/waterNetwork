Water Network: 2
Results smooth approximation 2 of Hazen--Williams headloss constraint using relative error

*******************************************************************************
wdnmodel.mod

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 600
  lim:time = 600
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-05
  mip:gapabs = 1.0000000000000001e-05
Set parameter MIPGap to value 1e-06
  mip:gap = 9.9999999999999995e-07
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1.0000000000000001e-05
  cvt:pre:feastol = 1.0000000000000001e-05
  cvt:pre:feastolrel = 9.9999999999999995e-07
  sol:chk:feastol = 1.0000000000000001e-05
  sol:chk:feastolrel = 9.9999999999999995e-07

AMPL MP initial flat model has 126 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  14 linear; 32 quadratic;
Algebraic expressions:  8 div; 16 powconstexp;

AMPL MP final model has 182 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  22 linear; 32 quadratic;
Algebraic expressions:  8 div; 16 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  600
FeasibilityTol  1e-05
MIPGap  1e-06
MIPGapAbs  1e-05
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 22 rows, 182 columns and 150 nonzeros
Model fingerprint: 0xa677527d
Model has 8 general nonlinear constraints (784 nonlinear terms)
Variable types: 182 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+00]
  Objective range  [2e+00, 6e+02]
  Bounds range     [3e-13, 3e+18]
  RHS range        [3e-02, 1e+03]
Warning: Model contains large bounds
Presolve model has 8 nlconstr
Added 496 variables to disaggregate expressions.
Presolve removed 0 rows and 48 columns
Presolve time: 0.01s
Presolved: 1774 rows, 631 columns, 3883 nonzeros
Presolved model has 240 bilinear constraint(s)
Presolved model has 128 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 631 continuous, 0 integer (0 binary)
Root barrier log...

Ordering time: 0.00s

Barrier statistics:
 AA' NZ     : 8.600e+01
 Factor NZ  : 1.910e+02
 Factor Ops : 1.433e+03 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   1.15760000e+14 -1.44545253e+19  6.71e+18 0.00e+00  4.07e+11     0s
   1   1.15760000e+14 -1.56495147e+36  6.71e+18 1.00e+00  1.70e+25     0s
   2   1.15760000e+14 -5.03216817e+22  6.71e+18 0.00e+00  4.21e+12     0s
   3   1.15760000e+14 -5.03216817e+22  6.71e+18 0.00e+00  4.21e+12     0s
   4   1.15759998e+14 -5.03216673e+22  6.71e+18 3.63e+02  1.70e+15     0s
   5*  1.15688901e+14 -4.98865280e+22  5.37e+14 1.79e-01  4.31e+10     0s
   6*  1.10059219e+14  2.35855837e+22  1.11e+13 5.52e-03  9.35e+08     0s
   7*  1.07492161e+14  6.60278626e+23  8.34e+12 5.16e-02  6.99e+08     0s
   8*  1.03850027e+14  1.34681217e+24  6.14e+12 7.90e-02  5.15e+08     0s
   9*  7.95454484e+13  6.81981218e+24  1.86e+12 1.51e-01  1.80e+08     0s
  10*  1.54163361e+13  3.63573576e+24  1.41e+11 2.70e-02  3.76e+07     0s
  11*  2.87407950e+11  1.14637384e+23  2.29e+09 7.39e-04  1.30e+06     0s
  12*  1.14177181e+10  8.54585937e+20  9.06e+07 1.60e-05  5.54e+04     0s
  13*  9.60981041e+06  6.96926308e+18  6.97e+04 5.13e-08  9.44e+01     0s
  14*  8.30247859e+05  2.25979213e+15  2.69e+01 5.34e-11  5.39e-02     0s
  15*  8.27298221e+05  7.40652260e+12  3.50e+00 4.98e-11  4.59e-03     0s
  16*  8.26914567e+05  6.39143029e+11  4.59e-01 2.14e-10  6.19e-04     0s
  17*  8.26854614e+05  8.21756356e+10  4.33e-05 2.52e-10  7.80e-07     0s
  18*  8.25400352e+05  7.83887805e+07  3.81e-06 2.11e-11  4.26e-10     0s
  19*  3.05375567e+05  2.20948140e+06  2.44e-16 5.37e-07  4.80e-12     0s
  20*  2.08033238e+04 -4.77413629e+04  9.68e-05 5.19e-07  5.66e-13     0s
  21*  1.69312295e+04  1.67415372e+04  8.77e-05 1.50e-09  8.77e-15     0s
  22*  1.75643865e+04 -6.57969940e+09  1.07e-04 7.92e+02  2.49e-08     0s
  23*  2.02088020e+04 -6.30649350e+07  1.07e-04 7.62e+00  2.66e-10     0s
  24*  1.86832045e+04 -6.01360852e+06  8.08e-05 3.36e-03  1.37e-13     0s
  25*  2.11576358e+04  4.02213961e+06  1.32e-04 5.18e-01  9.59e-13     0s
  26*  3.13974601e+04  4.86914808e+08  1.18e-04 7.60e+01  7.48e-11     0s
  27*  2.53811888e+04 -4.95713498e+09  3.24e-05 2.37e-01  8.89e-13     0s
  28*  2.14071122e+04 -3.17727048e+09  4.05e-05 6.66e+01  1.21e-09     0s
  29*  2.31239487e+04 -1.63388143e+09  3.17e-05 3.43e+01  6.21e-10     0s
  30*  2.11962875e+04  6.03593644e+10  5.08e-05 2.98e+03  2.68e-10     0s
  31*  1.91561631e+04  3.04938882e+10  1.54e-05 1.50e+03  1.35e-10     0s
  32*  1.72616974e+04  9.50918993e+09  4.83e-05 4.69e+02  4.22e-11     0s
  33*  1.61730049e+04  1.56555677e+09  3.74e-05 1.51e+02  4.69e-12     0s
  34*  1.60101089e+04  8.99110694e+07  3.74e-05 8.68e+00  2.74e-13     0s
  35*  1.60000046e+04  1.51073762e+08  2.67e-05 3.44e+01  1.25e-16     0s
  36*  1.60000003e+04  8.71073602e+06  2.23e-05 1.98e+00  7.31e-18     0s
  37*  1.60000000e+04 -4.34964733e+08  8.84e-05 6.43e+01  4.27e-19     0s
  38*  1.60000000e+04 -2.50198759e+07  9.16e-05 3.70e+00  2.67e-20     0s
  39*  1.60000000e+04  2.06955821e+14  6.80e-05 5.82e+06  1.18e-19     0s

Barrier performed 39 iterations in 0.08 seconds (0.02 work units)
Numerical trouble encountered

Extra simplex iterations after uncrush: 146

Root relaxation: objective 1.600000e+04, 150 iterations, 0.01 seconds (0.00 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 16000.0000    0  145          - 16000.0000      -     -    0s
     0     0 16000.0000    0  135          - 16000.0000      -     -    0s
     0     0 16000.0000    0  134          - 16000.0000      -     -    0s
     0     0 16000.0000    0  133          - 16000.0000      -     -    0s
     0     0 16000.0000    0  132          - 16000.0000      -     -    0s
     0     0 16000.0000    0  133          - 16000.0000      -     -    0s
     0     0 16000.0000    0  132          - 16000.0000      -     -    0s
     0     0 16000.0000    0   33          - 16000.0000      -     -    0s
     0     2 16000.0000    0   33          - 16000.0000      -     -    2s
  2942  1520 650857.161   23   35          - 204070.246      -  23.5    5s
  5840  2218 437276.389   19   35          - 204070.246      -  15.6   10s
 22784  6077 infeasible   47               - 210478.886      -  10.5   15s
 82492 13968 infeasible  890               - 289942.718      -   4.4   20s
 147498 20792 infeasible  771               - 300707.710      -   3.0   25s
 220042 30131 infeasible 2748               - 300707.710      -   2.7   30s
 280522 37118 infeasible   97               - 347009.147      -   2.5   35s
 317859 41154 infeasible 1012               - 347009.147      -   2.4   40s
 368723 46628 infeasible 2325               - 349833.617      -   2.3   45s
 422485 52120 419168.810  169   17          - 352055.582      -   2.2   51s
 466814 56065 infeasible  485               - 352055.582      -   2.1   55s
 548047 61419 infeasible 2274               - 352055.582      -   2.0   61s
 600627 65709 395251.056  184   24          - 352055.582      -   1.9   65s
 681139 70531 infeasible 1507               - 352055.582      -   1.8   72s
 723864 72352 infeasible 2193               - 352055.582      -   1.8   75s
 789087 75495 infeasible  250               - 352297.321      -   1.7   80s
 835021 77811 infeasible 1231               - 362016.546      -   1.7   85s
 905521 83040 infeasible 2793               - 363183.172      -   1.6   90s
 955597 88619 infeasible  346               - 370518.548      -   1.6   95s
 1014783 96095 infeasible 1429               - 370567.333      -   1.6  100s
 1052266 101349 infeasible 2490               - 372410.230      -   1.6  105s
 1103450 108380 392649.438   71   19          - 373525.634      -   1.7  111s
 1137551 113404 381344.413   51   25          - 375941.361      -   1.7  115s
 1182424 121029 381344.413  241   25          - 378187.349      -   1.7  120s
 1235408 126705 381344.413  368   25          - 379471.008      -   1.7  125s
 1287085 129522 381344.413  469   25          - 380439.727      -   1.7  130s
 1339572 134618 381344.413  576   25          - 380930.208      -   1.7  135s
 1370103 139539 408340.336  657    7          - 380930.208      -   1.7  140s
 1408342 147192 381344.413  756   25          - 380930.208      -   1.7  145s
 1434886 152315 381344.413  831   25          - 380930.208      -   1.8  150s
 1480212 159556 407993.491  947    7          - 380930.208      -   1.8  155s
 1507169 164058 381344.413 1024   25          - 380930.208      -   1.8  160s
 1559728 170187 407748.511 1156    8          - 380930.208      -   1.8  166s
 1587276 174232 407663.911 1229    8          - 380930.208      -   1.8  170s
 1631805 179215 381344.413 1336   25          - 381195.967      -   1.8  175s
 1662828 181692 381344.413 1414   25          - 381195.967      -   1.8  180s
 1710645 186251 407326.980 1530    8          - 381195.967      -   1.8  185s
 1738843 189027 407277.450 1599    8          - 381195.967      -   1.8  190s
 1788433 193231 381344.413 1711   25          - 381195.967      -   1.8  195s
 1821372 196096 381344.413 1789   25          - 381195.967      -   1.8  200s
 1872891 200742 381344.413 1909   25          - 381195.967      -   1.8  205s
 1908239 202699 407018.002 1987    9          - 381195.967      -   1.8  210s
 1960054 206063 381344.413 2119   25          - 381195.967      -   1.8  215s
 2008532 209472 381344.413 2253   25          - 381195.967      -   1.8  221s
 2043850 212565 381344.413 2358   25          - 381195.967      -   1.8  225s
 2095501 215304 381344.413 2495   25          - 381195.967      -   1.8  230s
 2117972 216779 381344.413 2561   25          - 381195.967      -   1.8  235s
 2158282 220508 381344.413 2681   25          - 381195.967      -   1.8  240s
 2193263 223827 381344.413 2787   25          - 381195.967      -   1.8  245s
 2211906 225926 381344.413 2852   25          - 381195.967      -   1.8  250s
 2244643 229991 381344.413 2962   25          - 381195.967      -   1.8  255s
 2282194 234935 408237.746 3040    7          - 381195.967      -   1.8  260s
 2301236 238484 401485.762  115   23          - 381195.967      -   1.8  265s
 2329544 243732 infeasible 1065               - 381195.967      -   1.8  270s
 2347221 246881 infeasible 1656               - 381195.967      -   1.8  275s
 2374635 252035 infeasible 2651               - 381195.967      -   1.9  280s
 2403931 258528 387545.484   63   16          - 381195.967      -   1.9  285s
 2416293 261927 infeasible  389               - 381195.967      -   1.9  290s
 2440655 268011 387545.484 1060   16          - 381195.967      -   2.0  295s
 2462749 272434 infeasible 1561               - 381195.967      -   2.0  301s
 2482490 276768 387545.484 2007   16          - 381195.967      -   2.0  305s
 2506410 282894 387545.484 2170   16          - 381195.967      -   2.1  311s
 2523999 287151 387545.484 2239   16          - 381195.967      -   2.1  315s
 2548114 292963 387545.484 2330   16          - 381195.967      -   2.1  321s
 2565057 297758 387545.484 2397   16          - 381195.967      -   2.2  325s
 2587934 303287 387545.484 2483   16          - 381195.967      -   2.2  330s
 2601776 306442 387545.484 2535   16          - 381195.967      -   2.2  335s
 2626897 312941 387545.484 2636   16          - 382246.263      -   2.3  340s
 2650050 319676 407428.576 2730    9          - 382246.263      -   2.3  345s
 2666631 322986 407360.887 2785    9          - 382246.263      -   2.4  350s
 2692994 328780 407256.846 2869    9          - 382246.263      -   2.4  355s
 2707665 331837 407197.823 2918   10          - 382246.263      -   2.4  360s
 2733767 337812 387545.484 3006   16          - 382246.263      -   2.5  365s
 2751871 341630 387545.484 3066   16          - 382246.263      -   2.5  370s
 2781788 347024 infeasible  250               - 382246.263      -   2.5  375s
 2808867 350924 infeasible 3238               - 382246.263      -   2.5  381s
 2836988 354620 infeasible 3874               - 382246.263      -   2.5  385s
 2853329 357124 infeasible 4231               - 382246.263      -   2.6  390s
 2884800 360949 infeasible 4888               - 382246.263      -   2.6  395s
 2909413 363951 infeasible 5426               - 382246.263      -   2.6  400s
 2935196 368492 infeasible 6020               - 382246.263      -   2.6  405s
 2961905 374559 386208.770 15578   18          - 382246.263      -   2.7  412s
 2976357 379317 infeasible 15887               - 382246.263      -   2.7  415s
 2997211 386251 infeasible 16361               - 382246.263      -   2.7  420s
 3013626 390928 386208.770 16726   18          - 382246.263      -   2.8  425s
 3037192 397913 infeasible 17282               - 382246.263      -   2.8  430s
 3047258 401107 386208.770 17529   20          - 382246.263      -   2.8  435s
 3071811 407423 infeasible 18064               - 382246.263      -   2.9  440s
 3087528 411339 infeasible 15306               - 382246.263      -   2.9  445s
 3113526 417384 infeasible 15851               - 382246.263      -   2.9  450s
 3138794 422492 387941.920 16358   19          - 382246.263      -   2.9  456s
 3157385 427102 infeasible 16741               - 382246.263      -   2.9  460s
 3177200 432798 infeasible 17203               - 382246.263      -   3.0  466s
 3195070 437942 infeasible 17590               - 382246.263      -   3.0  470s
 3217067 443364 387941.920 18045   19          - 382291.296      -   3.0  477s
 3226733 447312 387489.548 3111   17          - 382291.296      -   3.0  480s
 3248039 453910 387489.548 3256   17          - 382291.296      -   3.1  485s
 3258781 457644 406868.599 3336   10          - 382291.296      -   3.1  490s
 3280920 463453 387489.548 3485   17          - 382291.296      -   3.1  495s
 3298861 468526 387489.548 3620   17          - 382291.296      -   3.2  501s
 3313740 473093 406715.272 3729   10          - 382291.296      -   3.2  505s
 3333542 478675 387489.548 3878   17          - 382291.296      -   3.2  511s
 3350269 484627 387489.548 4005   17          - 382291.296      -   3.2  515s
 3370282 490811 387489.548 4155   17          - 382291.296      -   3.3  521s
 3384826 496218 387489.548 4271   17          - 382291.296      -   3.3  525s
 3399849 501698 387489.548 4391   17          - 382291.296      -   3.3  530s
 3417227 508933 387489.548 4534   17          - 382291.296      -   3.4  535s
 3435332 514770 387489.548 4669   17          - 382291.296      -   3.4  540s
 3447455 519309 387489.548 4768   17          - 382291.296      -   3.4  545s
 3466599 526382 387489.548 4933   17          - 382291.296      -   3.5  550s
 3478164 530633 406235.691 5033   12          - 382291.296      -   3.5  555s
 3491465 535378 406194.236 5151   12          - 382291.296      -   3.6  560s
 3501245 538808 387489.548 5236   17          - 386208.770      -   3.6  565s
 3517228 543314 406119.401 5364   10          - 386208.770      -   3.6  570s
 3535133 548022 387489.548 5498   17          - 386208.770      -   3.6  576s
 3550756 552597 387489.548 5622   17          - 386208.770      -   3.7  580s
 3564126 556178 387489.548 5761   17          - 386208.770      -   3.7  586s
 3580852 561995 387489.548 5937   17          - 386208.770      -   3.7  590s
 3600823 568537 infeasible 6091               - 386208.770      -   3.7  596s
 3611981 572017 infeasible 6091               - 386208.770      -   3.8  600s

Cutting planes:
  RLT: 10

Explored 3613949 nodes (13640338 simplex iterations) in 600.10 seconds (47.29 work units)
Thread count was 32 (of 64 available processors)

Solution count 0

Time limit reached
Best objective -, best bound 3.862087704178e+05, gap -
Gurobi 12.0.3: time limit, without a feasible solution
1.36403e+07 simplex iterations
42 barrier iterations
3.61395e+06 branching nodes
eps :=
1 2   7.85507e-07
2 3   7.85507e-07
2 4   7.85507e-07
3 5   7.85507e-07
4 5   7.85507e-07
4 6   7.85507e-07
5 7   7.85507e-07
6 7   7.85507e-07
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 9330.31109
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 1,2             |            0 |                      210 |                    210 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,3             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,4             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,5             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,6             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,7             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 210.0
Sum of violation of approx headloss constraint: 210.0

Con2 sum of absolute violation between original function and approximate function: 0.0
Con2 sum of relative violation between original function and approximate function: 0.0
*******************************************************************************

Total cost using gurobi: 0.0
gurobi solve time: 601.11 seconds
*******************************************************************************

