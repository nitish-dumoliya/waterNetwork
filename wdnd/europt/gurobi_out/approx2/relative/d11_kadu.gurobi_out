Water Network: 11
Results smooth approximation 2 of Hazen--Williams headloss constraint using relative error

*******************************************************************************
wdnmodel.mod

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 600
  lim:time = 600
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-05
  mip:gapabs = 1.0000000000000001e-05
Set parameter MIPGap to value 1e-06
  mip:gap = 9.9999999999999995e-07
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1.0000000000000001e-05
  cvt:pre:feastol = 1.0000000000000001e-05
  cvt:pre:feastolrel = 9.9999999999999995e-07
  sol:chk:feastol = 1.0000000000000001e-05
  sol:chk:feastolrel = 9.9999999999999995e-07

AMPL MP initial flat model has 534 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  58 linear; 136 quadratic;
Algebraic expressions:  34 div; 68 powconstexp;

AMPL MP final model has 772 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  92 linear; 136 quadratic;
Algebraic expressions:  34 div; 68 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  600
FeasibilityTol  1e-05
MIPGap  1e-06
MIPGapAbs  1e-05
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 92 rows, 772 columns and 642 nonzeros
Model fingerprint: 0xd852a1e0
Model has 34 general nonlinear constraints (3332 nonlinear terms)
Variable types: 772 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+00]
  Objective range  [1e+03, 2e+04]
  Bounds range     [8e-10, 6e+15]
  RHS range        [3e-02, 3e+03]
Warning: Model contains large bounds
Presolve model has 34 nlconstr
Added 2108 variables to disaggregate expressions.
Presolve removed 2 rows and 206 columns
Presolve time: 0.01s
Presolved: 8964 rows, 2675 columns, 22687 nonzeros
Presolved model has 1020 bilinear constraint(s)
Presolved model has 544 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 2675 continuous, 0 integer (0 binary)
Root barrier log...

Ordering time: 0.00s

Barrier statistics:
 AA' NZ     : 4.990e+02
 Factor NZ  : 1.360e+03
 Factor Ops : 1.416e+04 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   2.14413196e+12 -7.23946876e+16  1.11e+16 0.00e+00  2.63e+09     2s
   1   2.14413195e+12 -3.61079464e+17  1.11e+16 8.53e-01  3.17e+09     2s
   2   2.14413174e+12 -2.43604898e+20  1.11e+16 8.53e-01  3.86e+11     2s
   3   2.14413173e+12 -1.29608073e+21  1.11e+16 8.53e-01  1.99e+12     2s
   4   2.14413196e+12 -4.24414450e+19  1.11e+16 0.00e+00  5.23e+11     2s
   5   2.14413139e+12 -4.67950663e+27  1.11e+16 3.76e+02  9.84e+18     2s
   6   2.14413136e+12 -5.38469450e+29  1.11e+16 3.43e+02  9.12e+20     2s

Barrier performed 6 iterations in 1.69 seconds (0.09 work units)
Numerical trouble encountered

Model may be infeasible or unbounded.  Consider using the
homogeneous algorithm (through parameter 'BarHomogeneous')

Extra simplex iterations after uncrush: 482

Root relaxation: objective 3.745842e+07, 509 iterations, 0.08 seconds (0.01 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 3.7458e+07    0  573          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0  593          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0  609          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0  605          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0  610          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0  609          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0  610          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0  610          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0  573          - 3.7458e+07      -     -    2s
     0     2 3.7458e+07    0  573          - 3.7458e+07      -     -   11s
  1333  1666 3.7458e+07   27  514          - 3.7458e+07      -  17.8   15s
 14613  6773 3.7458e+07   95    0          - 3.7458e+07      -   3.6   20s
 14621  6779 3.7458e+07   75    0          - 3.7458e+07      -   3.6   37s
 14622  6782 3.7468e+07   16  601          - 3.7458e+07      -   3.8   50s
 16921  8135 3.7468e+07   33  471          - 3.7458e+07      -   8.7   55s
 18111  7769 3.7468e+07   42  490          - 3.7458e+07      -   9.4   63s
 23454  7565 infeasible   76               - 3.7458e+07      -   9.9   66s
 38310  6149 infeasible  316               - 3.7458e+07      -   7.6   70s
 65563 10916 infeasible  843               - 3.7458e+07      -   4.9   78s
 75737 13359 infeasible 1024               - 3.7458e+07      -   4.4   80s
 97213 20496 infeasible 1495               - 3.7458e+07      -   3.8   85s
 119710 28185 infeasible 1946               - 3.7458e+07      -   3.2   90s
 150481 40582 4.1380e+07 2353  182          - 3.7458e+07      -   2.7   95s
 173517 51232 4.1380e+07 2662  182          - 3.7458e+07      -   2.4  100s
 196285 62246 4.1380e+07 2962  182          - 3.7458e+07      -   2.2  105s
 216479 74310 4.1380e+07 3252  182          - 3.7458e+07      -   2.0  110s
 236872 86594 4.1380e+07 3536  182          - 3.7458e+07      -   1.9  115s
 259851 101934 4.1380e+07 3871  182          - 3.7458e+07      -   1.8  120s
 282513 117688 4.1380e+07 4202  182          - 3.7458e+07      -   1.7  125s
 306198 136852 4.1380e+07 4581  182          - 3.7458e+07      -   1.6  130s
 322189 151418 4.1380e+07 4853  182          - 3.7458e+07      -   1.6  135s
 342934 168321 4.1380e+07 5180  182          - 3.7458e+07      -   1.6  141s
 359569 182810 4.1380e+07 5449  182          - 3.7458e+07      -   1.6  146s
 362994 185755 4.1380e+07 5503  182          - 3.7458e+07      -   1.5  151s
 376906 197622 4.1380e+07 5721  182          - 3.7458e+07      -   1.6  155s
 394830 212300 4.1380e+07 5992  182          - 3.7458e+07      -   1.5  160s
 416119 229875 4.1380e+07 6316  182          - 3.7458e+07      -   1.5  165s
 433385 244187 4.1380e+07 6580  182          - 3.7458e+07      -   1.4  170s
 450698 259223 4.1380e+07 6847  182          - 3.7458e+07      -   1.4  175s
 466926 273409 4.1380e+07 7106  182          - 3.7458e+07      -   1.3  180s
 484394 288426 4.1380e+07 7374  182          - 3.7458e+07      -   1.3  185s
 501832 303379 4.1380e+07 7640  182          - 3.7458e+07      -   1.2  190s
 522292 322042 4.1380e+07 7958  182          - 3.7458e+07      -   1.2  195s
 538723 338471 4.1380e+07 8223  182          - 3.7458e+07      -   1.1  200s
 554738 354487 4.1380e+07 8484  182          - 3.7458e+07      -   1.1  205s
 570702 370451 4.1380e+07 8746  182          - 3.7458e+07      -   1.1  210s
 590169 389467 4.1380e+07 9063  182          - 3.7458e+07      -   1.0  215s
 606142 405373 4.1380e+07 9324  182          - 3.7458e+07      -   1.0  221s
 622068 421393 4.1380e+07 9585  182          - 3.7458e+07      -   1.0  226s
 628221 424735 4.1380e+07 9687  182          - 3.7458e+07      -   1.0  238s
 631674 431544 4.1380e+07 9742  182          - 3.7458e+07      -   1.0  240s
 644691 444560 4.1380e+07 9958  182          - 3.7458e+07      -   1.0  245s
 661713 461578 4.1380e+07 10233  182          - 3.7458e+07      -   0.9  250s
 674878 474489 4.1380e+07 10449  182          - 3.7458e+07      -   0.9  255s
 688216 488071 4.1380e+07 10664  182          - 3.7458e+07      -   0.9  260s
 701789 501520 4.1380e+07 10882  182          - 3.7458e+07      -   0.9  265s
 714635 514486 4.1380e+07 11095  182          - 3.7458e+07      -   0.9  270s
 730988 530844 4.1380e+07 11365  182          - 3.7458e+07      -   0.8  275s
 747356 547213 4.1380e+07 11635  182          - 3.7458e+07      -   0.8  281s
 760930 560784 4.1380e+07 11853  182          - 3.7458e+07      -   0.8  285s
 777462 576661 4.1380e+07 12122  182          - 3.7458e+07      -   0.8  290s
 794628 593129 4.1380e+07 12395  182          - 3.7458e+07      -   0.8  295s
 811523 609494 4.1380e+07 12667  182          - 3.7458e+07      -   0.8  301s
 824507 622403 4.1380e+07 12881  182          - 3.7458e+07      -   0.7  305s
 840749 638788 4.1380e+07 13149  182          - 3.7458e+07      -   0.7  310s
 857496 655182 4.1380e+07 13164  182          - 3.7458e+07      -   0.7  315s
 874312 670823 4.1380e+07 13165  182          - 3.7458e+07      -   0.7  321s
 887487 683838 4.1380e+07 13165  182          - 3.7458e+07      -   0.7  325s
 901225 696273 4.1380e+07 13163  182          - 3.7458e+07      -   0.7  330s
 914395 708935 3.8155e+07  186  434          - 3.7458e+07      -   0.7  335s
 931843 724616 infeasible  615               - 3.7458e+07      -   0.7  340s
 944835 735948 infeasible  893               - 3.7458e+07      -   0.7  345s
 962176 749103 infeasible 1287               - 3.7458e+07      -   0.7  350s
 972984 756218 infeasible 1524               - 3.7458e+07      -   0.7  355s
 986359 764301 infeasible 1861               - 3.7458e+07      -   0.7  360s
 996910 769691 infeasible 2118               - 3.7458e+07      -   0.7  365s
 1007074 775220 infeasible 2371               - 3.7458e+07      -   0.7  373s
 1010602 777183 infeasible 2458               - 3.7458e+07      -   0.7  375s
 1024840 785766 3.8797e+07 2689  379          - 3.7458e+07      -   0.7  380s
 1039298 794261 3.8797e+07 2875  379          - 3.7458e+07      -   0.7  385s
 1053498 801761 3.8797e+07 3053  379          - 3.7458e+07      -   0.7  390s
 1057535 801825 3.8797e+07 3113  379          - 3.7458e+07      -   0.7  400s
 1072941 812527 3.8797e+07 3325  379          - 3.7458e+07      -   0.7  405s
 1086781 822845 3.8797e+07 3535  379          - 3.7458e+07      -   0.7  410s
 1100221 833485 3.8797e+07 3745  379          - 3.7458e+07      -   0.7  415s
 1115011 843185 3.8797e+07 3955  379          - 3.7458e+07      -   0.7  420s
 1129420 852671 3.8797e+07 4165  379          - 3.7458e+07      -   0.7  425s
 1144124 861681 3.8797e+07 4373  379          - 3.7458e+07      -   0.7  430s
 1159253 871270 3.8797e+07 4581  379          - 3.7458e+07      -   0.7  435s
 1173282 881249 3.8797e+07 4789  379          - 3.7458e+07      -   0.7  441s
 1187111 891296 3.8797e+07 4997  379          - 3.7458e+07      -   0.8  445s
 1196986 898240 3.8797e+07 5125  379          - 3.7458e+07      -   0.8  450s
 1215672 911054 3.8797e+07 5385  379          - 3.7458e+07      -   0.8  455s
 1229055 920572 3.8797e+07 5555  379          - 3.7458e+07      -   0.8  460s
 1246476 933329 3.8797e+07 5814  379          - 3.7458e+07      -   0.8  466s
 1257061 941166 3.8797e+07 5970  379          - 3.7458e+07      -   0.8  470s
 1270265 951098 3.8797e+07 6159  379          - 3.7458e+07      -   0.8  475s
 1284207 962684 3.8797e+07 6357  379          - 3.7458e+07      -   0.8  480s
 1298177 974546 3.8797e+07 6563  379          - 3.7458e+07      -   0.8  485s
 1312032 985419 3.8797e+07 6769  379          - 3.7458e+07      -   0.8  490s
 1324880 997264 3.8797e+07 6947  379          - 3.7458e+07      -   0.8  495s
 1342031 1012333 3.8797e+07 7214  379          - 3.7458e+07      -   0.8  500s
 1351592 1020821 3.8797e+07 7348  379          - 3.7458e+07      -   0.8  505s
 1365509 1033026 3.8797e+07 7554  379          - 3.7458e+07      -   0.8  510s
 1383201 1048255 3.8797e+07 7802  379          - 3.7458e+07      -   0.8  515s
 1393390 1056967 3.8797e+07 7946  379          - 3.7458e+07      -   0.7  521s
 1403874 1066387 3.8797e+07 8110  379          - 3.7458e+07      -   0.7  525s
 1417768 1078963 3.8797e+07 8316  379          - 3.7458e+07      -   0.7  530s
 1430501 1090390 3.8797e+07 8484  379          - 3.7458e+07      -   0.7  535s
 1447886 1106075 3.8797e+07 8751  379          - 3.7458e+07      -   0.7  540s
 1461417 1115615 3.8797e+07 8957  379          - 3.7458e+07      -   0.7  562s
 1464261 1121364 3.8797e+07 8991  379          - 3.7458e+07      -   0.7  565s
 1481831 1137258 3.8797e+07 9251  379          - 3.7458e+07      -   0.7  571s
 1495739 1149992 3.8797e+07 9459  379          - 3.7458e+07      -   0.7  575s
 1513122 1165906 3.8797e+07 9719  379          - 3.7458e+07      -   0.7  580s
 1526802 1178804 3.8797e+07 9927  379          - 3.7458e+07      -   0.7  585s
 1543563 1194703 3.8797e+07 10187  379          - 3.7458e+07      -   0.7  590s
 1560471 1210552 3.8797e+07 10447  379          - 3.7458e+07      -   0.7  595s
 1574222 1222375 3.8797e+07 10655  379          - 3.7458e+07      -   0.7  600s

Cutting planes:
  RLT: 106

Explored 1576699 nodes (1063462 simplex iterations) in 600.09 seconds (75.50 work units)
Thread count was 32 (of 64 available processors)

Solution count 0

Time limit reached
Best objective -, best bound 3.745842500000e+07, gap -
Gurobi 12.0.3: time limit, without a feasible solution
1.06346e+06 simplex iterations
12 barrier iterations
1.5767e+06 branching nodes
eps [*,*]
:        3             4            5             6             7         :=
1   0.000160604    .             .            .             .
3    .            9.33133e-05    .            .             .
4    .             .            8.6679e-05    .             .
5    .             .             .           9.93594e-05    .
6    .             .             .            .            6.46048e-05

:         8             9            10            11            12         :=
4     .            9.45659e-05    .             .             .
6     .             .            6.99027e-05    .             .
7    0.000110459    .             .             .             .
9     .             .            0.000101637    .             .
10    .             .             .            0.000157786    .
11    .             .             .             .            0.000121888

:        13            14            15            16            17         :=
2     .            0.000194717    .             .             .
8    7.68392e-05   9.79197e-05    .             .             .
9     .             .            8.87385e-05    .             .
12   5.82888e-05    .             .             .             .
13    .             .             .            7.96253e-05    .
14    .             .             .             .            0.000104918

:        18            19            20            21            22         :=
10    .            0.000105786    .             .             .
13    .             .            9.72218e-05    .             .
15   9.15202e-05    .             .             .             .
16    .             .             .            0.000104069    .
17    .             .             .            8.04182e-05   9.93594e-05
19    .             .            7.70163e-05    .             .
20    .             .             .            8.47503e-05    .

:        23            24            25            26         :=
18   9.79197e-05    .             .             .
19    .            8.87385e-05    .             .
20    .             .            0.000105786    .
21    .             .             .            6.6396e-05
22    .             .             .            4.43594e-05
23    .            7.70163e-05    .             .
24    .             .            6.39679e-05    .
25    .             .             .            7.21594e-05
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 35781.0869
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 1,3             |            0 |                      100 |                    100 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,14            |            0 |                       95 |                     95 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,4             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,9             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,10            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,13            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,14            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,15            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,11           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,19           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,12           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,13           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,16           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,20           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,17           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,18           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 16,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,22           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,23           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,20           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,24           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,25           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 23,24           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,25           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 25,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 195.0
Sum of violation of approx headloss constraint: 195.0

Con2 sum of absolute violation between original function and approximate function: 0.0
Con2 sum of relative violation between original function and approximate function: 0.0
*******************************************************************************

Total cost using gurobi: 0.0
gurobi solve time: 601.54 seconds
*******************************************************************************

