Water Network: 11
Results smooth approximation 1 of Hazen--Williams headloss constraint using absolute error

*******************************************************************************
wdnmodel.mod

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 600
  lim:time = 600
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-05
  mip:gapabs = 1.0000000000000001e-05
Set parameter MIPGap to value 1e-06
  mip:gap = 9.9999999999999995e-07
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1.0000000000000001e-05
  cvt:pre:feastol = 1.0000000000000001e-05
  cvt:pre:feastolrel = 9.9999999999999995e-07
  sol:chk:feastol = 1.0000000000000001e-05
  sol:chk:feastolrel = 9.9999999999999995e-07

AMPL MP initial flat model has 534 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  58 linear; 102 quadratic;
Algebraic expressions:  34 powconstexp;

AMPL MP final model has 670 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  92 linear; 102 quadratic;
Algebraic expressions:  34 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  600
FeasibilityTol  1e-05
MIPGap  1e-06
MIPGapAbs  1e-05
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 92 rows, 670 columns and 642 nonzeros
Model fingerprint: 0xedba2e48
Model has 34 general nonlinear constraints (1904 nonlinear terms)
Variable types: 670 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+00]
  Objective range  [1e+03, 2e+04]
  Bounds range     [1e-10, 5e+05]
  RHS range        [3e-02, 3e+03]
Presolve model has 34 nlconstr
Added 1054 variables to disaggregate expressions.
Presolve removed 2 rows and 104 columns
Presolve time: 0.01s
Presolved: 2946 rows, 1655 columns, 6843 nonzeros
Presolved model has 544 bilinear constraint(s)
Presolved model has 34 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 1655 continuous, 0 integer (0 binary)
Root barrier log...

Ordering time: 0.01s

Barrier statistics:
 AA' NZ     : 2.546e+04
 Factor NZ  : 3.179e+04 (roughly 2 MB of memory)
 Factor Ops : 6.252e+05 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   6.73700540e+10 -4.66263133e+10  2.60e+05 0.00e+00  6.33e+07     1s
   1   1.52096224e+10 -8.49145602e+09  5.97e+04 1.87e+02  1.38e+07     1s
   2   1.28383909e+09 -1.54951141e+09  4.57e+03 7.28e-12  1.25e+06     1s
   3   2.70179745e+08 -3.06815952e+08  6.41e+02 5.46e-12  2.03e+05     1s
   4   6.92421694e+07 -2.08490577e+07  1.11e+01 5.46e-12  2.10e+04     1s
   5   5.41177733e+07  1.12584266e+07  5.68e+00 5.00e-12  9.88e+03     1s
   6   4.53087646e+07  2.23108950e+07  2.38e+00 5.46e-12  5.25e+03     1s
   7   4.12907152e+07  3.14476443e+07  1.11e+00 8.64e-12  2.24e+03     1s
   8   3.98298444e+07  3.60854641e+07  6.81e-01 7.28e-12  8.60e+02     1s
   9   3.76830276e+07  3.72148608e+07  5.86e-02 7.28e-12  1.07e+02     1s
  10   3.74667952e+07  3.74580529e+07  2.12e-03 3.64e-12  2.03e+00     1s
  11   3.74584335e+07  3.74584246e+07  1.33e-08 3.64e-12  1.97e-03     1s
  12   3.74584250e+07  3.74584250e+07  1.75e-10 3.64e-12  1.97e-06     1s
  13   3.74584250e+07  3.74584250e+07  5.82e-11 3.64e-12  1.97e-09     1s

Barrier solved model in 13 iterations and 0.82 seconds (0.06 work units)
Optimal objective 3.74584250e+07


Root relaxation: objective 3.745842e+07, 191 iterations, 0.25 seconds (0.02 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 3.7458e+07    0   92          - 3.7458e+07      -     -    0s
     0     0 3.7458e+07    0   91          - 3.7458e+07      -     -    0s
     0     0 3.7458e+07    0   91          - 3.7458e+07      -     -    0s
     0     0 3.7458e+07    0   92          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0   92          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0   92          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0   92          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0   92          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0   92          - 3.7458e+07      -     -    1s
     0     2 3.7458e+07    0   92          - 3.7458e+07      -     -   10s
  2027  1256 4.5398e+07   21   92          - 3.9425e+07      -  34.6   15s
  3929  2154 4.9345e+07   23    0          - 3.9432e+07      -  42.7   21s
  3938  2160 5.4922e+07   25    0          - 3.9432e+07      -  42.6   37s
  3939  2163 3.9432e+07   14   89          - 3.9432e+07      -  42.7   41s
  5230  2388 4.8620e+07   31   93          - 3.9432e+07      -  51.0   53s
  6573  2531 4.9700e+07   31  102          - 4.0164e+07      -  52.3   55s
 12846  4539 5.0606e+07   61  100          - 4.2801e+07      -  46.6   60s
 20807  9636 7.7295e+07   74   89          - 4.3599e+07      -  38.0   65s
 25044 11449 6.4040e+07   41  102          - 4.4380e+07      -  47.9   70s
 27985 12787 infeasible   48               - 4.4380e+07      -  58.0   75s
 30998 14040 infeasible   42               - 4.4380e+07      -  67.9   80s
 34719 15621 6.6184e+07   48   96          - 4.4380e+07      -  73.0   86s
 37918 17401 1.1673e+08   43   84          - 4.4380e+07      -  77.1   90s
 44277 19891 9.9671e+07   48   86          - 4.4380e+07      -  74.9   95s
 51786 22221 5.5184e+07   53   89          - 4.4380e+07      -  72.6  101s
 56497 26076 6.5569e+07   48   97          - 4.4380e+07      -  72.2  106s
 62666 28505 4.7179e+07   37   98          - 4.4382e+07      -  70.3  111s
 68647 33780 4.4386e+07   51   98          - 4.4383e+07      -  69.6  117s
 72717 36748 4.4403e+07   53   97          - 4.4383e+07      -  67.8  120s
 80920 43357 4.4386e+07   44   90          - 4.4383e+07      -  64.7  126s
 89894 47785 4.4386e+07   53   99          - 4.4383e+07      -  61.9  140s
 95925 53087 4.4386e+07   44   98          - 4.4383e+07      -  60.7  147s
 99950 56342 4.4386e+07   39  101          - 4.4383e+07      -  60.2  151s
 109310 61014 4.7593e+07   48  104          - 4.4383e+07      -  58.1  158s
 112447 63314 4.7547e+07   53  105          - 4.4383e+07      -  58.4  161s
 116035 65939 4.7642e+07   54   99          - 4.4383e+07      -  58.2  165s
 124575 71517 4.4386e+07   37  103          - 4.4383e+07      -  56.9  172s
 128732 73199 4.4403e+07   54   96          - 4.4383e+07      -  56.3  175s
 134153 74078 4.7593e+07   56   88          - 4.4383e+07      -  57.2  181s
 138352 74908 4.7663e+07   49  106          - 4.4383e+07      -  58.7  187s
 140273 75109 infeasible   52               - 4.4383e+07      -  59.6  190s
 147491 81391 4.4386e+07   46   94          - 4.4386e+07      -  59.1  198s
 152466 82656 infeasible   65               - 4.4386e+07      -  57.8  206s
 159159 88503 4.4398e+07   52   90          - 4.4386e+07      -  56.3  212s
 163986 91606 4.4414e+07   65   82          - 4.4386e+07      -  55.2  215s
 172104 91277 infeasible   66               - 4.4386e+07      -  53.8  221s
 178517 91106 infeasible   45               - 4.4386e+07      -  53.2  228s
 181739 91036 4.6666e+07   39   96          - 4.4386e+07      -  52.9  232s
 185169 91409 4.4386e+07   45   89          - 4.4386e+07      -  52.6  235s
 190375 91996 6.6219e+07   65   94          - 4.4386e+07      -  52.7  242s
 193033 92015 7.4019e+07   60   96          - 4.4386e+07      -  52.6  245s
 197989 92758 infeasible   48               - 4.4386e+07      -  52.7  251s
 200285 93022 infeasible   62               - 4.4386e+07      -  52.7  263s
 201859 93250 7.1106e+07   64  104          - 4.4386e+07      -  52.7  267s
 204435 93383 infeasible   51               - 4.4386e+07      -  52.7  270s
 209714 93564 infeasible   85               - 4.4386e+07      -  52.7  277s
 212217 93528 6.2497e+07   60   91          - 4.4386e+07      -  52.6  281s
 215599 94155 1.0848e+08   80   89          - 4.4386e+07      -  52.6  285s
 222320 95556 4.4386e+07   47   92          - 4.4386e+07      -  52.2  292s
 225071 95994 infeasible   58               - 4.4386e+07      -  52.1  304s
 227163 96904 7.0922e+07   59   90          - 4.4386e+07      -  52.0  308s
 230487 97593 7.0631e+07   58   99          - 4.4386e+07      -  51.7  311s
 236837 99363 4.8928e+07   86   79          - 4.4386e+07      -  51.3  317s
 240276 100496 5.9444e+07   48   93          - 4.4386e+07      -  51.0  322s
 243639 101558 8.3140e+07   54   79          - 4.4386e+07      -  50.7  326s
 250509 102935 infeasible   54               - 4.4386e+07      -  50.2  334s
 254004 103239 infeasible   51               - 4.4386e+07      -  49.9  346s
 255918 104150 4.4425e+07   45  102          - 4.4386e+07      -  49.7  350s
 263303 105976 5.7436e+07   50   93          - 4.4386e+07      -  49.0  358s
 266957 106779 infeasible   51               - 4.4386e+07      -  48.7  361s
 270476 107833 infeasible   64               - 4.4386e+07      -  48.4  365s
 276211 109707 6.7076e+07   53   92          - 4.4386e+07      -  48.2  371s
 280594 110926 infeasible   58               - 4.4386e+07      -  48.5  377s
 282681 111411 6.1185e+07   56  101          - 4.4386e+07      -  48.7  389s
 283021 111411 6.6213e+07   57  104          - 4.4386e+07      -  48.7  390s
 286861 112961 8.7627e+07   76  107          - 4.4386e+07      -  48.7  397s
 289642 114387 9.8469e+07   82   93          - 4.4386e+07      -  48.7  400s
 297646 116795 1.0005e+08  168   88          - 4.4386e+07      -  47.9  407s
 300676 118460 6.5899e+07   37  110          - 4.4386e+07      -  47.8  410s
 307891 120874 6.0207e+07   43  101          - 4.4386e+07      -  47.3  417s
 310449 121183 4.5125e+07   40  105          - 4.4386e+07      -  47.3  428s
 311948 121494 infeasible   47               - 4.4386e+07      -  47.3  431s
 313729 121953 infeasible   48               - 4.4386e+07      -  47.5  435s
 318508 124739 4.4386e+07   51   98          - 4.4386e+07      -  47.6  441s
 324607 126423 4.4386e+07   50   98          - 4.4386e+07      -  47.4  448s
 327016 126653 4.4427e+07   47  102          - 4.4386e+07      -  47.5  452s
 329716 127036 5.4989e+07   42   91          - 4.4386e+07      -  47.5  464s
 332175 127464 5.9071e+07   63   90          - 4.4386e+07      -  47.4  467s
 334857 127951 5.8749e+07   62   85          - 4.4386e+07      -  47.4  471s
 337446 128596 infeasible   44               - 4.4386e+07      -  47.4  475s
 343153 130425 4.4428e+07   48  102          - 4.4386e+07      -  47.4  481s
 345992 131583 4.4415e+07   69   98          - 4.4386e+07      -  47.3  489s
 347932 132903 5.5691e+07   46   98          - 4.4386e+07      -  47.2  493s
 351242 133120 infeasible   67               - 4.4386e+07      -  47.0  496s
 356439 134135 infeasible   56               - 4.4386e+07      -  47.1  503s
 359472 134834 infeasible   53               - 4.4386e+07      -  47.0  507s
 362683 135653 1.1311e+08   61  102          - 4.4386e+07      -  47.0  510s
 369547 137817 infeasible   72               - 4.4386e+07      -  46.7  517s
 371956 138523 6.8980e+07   54   97          - 4.4386e+07      -  46.8  520s
 378028 140888 5.7295e+07   68  102          - 4.4386e+07      -  46.7  533s
 380653 142364 1.1321e+08   60   99          - 4.4386e+07      -  46.6  536s
 386953 143794 6.7394e+07   59  106          - 4.4386e+07      -  46.4  540s
 390009 145804 infeasible   54               - 4.4386e+07      -  46.4  546s
 392409 145848 6.2229e+07   48   98          - 4.4386e+07      -  46.5  557s
 393957 145972 infeasible   59               - 4.4386e+07      -  46.6  561s
 395849 146115 infeasible   50               - 4.4386e+07      -  46.7  565s
 400726 147568 9.2171e+07   55  109          - 4.4387e+07      -  46.9  572s
 403067 149288 4.4392e+07   57   95          - 4.4387e+07      -  47.0  576s
 406817 151917 4.4402e+07   60   96          - 4.4390e+07      -  46.8  582s
 411770 153108 1.0055e+08   66   77          - 4.4391e+07      -  46.4  591s
 413809 156129 1.2432e+08   87   74          - 4.4392e+07      -  46.3  595s
 424672 159361 infeasible   68               - 4.4392e+07      -  45.4  600s

Cutting planes:
  RLT: 18
  PSD: 55

Explored 425152 nodes (19302820 simplex iterations) in 600.09 seconds (89.47 work units)
Thread count was 32 (of 64 available processors)

Solution count 0

Time limit reached
Best objective -, best bound 4.439193916269e+07, gap -
Gurobi 12.0.3: time limit, without a feasible solution
1.93028e+07 simplex iterations
25 barrier iterations
425152 branching nodes
eps [*,*]
:        3             4             5             6             7         :=
1   3.92412e-05    .             .             .             .
3    .            2.27997e-05    .             .             .
4    .             .            2.11787e-05    .             .
5    .             .             .            2.42769e-05    .
6    .             .             .             .            1.57852e-05

:        8             9            10            11            12         :=
4     .           2.31057e-05    .             .             .
6     .            .            1.70796e-05    .             .
7    2.6989e-05    .             .             .             .
9     .            .            2.48333e-05    .             .
10    .            .             .            3.85525e-05    .
11    .            .             .             .            2.97813e-05

:        13            14            15            16            17         :=
2     .            4.75762e-05    .             .             .
8    1.87745e-05   2.39252e-05    .             .             .
9     .             .            2.16819e-05    .             .
12   1.4242e-05     .             .             .             .
13    .             .             .            1.94552e-05    .
14    .             .             .             .            2.56351e-05

:        18            19            20            21            22         :=
10    .            2.58473e-05    .             .             .
13    .             .            2.37547e-05    .             .
15   2.23615e-05    .             .             .             .
16    .             .             .            2.54277e-05    .
17    .             .             .            1.96489e-05   2.42769e-05
19    .             .            1.88178e-05    .             .
20    .             .             .            2.07074e-05    .

:        23            24            25            26         :=
18   2.39252e-05    .             .             .
19    .            2.16819e-05    .             .
20    .             .            2.58473e-05    .
21    .             .             .            1.62228e-05
22    .             .             .            1.08385e-05
23    .            1.88178e-05    .             .
24    .             .            1.56296e-05    .
25    .             .             .            1.7631e-05
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 35781.0869
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 1,3             |            0 |                      100 |                    100 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,14            |            0 |                       95 |                     95 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,4             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,9             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,10            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,13            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,14            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,15            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,11           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,19           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,12           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,13           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,16           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,20           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,17           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,18           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 16,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,22           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,23           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,20           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,24           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,25           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 23,24           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,25           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 25,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 195.0
Sum of violation of approx headloss constraint: 195.0

Con2 sum of absolute violation between original function and approximate function: 0.0
Con2 sum of relative violation between original function and approximate function: 0.0
*******************************************************************************

Total cost using gurobi: 0.0
gurobi solve time: 600.44 seconds
*******************************************************************************

