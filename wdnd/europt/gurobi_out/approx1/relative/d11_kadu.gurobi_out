Water Network: 11
Results smooth approximation 1 of Hazen--Williams headloss constraint using relative error

*******************************************************************************
wdnmodel.mod

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 600
  lim:time = 600
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-05
  mip:gapabs = 1.0000000000000001e-05
Set parameter MIPGap to value 1e-06
  mip:gap = 9.9999999999999995e-07
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1.0000000000000001e-05
  cvt:pre:feastol = 1.0000000000000001e-05
  cvt:pre:feastolrel = 9.9999999999999995e-07
  sol:chk:feastol = 1.0000000000000001e-05
  sol:chk:feastolrel = 9.9999999999999995e-07

AMPL MP initial flat model has 534 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  58 linear; 102 quadratic;
Algebraic expressions:  34 powconstexp;

AMPL MP final model has 670 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  92 linear; 102 quadratic;
Algebraic expressions:  34 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  600
FeasibilityTol  1e-05
MIPGap  1e-06
MIPGapAbs  1e-05
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 92 rows, 670 columns and 642 nonzeros
Model fingerprint: 0x1ead91b8
Model has 34 general nonlinear constraints (1904 nonlinear terms)
Variable types: 670 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+00]
  Objective range  [1e+03, 2e+04]
  Bounds range     [2e-11, 5e+05]
  RHS range        [3e-02, 3e+03]
Presolve model has 34 nlconstr
Added 1054 variables to disaggregate expressions.
Presolve removed 2 rows and 104 columns
Presolve time: 0.03s
Presolved: 2946 rows, 1655 columns, 6843 nonzeros
Presolved model has 544 bilinear constraint(s)
Presolved model has 34 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 1655 continuous, 0 integer (0 binary)
Root barrier log...

Ordering time: 0.05s

Barrier statistics:
 AA' NZ     : 2.489e+04
 Factor NZ  : 3.102e+04 (roughly 2 MB of memory)
 Factor Ops : 6.166e+05 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   6.73700540e+10 -4.69710440e+10  2.60e+05 0.00e+00  6.42e+07     1s
   1   1.52052760e+10 -8.55616099e+09  5.97e+04 1.88e+02  1.41e+07     1s
   2   1.28144254e+09 -1.56213760e+09  4.56e+03 7.28e-12  1.28e+06     1s
   3   2.70190801e+08 -3.09802439e+08  6.41e+02 7.28e-12  2.07e+05     1s
   4   6.96640296e+07 -2.11783268e+07  1.12e+01 5.46e-12  2.16e+04     1s
   5   5.19646879e+07  1.46788061e+07  4.85e+00 3.87e-12  8.77e+03     1s
   6   4.74076180e+07  2.10267811e+07  3.20e+00 6.65e-12  6.18e+03     1s
   7   4.18684931e+07  2.92224181e+07  1.34e+00 1.18e-11  2.94e+03     2s
   8   3.92228968e+07  3.38634325e+07  5.19e-01 8.27e-12  1.24e+03     2s
   9   3.77607969e+07  3.73689009e+07  8.50e-02 5.66e-12  9.23e+01     2s
  10   3.74639848e+07  3.74577418e+07  1.47e-03 7.28e-12  1.47e+00     2s
  11   3.74584306e+07  3.74584243e+07  3.20e-10 7.28e-12  1.43e-03     2s
  12   3.74584250e+07  3.74584250e+07  1.75e-10 7.28e-12  1.43e-06     2s
  13   3.74584250e+07  3.74584250e+07  5.82e-11 7.28e-12  1.43e-09     2s

Barrier solved model in 13 iterations and 1.75 seconds (0.06 work units)
Optimal objective 3.74584250e+07


Root relaxation: objective 3.745842e+07, 191 iterations, 0.61 seconds (0.02 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 3.7458e+07    0   90          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0   91          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0   91          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0   93          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0   92          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0   93          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0   93          - 3.7458e+07      -     -    2s
     0     2 3.7458e+07    0   93          - 3.7458e+07      -     -   10s
  1182   683 3.9653e+07   19   59          - 3.7578e+07      -  75.7   15s
  4097  2218 5.0560e+07   33    0          - 3.8707e+07      -  57.5   20s
  4101  2220 4.5832e+07   14    0          - 3.8707e+07      -  57.4   32s
  4104  2227 3.8707e+07   16   90          - 3.8707e+07      -  57.5   40s
  5787  2419 3.9814e+07   30   99          - 3.8707e+07      -  67.0   45s
  9793  2883 3.9974e+07   43  103          - 3.8707e+07      -  58.9   50s
 12627  2912 6.4639e+07  101   80          - 3.9092e+07      -  56.2   55s
 12920  2893 6.4641e+07  102   82          - 3.9174e+07      -  56.2   62s
 14327  2750 infeasible  102               - 3.9251e+07      -  56.0   65s
 20002  4642 4.7403e+07   53   67          - 3.9794e+07      -  51.0   70s
 25550  6997 1.3109e+08   70   82          - 4.2180e+07      -  46.5   75s
 31326 10394 1.2784e+08   51   78          - 4.2405e+07      -  44.3   81s
 36036 13300 infeasible   64               - 4.2405e+07      -  43.0   85s
 41819 16568 1.0382e+08   64   78          - 4.2405e+07      -  42.2   90s
 48210 20184 4.2405e+07   66   83          - 4.2405e+07      -  40.9   95s
 55077 24486 infeasible   56               - 4.2405e+07      -  40.0  101s
 60910 28225 4.3077e+07   76   92          - 4.2405e+07      -  38.7  105s
 70331 33304 infeasible   79               - 4.2405e+07      -  37.1  112s
 75254 34591 4.7903e+07   63   79          - 4.2405e+07      -  36.6  115s
 79929 37389 infeasible   67               - 4.2405e+07      -  36.5  120s
 86733 40039 infeasible   74               - 4.2405e+07      -  36.4  126s
 93889 42068 infeasible   94               - 4.2405e+07      -  36.0  137s
 95570 43304 4.2740e+07   93   89          - 4.2405e+07      -  36.2  141s
 99018 44834 4.2696e+07  100   86          - 4.2405e+07      -  36.3  145s
 106363 47461 infeasible   64               - 4.2405e+07      -  36.0  151s
 114004 50119 infeasible   90               - 4.2405e+07      -  35.7  158s
 117617 51289 infeasible   57               - 4.2405e+07      -  35.6  161s
 124714 54133 1.1658e+08   60   80          - 4.2405e+07      -  35.5  167s
 128303 55521 1.4286e+08  119   66          - 4.2405e+07      -  35.4  171s
 132105 56298 infeasible   85               - 4.2405e+07      -  35.2  180s
 137809 59134 1.3823e+08   72   80          - 4.2405e+07      -  34.9  186s
 141778 59955 4.2405e+07   61   79          - 4.2405e+07      -  34.6  190s
 149103 62212 infeasible   99               - 4.2405e+07      -  34.4  197s
 152716 63143 1.0073e+08   60   82          - 4.2405e+07      -  34.3  200s
 160030 65521 infeasible   49               - 4.2405e+07      -  34.3  208s
 164263 66676 4.2405e+07   57   85          - 4.2405e+07      -  34.2  212s
 168632 68558 4.2405e+07   61   89          - 4.2405e+07      -  34.2  217s
 173788 70196 4.2405e+07   71   89          - 4.2405e+07      -  34.1  223s
 178668 71171 4.2405e+07   59   87          - 4.2405e+07      -  34.3  232s
 181737 73555 4.2405e+07   60   85          - 4.2405e+07      -  34.2  238s
 188101 76526 1.0818e+08   77   75          - 4.2405e+07      -  34.2  244s
 195876 78802 infeasible   68               - 4.2405e+07      -  33.9  251s
 203096 80944 4.2405e+07   57   87          - 4.2405e+07      -  33.8  257s
 209910 83379 1.7087e+08   80   84          - 4.2405e+07      -  33.8  263s
 216773 85857 infeasible   59               - 4.2405e+07      -  33.7  269s
 219200 85857 4.8385e+07   50   84          - 4.2405e+07      -  33.7  270s
 223493 88165 4.2405e+07   57   83          - 4.2405e+07      -  33.7  276s
 230275 90655 infeasible   66               - 4.2405e+07      -  33.6  282s
 236757 91552 4.2524e+07   57   84          - 4.2405e+07      -  33.5  292s
 240820 93497 4.6389e+07   58   85          - 4.2405e+07      -  33.5  298s
 247461 95458 infeasible   64               - 4.2405e+07      -  33.5  306s
 254568 96352 infeasible   64               - 4.2405e+07      -  33.3  313s
 260444 97414 4.2412e+07   77   89          - 4.2405e+07      -  33.3  318s
 265988 98664 1.1868e+08  110   80          - 4.2405e+07      -  33.2  324s
 271338 99418 4.2673e+07  116   77          - 4.2405e+07      -  33.1  329s
 276230 100386 4.5453e+07   54   91          - 4.2405e+07      -  33.1  333s
 281056 101468 4.2405e+07   62   89          - 4.2405e+07      -  33.0  337s
 285510 102199 4.2405e+07   80   82          - 4.2405e+07      -  32.9  346s
 289209 103109 4.2446e+07   81   84          - 4.2405e+07      -  32.7  350s
 293541 103825 infeasible   55               - 4.2405e+07      -  32.6  356s
 297463 104508 6.0158e+07   68   95          - 4.2405e+07      -  32.5  361s
 301400 105168 infeasible  104               - 4.2405e+07      -  32.4  366s
 305248 105924 infeasible   71               - 4.2405e+07      -  32.3  370s
 312757 106402 infeasible   72               - 4.2405e+07      -  32.1  383s
 315322 107144 infeasible   73               - 4.2405e+07      -  32.0  387s
 319378 108020 1.0873e+08   66   75          - 4.2405e+07      -  31.9  390s
 326965 109683 infeasible   66               - 4.2405e+07      -  31.7  397s
 330145 110027 4.9253e+07   48   72          - 4.2405e+07      -  31.7  401s
 333293 110628 4.3753e+07  153   87          - 4.2405e+07      -  31.7  405s
 340630 111857 4.5200e+07  220   87          - 4.2405e+07      -  31.6  414s
 343069 113084 infeasible  221               - 4.2405e+07      -  31.5  417s
 347000 113807 4.6226e+07  256   87          - 4.2405e+07      -  31.4  420s
 354062 114597 infeasible  331               - 4.2405e+07      -  31.3  427s
 357319 114835 9.4501e+07   72   80          - 4.2405e+07      -  31.3  430s
 364134 115482 infeasible   72               - 4.2405e+07      -  31.2  435s
 369807 116175 4.2436e+07   62   80          - 4.2405e+07      -  31.2  443s
 373477 116917 8.0611e+07   91   86          - 4.2405e+07      -  31.1  446s
 377575 117123 4.2405e+07   80   76          - 4.2405e+07      -  31.0  450s
 385374 118093 8.3233e+07   87   85          - 4.2405e+07      -  30.8  456s
 393421 117162 4.2443e+07   65   83          - 4.2405e+07      -  30.5  463s
 396434 117942 4.2520e+07   77   89          - 4.2405e+07      -  30.4  466s
 401158 118819 infeasible   75               - 4.2405e+07      -  30.2  470s
 411627 120640 4.3550e+07  127   81          - 4.2412e+07      -  29.7  477s
 417488 122228 4.4417e+07  167   78          - 4.2414e+07      -  29.4  480s
 422602 124503 4.4930e+07  192   78          - 4.2415e+07      -  29.2  485s
 430475 127078 4.2817e+07   94   90          - 4.2443e+07      -  28.7  491s
 435114 128591 infeasible  122               - 4.2445e+07      -  28.5  495s
 445294 130965 4.2477e+07   84   88          - 4.2452e+07      -  28.0  501s
 454282 133015 4.2828e+07   94   88          - 4.2459e+07      -  27.7  507s
 458669 134124 4.2900e+07  121   90          - 4.2459e+07      -  27.5  510s
 467568 136407 4.2733e+07   85   85          - 4.2459e+07      -  27.2  517s
 472645 136587 4.2905e+07   92   85          - 4.2460e+07      -  27.0  521s
 480528 138669 4.2983e+07  129   92          - 4.2477e+07      -  26.7  528s
 485541 140291 4.2860e+07  107   90          - 4.2477e+07      -  26.5  531s
 495630 143767 4.3649e+07  160   77          - 4.2495e+07      -  26.0  537s
 500919 144910 4.2518e+07   84   88          - 4.2495e+07      -  25.8  541s
 506466 145880 4.2802e+07  118   90          - 4.2495e+07      -  25.6  545s
 518047 147077 4.5306e+07  147   86          - 4.2508e+07      -  25.1  553s
 521023 148323 infeasible  165               - 4.2513e+07      -  25.0  556s
 527061 149620 5.3678e+07  239   84          - 4.2519e+07      -  24.8  560s
 538795 151983 infeasible  150               - 4.2535e+07      -  24.3  567s
 544665 153519 infeasible  189               - 4.2537e+07      -  24.1  571s
 550323 154834 5.0875e+07  239   88          - 4.2545e+07      -  23.9  576s
 555714 156111 infeasible   88               - 4.2549e+07      -  23.7  581s
 561181 157129 infeasible  107               - 4.2557e+07      -  23.5  585s
 572356 158753 infeasible  128               - 4.2572e+07      -  23.2  592s
 575133 159984 4.2832e+07  109   90          - 4.2577e+07      -  23.1  595s
 586169 162009 4.3028e+07  109   82          - 4.2582e+07      -  22.7  600s

Cutting planes:
  RLT: 23
  PSD: 80

Explored 589199 nodes (13325224 simplex iterations) in 600.03 seconds (88.68 work units)
Thread count was 32 (of 64 available processors)

Solution count 0

Time limit reached
Best objective -, best bound 4.258803900484e+07, gap -
Gurobi 12.0.3: time limit, without a feasible solution
1.33252e+07 simplex iterations
26 barrier iterations
589199 branching nodes
eps [*,*]
:        3            4             5             6             7         :=
1   1.44289e-05    .            .             .             .
3    .            8.3834e-06    .             .             .
4    .             .           7.78737e-06    .             .
5    .             .            .            8.92659e-06    .
6    .             .            .             .            5.80419e-06

:         8             9            10            11            12         :=
4     .            8.49594e-06    .             .             .
6     .             .            6.28016e-06    .             .
7    9.92381e-06    .             .             .             .
9     .             .            9.13118e-06    .             .
10    .             .             .            1.41757e-05    .
11    .             .             .             .            1.09506e-05

:        13            14            15           16            17         :=
2     .            1.74937e-05    .            .             .
8    6.90334e-06   8.79725e-06    .            .             .
9     .             .            7.9724e-06    .             .
12   5.23675e-06    .             .            .             .
13    .             .             .           7.15365e-06    .
14    .             .             .            .            9.42597e-06

:        18            19            20            21            22         :=
10    .            9.50401e-06    .             .             .
13    .             .            8.73455e-06    .             .
15   8.22231e-06    .             .             .             .
16    .             .             .            9.34974e-06    .
17    .             .             .            7.22489e-06   8.92659e-06
19    .             .            6.91926e-06    .             .
20    .             .             .            7.61409e-06    .

:        23            24            25            26         :=
18   8.79725e-06    .             .             .
19    .            7.9724e-06     .             .
20    .             .            9.50401e-06    .
21    .             .             .            5.96511e-06
22    .             .             .            3.98532e-06
23    .            6.91926e-06    .             .
24    .             .            5.74697e-06    .
25    .             .             .            6.48291e-06
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 35781.0869
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 1,3             |            0 |                      100 |                    100 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,14            |            0 |                       95 |                     95 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,4             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,9             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,10            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,13            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,14            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,15            |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,11           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,19           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,12           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,13           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,16           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,20           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,17           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,18           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 16,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,22           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,23           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,20           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,24           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,21           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,25           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 23,24           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,25           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 25,26           |            0 |                        0 |                      0 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 195.0
Sum of violation of approx headloss constraint: 195.0

Con2 sum of absolute violation between original function and approximate function: 0.0
Con2 sum of relative violation between original function and approximate function: 0.0
*******************************************************************************

Total cost using gurobi: 0.0
gurobi solve time: 600.34 seconds
*******************************************************************************

