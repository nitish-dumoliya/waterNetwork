Water Network: 6
Results smooth approximation 1 of Hazen--Williams headloss constraint using relative error

*******************************************************************************

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 600
  lim:time = 600
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-05
  mip:gapabs = 1.0000000000000001e-05
Set parameter MIPGap to value 1e-06
  mip:gap = 9.9999999999999995e-07
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1.0000000000000001e-05
  cvt:pre:feastol = 1.0000000000000001e-05
  cvt:pre:feastolrel = 9.9999999999999995e-07
  sol:chk:feastol = 1.0000000000000001e-05
  sol:chk:feastolrel = 9.9999999999999995e-07

AMPL MP initial flat model has 397 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  61 linear; 105 quadratic;
Algebraic expressions:  42 powconstexp;

AMPL MP final model has 544 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  103 linear; 105 quadratic;
Algebraic expressions:  42 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  600
FeasibilityTol  1e-05
MIPGap  1e-06
MIPGapAbs  1e-05
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 103 rows, 544 columns and 580 nonzeros
Model fingerprint: 0xd3c1e98c
Model has 42 general nonlinear constraints (1029 nonlinear terms)
Variable types: 544 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+00]
  Objective range  [3e+02, 3e+03]
  Bounds range     [3e-08, 1e+05]
  RHS range        [3e-02, 1e+04]
Presolve model has 42 nlconstr
Added 819 variables to disaggregate expressions.
Presolve removed 6 rows and 113 columns
Presolve time: 0.01s
Presolved: 2281 rows, 1251 columns, 5247 nonzeros
Presolved model has 399 bilinear constraint(s)
Presolved model has 42 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 1251 continuous, 0 integer (0 binary)
Root barrier log...

Ordering time: 0.00s

Barrier statistics:
 AA' NZ     : 1.742e+04
 Factor NZ  : 2.363e+04 (roughly 1 MB of memory)
 Factor Ops : 5.016e+05 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   3.59887205e+09 -1.43318199e+08  1.15e+05 0.00e+00  4.17e+06     0s
   1   3.71419316e+08 -8.03454677e+07  8.85e+03 2.43e+01  3.62e+05     0s
   2   7.52991218e+07  4.79462875e+06  7.15e+02 3.26e+00  3.87e+04     0s
   3   4.10634493e+07  2.76020907e+07  1.10e+02 5.29e-02  6.32e+03     0s
   4   3.46280616e+07  3.22850856e+07  5.90e+00 2.44e-02  8.57e+02     0s
   5   3.42368019e+07  3.41354716e+07  4.56e-01 9.09e-13  3.73e+01     0s
   6   3.42034528e+07  3.41994627e+07  2.50e-02 9.09e-13  1.48e+00     0s
   7   3.42014684e+07  3.42014539e+07  1.12e-04 4.55e-13  5.50e-03     0s
   8   3.42014594e+07  3.42014593e+07  1.66e-10 4.55e-13  6.92e-09     0s

Barrier solved model in 8 iterations and 0.09 seconds (0.04 work units)
Optimal objective 3.42014594e+07


Root relaxation: objective 3.420146e+07, 133 iterations, 0.02 seconds (0.01 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 3.4201e+07    0   88          - 3.4201e+07      -     -    0s
     0     0 3.4201e+07    0  101          - 3.4201e+07      -     -    0s
     0     0 3.4201e+07    0  103          - 3.4201e+07      -     -    0s
     0     0 3.4201e+07    0  103          - 3.4201e+07      -     -    0s
     0     0 3.4201e+07    0   89          - 3.4201e+07      -     -    0s
     0     0 3.4201e+07    0   87          - 3.4201e+07      -     -    0s
     0     0 3.4201e+07    0   87          - 3.4201e+07      -     -    0s
     0     0 3.4201e+07    0   88          - 3.4201e+07      -     -    0s
     0     0 3.4201e+07    0  116          - 3.4201e+07      -     -    0s
     0     2 3.4201e+07    0  116          - 3.4201e+07      -     -    9s
    50    40 4.6327e+07    6  110          - 3.5913e+07      -  33.1   10s
  4284  2437 3.9407e+07   24    0          - 3.7224e+07      -  19.5   16s
  4295  2444 4.4756e+07   12    0          - 3.8388e+07      -  19.5   32s
  4346  2477 4.0366e+07   15  113          - 4.0088e+07      -  19.8   35s
  6174  3061 4.6035e+07   38  110          - 4.0578e+07      -  35.4   41s
  9750  4313 4.1094e+07   49  124          - 4.0833e+07      -  44.4   45s
 16262  7620 infeasible  112               - 4.0839e+07      -  36.2   50s
 32222 14413 infeasible  209               - 4.0842e+07      -  22.1   55s
 48792 21519 infeasible  279               - 4.0843e+07      -  17.0   60s
 59032 28995 4.5643e+07   35  147          - 4.0843e+07      -  15.9   68s
 70112 31547 infeasible   77               - 4.0843e+07      -  14.8   70s
 86414 38711 4.6253e+07  202  120          - 4.0843e+07      -  13.6   75s
 98301 44071 5.0179e+07  301  128          - 4.0845e+07      -  12.9   80s
 112809 50372 infeasible  384               - 4.0845e+07      -  12.2   85s
 126729 56579 infeasible   63               - 4.0845e+07      -  11.8   90s
 140696 61622 infeasible  190               - 4.0845e+07      -  11.5   95s
 153188 67430 4.7029e+07  273  128          - 4.0845e+07      -  11.2  100s
 166818 73159 4.1545e+07   68  128          - 4.0845e+07      -  10.9  105s
 183414 79991 4.3475e+07  165  132          - 4.0848e+07      -  10.7  111s
 191201 83659 4.0962e+07   41  121          - 4.0848e+07      -  10.7  115s
 205703 89727 4.1997e+07   89  121          - 4.0857e+07      -  10.6  120s
 219813 95489 4.3795e+07  174  131          - 4.0866e+07      -  10.5  125s
 230978 100091 4.5316e+07  239  134          - 4.0873e+07      -  10.4  130s
 245327 105886 infeasible  301               - 4.0874e+07      -  10.3  135s
 259293 111477 4.1520e+07   66  127          - 4.0875e+07      -  10.1  140s
 270006 115941 infeasible  111               - 4.0875e+07      -  10.0  145s
 282012 120544 infeasible  171               - 4.0875e+07      -   9.9  150s
 296037 125856 4.1129e+07   37  121          - 4.0877e+07      -   9.8  155s
 309725 131537 infeasible  151               - 4.0877e+07      -   9.7  160s
 319681 135171 4.6731e+07  201  127          - 4.0881e+07      -   9.6  165s
 332201 141099 4.8733e+07  283  126          - 4.0881e+07      -   9.6  170s
 345667 146829 infeasible  357               - 4.0881e+07      -   9.5  176s
 353413 150399 infeasible  378               - 4.0881e+07      -   9.6  180s
 366826 156458 5.1478e+07  447  130          - 4.0885e+07      -   9.6  185s
 377284 161122 4.5848e+07   34  145          - 4.0885e+07      -   9.6  190s
 387731 166399 4.7949e+07   83  148          - 4.0885e+07      -   9.7  196s
 397949 170957 4.8746e+07  126  148          - 4.0885e+07      -   9.7  200s
 408042 175401 5.0321e+07  160  149          - 4.0887e+07      -   9.7  206s
 418444 179753 5.0859e+07  183  145          - 4.0887e+07      -   9.7  210s
 428430 183303 5.6232e+07  221  159          - 4.0887e+07      -   9.7  216s
 437941 188547 5.5024e+07  236  155          - 4.0890e+07      -   9.7  221s
 448139 193107 5.9818e+07  254  163          - 4.0890e+07      -   9.7  226s
 458415 197608 5.9966e+07  274  164          - 4.0890e+07      -   9.7  230s
 471398 203723 6.2014e+07  303  168          - 4.0891e+07      -   9.8  236s
 479975 207299 6.4283e+07  324  176          - 4.0891e+07      -   9.8  240s
 493670 212937 infeasible  360               - 4.0891e+07      -   9.7  245s
 506529 218917 6.7795e+07  387  177          - 4.0891e+07      -   9.8  250s
 519780 223705 6.7183e+07  394  175          - 4.0893e+07      -   9.8  256s
 528887 228882 7.0607e+07  400  177          - 4.0893e+07      -   9.9  261s
 540201 233725 infeasible   90               - 4.0894e+07      -   9.8  265s
 554099 239404 4.5415e+07  192  124          - 4.0894e+07      -   9.8  270s
 567479 243934 4.8955e+07  269  127          - 4.0894e+07      -   9.8  275s
 579374 250018 5.1008e+07  338  130          - 4.0894e+07      -   9.7  281s
 592097 255473 5.2630e+07  395  124          - 4.0894e+07      -   9.7  286s
 605152 260917 4.2960e+07  111  119          - 4.0894e+07      -   9.7  291s
 612877 264680 infeasible  173               - 4.0894e+07      -   9.7  295s
 628326 270922 4.7073e+07  280  131          - 4.0894e+07      -   9.6  300s
 642213 276912 infeasible  369               - 4.0895e+07      -   9.6  305s
 655246 282258 infeasible   66               - 4.0896e+07      -   9.6  310s
 666887 287085 4.3376e+07  141  120          - 4.0896e+07      -   9.6  315s
 680096 293155 4.6230e+07  249  124          - 4.0896e+07      -   9.6  321s
 690639 297779 4.1040e+07   35  123          - 4.0896e+07      -   9.6  325s
 702337 303196 4.3174e+07  134  123          - 4.0896e+07      -   9.5  330s
 716923 308906 4.6778e+07  214  127          - 4.0896e+07      -   9.5  335s
 731086 314775 4.7194e+07   56  145          - 4.0896e+07      -   9.5  341s
 744795 319496 5.1153e+07  136  146          - 4.0898e+07      -   9.4  346s
 755935 325096 5.3985e+07  185  151          - 4.0898e+07      -   9.4  351s
 769546 330761 infeasible  216               - 4.0898e+07      -   9.5  355s
 781530 336654 infeasible  258               - 4.0902e+07      -   9.5  360s
 790337 340661 8.7547e+07  293  188          - 4.0904e+07      -   9.5  365s
 806604 347585 4.2473e+07   92  118          - 4.0904e+07      -   9.5  370s
 819547 353368 4.4878e+07  199  122          - 4.0904e+07      -   9.5  375s
 829500 357269 4.7027e+07  256  124          - 4.0904e+07      -   9.5  380s
 841377 364056 4.1974e+07   77  119          - 4.0904e+07      -   9.5  386s
 851890 368637 4.3836e+07  151  120          - 4.0904e+07      -   9.5  390s
 869136 375549 infeasible  263               - 4.0905e+07      -   9.5  396s
 880058 379088 4.7796e+07  171  139          - 4.0907e+07      -   9.5  400s
 891056 385081 5.3812e+07  398  129          - 4.0907e+07      -   9.5  405s
 907135 391981 infeasible  157               - 4.0907e+07      -   9.5  410s
 915257 398942 4.7304e+07  207  127          - 4.0908e+07      -   9.5  420s
 937600 404886 5.1177e+07  376  134          - 4.0911e+07      -   9.5  426s
 947063 409497 4.1634e+07   77  121          - 4.0911e+07      -   9.5  430s
 960554 416087 4.1937e+07   90  125          - 4.0911e+07      -   9.6  435s
 972407 421577 4.3966e+07  142  136          - 4.0911e+07      -   9.6  441s
 982082 426288 4.4628e+07  173  136          - 4.0911e+07      -   9.6  445s
 995227 432958 4.8310e+07  200  141          - 4.0911e+07      -   9.7  450s
 1006343 436889 4.9653e+07  226  135          - 4.0912e+07      -   9.7  455s
 1018474 443110 5.0686e+07  255  137          - 4.0912e+07      -   9.7  460s
 1032861 448952 infeasible  289               - 4.0912e+07      -   9.6  465s
 1044904 454076 5.7286e+07  318  143          - 4.0912e+07      -   9.6  470s
 1058723 459949 4.2427e+07   88  120          - 4.0912e+07      -   9.6  475s
 1071881 465716 infeasible  180               - 4.0912e+07      -   9.6  480s
 1082885 470932 4.3336e+07  125  130          - 4.0912e+07      -   9.6  485s
 1092775 475807 4.5199e+07  202  135          - 4.0912e+07      -   9.7  490s
 1105456 482514 4.2011e+07   71  120          - 4.0912e+07      -   9.8  496s
 1116343 486459 infeasible  177               - 4.0912e+07      -   9.8  500s
 1124554 491639 infeasible  246               - 4.0912e+07      -   9.8  505s
 1137300 497922 infeasible   75               - 4.0915e+07      -   9.9  511s
 1147713 502290 infeasible  175               - 4.0915e+07      -  10.0  515s
 1157381 505703 4.7794e+07  261  121          - 4.0915e+07      -  10.0  520s
 1158357 510539 infeasible  266               - 4.0915e+07      -  10.0  527s
 1173824 513955 4.1140e+07   38  112          - 4.0915e+07      -  10.0  530s
 1188334 519516 infeasible  158               - 4.0915e+07      -  10.0  535s
 1202403 524730 4.5684e+07  238  120          - 4.0915e+07      -   9.9  540s
 1212501 529240 infeasible  299               - 4.0915e+07      -   9.9  546s
 1223287 533674 4.1199e+07   51  121          - 4.0915e+07      -   9.9  550s
 1232995 537898 4.3203e+07  136  119          - 4.0915e+07      -   9.9  555s
 1242047 542010 infeasible  204               - 4.0915e+07      -   9.9  560s
 1253566 546547 4.7470e+07  276  124          - 4.0915e+07      -   9.9  565s
 1261306 549940 4.1251e+07   43  128          - 4.0915e+07      -   9.8  570s
 1271702 554337 4.2952e+07  118  119          - 4.0915e+07      -   9.8  575s
 1285682 559998 4.5574e+07  225  127          - 4.0915e+07      -   9.8  581s
 1294904 564292 4.7335e+07  276  123          - 4.0915e+07      -   9.8  586s
 1302146 567983 4.1331e+07   54  125          - 4.0915e+07      -   9.8  591s
 1312604 572593 infeasible  147               - 4.0915e+07      -   9.9  595s
 1322928 577129 4.5678e+07  233  128          - 4.0915e+07      -   9.9  600s

Cutting planes:
  RLT: 33
  PSD: 42

Explored 1326313 nodes (13075975 simplex iterations) in 600.13 seconds (71.75 work units)
Thread count was 32 (of 64 available processors)

Solution count 0

Time limit reached
Best objective -, best bound 4.091518926293e+07, gap -
Gurobi 12.0.3: time limit, without a feasible solution
1.3076e+07 simplex iterations
27 barrier iterations
1.32631e+06 branching nodes
eps [*,*] (tr)
:         1             2            3             4            5         :=
2    0.000339831    .             .            .             .
3     .            0.000254607    .            .             .
4     .             .            0.00043639    .             .
5     .             .             .           0.000407162    .
6     .             .             .            .            0.00039943
15   0.000290597    .             .            .             .

:         6             7             8             9            10         :=
7    0.000259604    .             .             .             .
8     .            0.000376395    .             .             .
9     .             .            0.000326391    .             .
10    .             .             .            0.000376395    .
16    .             .             .            0.000217973    .
17    .             .             .             .            0.000217973

:        11            12            13            14            15         :=
9    0.000346332    .             .             .             .
11    .            0.000301253    .             .             .
12    .             .            0.000330701    .             .
13    .             .             .            0.000228971    .
14    .             .             .             .            0.000246013
18    .            0.000199171    .             .             .
20   0.000302381    .             .             .             .

:        18            20         :=
16    .            0.000178045
19   0.000229486    .
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 113402.72924490001
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 1,2             |            0 |                   182.88 |                 182.88 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 1,15            |            0 |                   182.88 |                 182.88 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,3             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,4             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,9             |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,16            |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,17           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,9            |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,20           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,11           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,18           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,12           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,13           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,14           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,19           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,16           |            0 |                     0    |                   0    |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 365.76
Sum of violation of approx headloss constraint: 365.76

Con2 sum of absolute violation between original function and approximate function: 0.0
Con2 sum of relative violation between original function and approximate function: 0.0
*******************************************************************************

Total cost using gurobi: 0.0
gurobi solve time: 601.06 seconds
*******************************************************************************

