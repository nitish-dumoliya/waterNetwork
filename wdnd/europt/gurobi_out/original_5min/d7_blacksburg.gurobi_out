Water Network: 7
Results of actual Hazen--Williams headloss constraint

*******************************************************************************

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 300
  lim:time = 300
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-06
  mip:gapabs = 9.9999999999999995e-07
Set parameter MIPGap to value 1e-09
  mip:gap = 1.0000000000000001e-09
Set parameter FeasibilityTol to value 1e-06
  alg:feastol = 9.9999999999999995e-07
  cvt:pre:feastol = 9.9999999999999995e-07
  cvt:pre:feastolrel = 1.0000000000000001e-09
  sol:chk:feastol = 9.9999999999999995e-07
  sol:chk:feastolrel = 1.0000000000000001e-09
Set parameter Heuristics to value 0.05
  mip:heurfrac = 0.050000000000000003

AMPL MP initial flat model has 379 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  53 linear; 48 quadratic;
Algebraic expressions:  27 abs; 27 powconstexp;

AMPL MP final model has 482 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  80 linear; 48 quadratic;
Algebraic expressions:  27 abs; 27 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  300
MIPGap  1e-09
MIPGapAbs  1e-06
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 80 rows, 482 columns and 497 nonzeros
Model fingerprint: 0xd8d60473
Model has 27 simple general constraints
  27 ABS
Model has 27 general nonlinear constraints (348 nonlinear terms)
Variable types: 482 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [2e-08, 2e+00]
  Objective range  [5e-01, 3e+02]
  Bounds range     [2e+01, 6e+04]
  RHS range        [7e-04, 7e+02]
Presolve model has 27 nlconstr
Added 663 variables to disaggregate expressions.
Presolve added 73 rows and 49 columns
Presolve time: 0.01s
Presolved: 1914 rows, 1195 columns, 4463 nonzeros
Presolved model has 54 SOS constraint(s)
Presolved model has 321 bilinear constraint(s)
Presolved model has 27 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 1141 continuous, 54 integer (54 binary)
Root barrier log...

Ordering time: 0.00s

Barrier statistics:
 AA' NZ     : 1.000e+00
 Factor NZ  : 2.500e+01
 Factor Ops : 2.700e+01 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   2.40022291e+06  5.55834233e+04  8.55e+02 0.00e+00  5.47e+03     0s
   1   3.09612556e+05 -3.25735576e+04  7.78e+01 3.20e+00  6.70e+02     0s
   2   9.17736595e+04  4.99350112e+04  2.27e-13 5.23e-01  6.83e+01     0s
   3   6.15037222e+04  5.68525644e+04  3.07e-12 1.25e-01  7.91e+00     0s
   4   5.81203613e+04  5.76516853e+04  1.53e-12 1.33e-02  8.05e-01     0s
   5   5.78643788e+04  5.78425583e+04  7.60e-13 9.01e-05  3.44e-02     0s
   6   5.78462812e+04  5.78462589e+04  2.27e-13 1.14e-13  3.44e-05     0s
   7   5.78462631e+04  5.78462631e+04  1.71e-13 1.14e-13  3.44e-11     0s

Barrier solved model in 7 iterations and 0.16 seconds (0.01 work units)
Optimal objective 5.78462631e+04

Extra simplex iterations after uncrush: 299

Root relaxation: objective 5.784626e+04, 324 iterations, 0.01 seconds (0.00 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 57846.2631    0  346          - 57846.2631      -     -    0s
     0     0 57846.2631    0  280          - 57846.2631      -     -    0s
     0     0 57846.2631    0  292          - 57846.2631      -     -    0s
     0     0 57846.2631    0  225          - 57846.2631      -     -    0s
     0     0 57846.2631    0  227          - 57846.2631      -     -    0s
     0     0 57846.2631    0  228          - 57846.2631      -     -    0s
     0     0 60573.0019    0   78          - 60573.0019      -     -    0s
H    0     0                    723137.54187 60573.0019  91.6%     -    7s
H    0     2                    702646.52767 60573.0019  91.4%     -    7s
     0     2 60573.0019    0   78 702646.528 60573.0019  91.4%     -    7s
H    3     8                    130627.36561 60583.7820  53.6%  64.3    8s
H   48    32                    121830.41220 60947.7765  50.0%   129    9s
    71   101 63411.6644    7   53 121830.412 62503.4532  48.7%   120   10s
H  748   402                    121830.41211 64023.9599  47.4%  41.0   12s
H  804   445                    119139.60761 64023.9599  46.3%  39.6   13s
  1592   728 113319.449   25   62 119139.608 64762.8822  45.6%  35.0   15s
  2283   940 112467.785   40   63 119139.608 64762.8822  45.6%  33.7   21s
H 2338  1096                    118952.37246 64762.8822  45.6%  33.3   21s
H 2739  1190                    118645.53726 64762.8822  45.4%  31.8   22s
H 2788  1190                    118622.09151 64762.8822  45.4%  31.7   22s
H 2810  1190                    118584.55359 64762.8822  45.4%  31.5   22s
H 3526  1527                    118414.37495 66364.1083  44.0%  30.9   24s
  4851  2002 113763.651  116   13 118414.375 69131.6366  41.6%  28.2   25s
H 4853  1902                    118330.60970 69131.6366  41.6%  28.2   27s
  4863  1909 114487.378   18    2 118330.610 69131.6366  41.6%  28.2   31s
  4866  1916 69131.6366   13   84 118330.610 69131.6366  41.6%  28.5   35s
H 5500  1950                    118330.60967 75375.3296  36.3%  33.2   38s
H 6276  1735                    118330.60959 77729.7472  34.3%  34.7   39s
H 6481  1651                    118328.86308 77729.7472  34.3%  34.7   39s
  6493  1694 103856.145   41   56 118328.863 77729.7472  34.3%  34.7   40s
H 6648  1560                    118328.86300 77729.7472  34.3%  34.8   40s
  9415  1075 infeasible   48      118328.863 89552.1542  24.3%  37.1   45s
 12487  1891 116901.540  105   70 118328.863 97567.5517  17.5%  39.1   50s
 15649  2588     cutoff  121      118328.863 104777.819  11.5%  36.5   55s
 19356  3010 infeasible   40      118328.863 106831.112  9.72%  35.7   60s
H20304  3017                    118328.86294 107455.754  9.19%  35.4   61s
 23178  3400 112070.122  109   54 118328.863 107918.483  8.80%  35.9   65s
 25113  3808 113686.765  202   49 118328.863 107962.549  8.76%  37.6   70s
 27429  3978 117427.235  148   64 118328.863 107962.755  8.76%  38.9   76s
 29865  4637 115823.743   73   60 118328.863 107962.834  8.76%  39.6   81s
 32682  5088 115913.858  127   60 118328.863 110863.513  6.31%  39.6   86s
 33655  5314 117072.970  193   64 118328.863 112255.833  5.13%  39.4   90s
 35174  5528 117093.580  213   64 118328.863 112698.999  4.76%  39.7   95s
 37157  6181 116565.983   32   56 118328.863 112952.636  4.54%  39.8  100s
H38460  5893                    117805.23787 113041.625  4.04%  40.2  103s
 38995  5823 115959.284   60   58 117805.238 113041.625  4.04%  40.4  105s
 41352  6158 113993.092   41   63 117805.238 113378.240  3.76%  41.0  111s
 42767  5960 113994.426   42   63 117805.238 113378.330  3.76%  41.7  115s
H43074  5553                    117613.28282 113378.409  3.60%  41.9  115s
 43473  5538 115120.354   43   63 117613.283 113378.409  3.60%  42.3  121s
 43552  6361 115230.053   44   60 117613.283 113767.701  3.27%  42.4  129s
H48854  6359                    117608.54710 114078.882  3.00%  43.2  129s
 49097  6891 116126.768   52   63 117608.547 114206.686  2.89%  43.0  133s
 51315  6978 116641.184  115   58 117608.547 114517.170  2.63%  44.0  137s
 52114  7031     cutoff  164      117608.547 114530.697  2.62%  44.4  140s
 56247  7725 116287.580  169   59 117608.547 114579.183  2.58%  45.3  148s
H56555  7339                    117551.97931 114579.183  2.53%  45.4  148s
 58777  7469     cutoff   63      117551.979 114805.968  2.34%  46.1  152s
 61625  7441 infeasible  157      117551.979 114805.976  2.34%  46.0  155s
H62752  7427                    117551.93092 115137.760  2.05%  46.5  155s
 66742  7321 116013.600   27   72 117551.931 115532.519  1.72%  48.2  161s
H67432  7296                    117549.31862 115651.965  1.61%  48.2  161s
 68905  9308     cutoff   75      117549.319 115668.526  1.60%  48.2  165s
H70231  9308                    117549.31855 115668.703  1.60%  48.0  165s
H74603  8860                    117549.31048 115718.762  1.56%  47.3  169s
 77807  8850 116443.120  109   47 117549.310 115965.541  1.35%  48.3  174s
 79377  8721 116493.650   77   49 117549.310 115971.225  1.34%  48.5  178s
 83301 11212 infeasible  107      117549.310 116033.297  1.29%  49.1  183s
H84315 11204                    117549.30849 116058.413  1.27%  49.2  183s
H88316 14864                    117549.30814 116175.861  1.17%  48.7  189s
H92752 11260                    117527.21436 116212.607  1.12%  47.6  189s
H92852 10681                    117525.57488 116212.607  1.12%  47.6  189s
 95744  6974 infeasible   56      117525.575 116233.571  1.10%  47.2  193s
 99333  6580 116657.055  142   54 117525.575 116317.991  1.03%  48.4  197s
 102074  6580     cutoff  152      117525.575 116372.563  0.98%  49.7  201s
 105494  6213 infeasible  203      117525.575 116447.520  0.92%  50.8  205s
 108280  5551     cutoff  159      117525.575 116536.798  0.84%  52.3  212s
 111595  4935     cutoff  125      117525.575 116568.658  0.81%  53.3  216s
 115053  4568 infeasible   84      117525.575 116581.419  0.80%  54.4  221s
 116568  4278 116983.795  126   63 117525.575 116784.015  0.63%  54.6  226s
 119679  4052     cutoff  146      117525.575 116882.670  0.55%  55.4  232s
 123167  4230 117209.591   81   42 117525.575 117016.989  0.43%  56.2  237s
 126991  4381 117255.687   82   44 117525.575 117122.129  0.34%  56.4  242s
 131522  4128 infeasible   91      117525.575 117174.601  0.30%  56.0  246s
 134872  3810 infeasible   86      117525.575 117197.861  0.28%  55.6  250s
 140146  2901 infeasible   93      117525.575 117292.755  0.20%  55.2  258s
H143106  1345                    117522.77943 117298.456  0.19%  55.0  258s
 143758   445     cutoff  152      117522.779 117338.708  0.16%  54.9  262s
H145205   445                    117522.70091 117347.503  0.15%  54.7  262s
 146598  4462     cutoff  139      117522.701 117394.206  0.11%  54.5  267s
H147083  4462                    117522.68231 117394.206  0.11%  54.4  267s
H147417  4462                    117522.56704 117394.206  0.11%  54.2  267s
H148456  4462                    117522.55676 117394.206  0.11%  53.9  267s
H148878  4462                    117522.55133 117394.206  0.11%  53.7  267s
H154457  4462                    117522.54900 117413.650  0.09%  51.9  267s
 156296  7489     cutoff  159      117522.549 117522.529  0.00%  51.3  274s
H158246  7489                    117522.54440 117522.529  0.00%  50.7  274s
H163370  7489                    117522.53858 117522.529  0.00%  49.1  274s
 170336  7258     cutoff  164      117522.539 117522.531  0.00%  47.1  280s
 186502 10436 117522.536  228    9 117522.539 117522.534  0.00%  43.1  287s
H187382  8260                    117522.53735 117522.534  0.00%  42.9  287s
 196095  9900     cutoff  168      117522.537 117522.534  0.00%  41.0  291s
 211670 12466 117522.536  161   14 117522.537 117522.534  0.00%  38.0  295s
 239885 15449 117522.537  165   10 117522.537 117522.535  0.00%  33.7  300s

Cutting planes:
  Cover: 1
  Implied bound: 51
  Flow cover: 3
  RLT: 27
  Relax-and-lift: 16

Explored 243318 nodes (8093782 simplex iterations) in 300.13 seconds (32.32 work units)
Thread count was 32 (of 64 available processors)

Solution count 10: 117523 117523 117523 ... 117523

Time limit reached
Best objective 1.175225373506e+05, best bound 1.175225346235e+05, gap 0.0000%
Gurobi 12.0.3: time limit, feasible solution; objective 117522.5374
8.09378e+06 simplex iterations
45 barrier iterations
243318 branching nodes
absmipgap=0.0027271, relmipgap=2.32049e-08
eps [*,*] (tr)
:         0             1             2             3            4         :=
1    1.05567e-07    .             .             .             .
2     .            8.99862e-08    .             .             .
3     .             .            1.33049e-07    .             .
4    3.02512e-07    .             .             .             .
5     .             .             .             .            1.1864e-07
8     .            3.46344e-07    .             .             .
11    .             .            3.41489e-07    .             .
13    .             .            2.35276e-07    .             .
17    .             .             .            1.51404e-07    .
18    .             .             .            1.15658e-07    .

:         5            6             7             8             9         :=
6    1.6777e-07     .            .             .             .
7     .            4.4482e-07    .             .             .
8     .             .           1.996e-07      .             .
10    .             .            .             .            1.91826e-07
12    .             .            .             .            5.75302e-07
21   1.62815e-07    .            .             .             .
25    .             .            .             .            2.00376e-07
29    .             .           2.91341e-07    .             .
30    .             .            .            4.10964e-07    .

:        11            12            13            14            15         :=
11    .            1.38619e-07    .             .             .
14    .             .            1.44066e-07    .             .
15   2.37781e-07    .             .             .             .
16    .             .             .             .            1.4491e-07
17    .             .             .             .            1.24182e-07
23    .             .             .            2.09818e-07    .

:        18            21            22            23            24         :=
13    .             .            1.51132e-07    .             .
19   1.23055e-07    .             .             .            1.27048e-07
20    .            4.05036e-07    .             .             .
22    .             .             .            2.19631e-07    .
24   1.14054e-07    .             .             .             .

:        26            29         :=
9    2.52569e-07    .
26    .            1.47898e-07
27   2.32051e-07    .
28   1.98331e-07    .
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 1.3974330637924956e-07
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 0,1             |  0.0538129   |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 0,4             |  0.0438905   |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 1,2             |  0.0470492   |                 -0       |               -0       |                   -0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 1,8             |  0.0034761   |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,3             |  0.018449    |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,11            |  0.0134339   |                  0       |                0       |                   -0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,13            |  0.0119752   |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,17            |  0.000529477 |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,18            |  0.0162937   |                 -0       |               -0       |                   -0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |  0.0430173   |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |  0.0357014   |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |  0.0324377   |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |  0.000479645 |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,29            |  0.0193034   |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,30            |  0.00323968  |                 -0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,12            |  0.00129875  |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,11           | -0.000411628 |                 -0       |               -0       |                   -0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,23           |  5.62298e-05 |                 -0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,17           |  0.000125403 |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,19           |  0.00675582  |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,24           |  0.00299856  |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,20           |  0.00069147  |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,9            |  0.00851753  |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,21            |  0.00393115  |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |  0.00328763  |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,25            |  0.00325167  |                 -0       |               -0       |                   -0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,15           |  0.0066647   |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,14           |  0.00168206  |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,16           |  0.00328763  |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,13           | -0.00393549  |                  0       |                0       |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 23,22           | -0.00319544  |                  1.4e-07 |                1.4e-07 |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,19           | -0.00346819  |                  0       |                0       |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,27           |  0.00321508  |                 -0       |               -0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,28           |  0.00161385  |                  0       |                0       |                   -0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 29,26           |  0.0166587   |                  0       |                0       |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 1.3974193143872354e-07
Sum of violation of approx headloss constraint: 1.3974316540477788e-07

Con2 sum of absolute violation between original function and approximate function: 3.618680008421471e-12
Con2 sum of relative violation between original function and approximate function: 2.3847386950530988e-11
*******************************************************************************

Total cost using gurobi: 117522.53735055469
gurobi solve time: 300.43 seconds
*******************************************************************************

