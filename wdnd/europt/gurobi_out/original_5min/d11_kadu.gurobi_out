Water Network: 11
Results of actual Hazen--Williams headloss constraint

*******************************************************************************
wdnmodel.mod

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 300
  lim:time = 300
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-06
  mip:gapabs = 9.9999999999999995e-07
Set parameter MIPGap to value 1e-09
  mip:gap = 1.0000000000000001e-09
Set parameter FeasibilityTol to value 1e-06
  alg:feastol = 9.9999999999999995e-07
  cvt:pre:feastol = 9.9999999999999995e-07
  cvt:pre:feastolrel = 1.0000000000000001e-09
  sol:chk:feastol = 9.9999999999999995e-07
  sol:chk:feastolrel = 1.0000000000000001e-09
Set parameter Heuristics to value 0.05
  mip:heurfrac = 0.050000000000000003

AMPL MP initial flat model has 534 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  58 linear; 68 quadratic;
Algebraic expressions:  34 abs; 34 powconstexp;

AMPL MP final model has 670 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  92 linear; 68 quadratic;
Algebraic expressions:  34 abs; 34 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  300
MIPGap  1e-09
MIPGapAbs  1e-06
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 92 rows, 670 columns and 642 nonzeros
Model fingerprint: 0x859008f5
Model has 34 simple general constraints
  34 ABS
Model has 34 general nonlinear constraints (1428 nonlinear terms)
Variable types: 670 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [1e+00, 1e+00]
  Objective range  [1e+03, 2e+04]
  Bounds range     [3e+00, 5e+05]
  RHS range        [3e-02, 3e+03]
Presolve model has 34 nlconstr
Added 986 variables to disaggregate expressions.
Presolve added 134 rows and 32 columns
Presolve time: 0.04s
Presolved: 2946 rows, 1723 columns, 6928 nonzeros
Presolved model has 510 bilinear constraint(s)
Presolved model has 34 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 1689 continuous, 34 integer (34 binary)
Root barrier log...

Ordering time: 0.00s

Barrier statistics:
 AA' NZ     : 2.522e+04
 Factor NZ  : 3.178e+04 (roughly 2 MB of memory)
 Factor Ops : 6.180e+05 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   6.73700581e+10 -4.63727831e+10  2.60e+05 0.00e+00  6.22e+07     2s
   1   5.13322045e+09 -8.29321583e+09  2.83e+04 7.28e-12  7.00e+06     2s
   2   8.06505679e+08 -1.42391489e+09  3.95e+03 4.55e-12  1.02e+06     2s
   3   1.71848635e+08 -3.16800449e+08  4.64e+02 3.64e-12  1.61e+05     2s
   4   6.23939085e+07 -1.29299696e+07  1.48e+01 3.64e-12  1.76e+04     2s
   5   4.95982977e+07  1.86554191e+07  6.07e+00 5.00e-12  7.08e+03     2s
   6   4.43563071e+07  2.97854996e+07  3.43e+00 1.38e-11  3.33e+03     2s
   7   3.91817817e+07  3.36638274e+07  8.07e-01 1.17e-11  1.23e+03     2s
   8   3.82143424e+07  3.62350138e+07  3.48e-01 1.17e-11  4.43e+02     2s
   9   3.77632792e+07  3.72248006e+07  1.40e-01 7.28e-12  1.22e+02     2s
  10   3.74675350e+07  3.74265842e+07  2.24e-03 7.28e-12  9.00e+00     2s
  11   3.74588483e+07  3.74583776e+07  1.02e-04 7.28e-12  1.05e-01     2s
  12   3.74584505e+07  3.74584209e+07  6.14e-06 7.28e-12  6.60e-03     2s
  13   3.74584250e+07  3.74584250e+07  4.04e-07 7.28e-12  1.10e-06     2s
  14   3.74584250e+07  3.74584250e+07  8.77e-11 7.28e-12  1.10e-09     2s

Barrier solved model in 14 iterations and 1.77 seconds (0.07 work units)
Optimal objective 3.74584250e+07


Root relaxation: objective 3.745842e+07, 207 iterations, 0.34 seconds (0.02 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 3.7458e+07    0   66          - 3.7458e+07      -     -    1s
     0     0 3.7458e+07    0   57          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0   56          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0   49          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0   49          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0   49          - 3.7458e+07      -     -    2s
     0     0 3.7458e+07    0   49          - 3.7458e+07      -     -    2s
     0     2 3.7458e+07    0   49          - 3.7458e+07      -     -   14s
    81   165 3.7953e+07    7   65          - 3.7953e+07      -  30.0   15s
  3569  1950 5.7127e+07   21   66          - 3.7967e+07      -  47.6   20s
  5461  2536 6.8611e+07   12   17          - 3.8091e+07      -  54.8   26s
  5472  2543 4.3710e+07   43    0          - 3.8091e+07      -  54.7   46s
  5473  2547 3.8647e+07   11   67          - 3.8091e+07      -  54.9   51s
  7062  3113 6.8790e+07   37   61          - 3.9991e+07      -  51.5   55s
  8441  3257 5.8933e+07   30   68          - 4.0157e+07      -  52.2   63s
  9435  3412 infeasible   37               - 4.1195e+07      -  54.1   65s
 13058  3789 4.9809e+07   27   74          - 4.1389e+07      -  56.5   70s
 17733  5692 5.1042e+07   41   68          - 4.1666e+07      -  56.3   75s
 23416  7952 6.9302e+07   54   83          - 4.1666e+07      -  55.3   80s
 28897 10128 5.6391e+07   37   55          - 4.2108e+07      -  55.4   85s
 33893 12025 4.4662e+07   50   78          - 4.3229e+07      -  55.3   90s
 39806 14121 4.6228e+07   38   62          - 4.3923e+07      -  55.8   96s
 44564 15617 infeasible   44               - 4.4071e+07      -  56.3  100s
 50066 17561 7.0635e+07   42   66          - 4.4672e+07      -  57.1  105s
 56318 20106 8.8102e+07   40   75          - 4.5032e+07      -  57.3  111s
 60655 22218 infeasible   35               - 4.5061e+07      -  57.7  115s
 65968 24112 5.3337e+07   28   64          - 4.5096e+07      -  57.2  120s
 71318 25554 4.5477e+07   29   68          - 4.5247e+07      -  57.1  129s
 72721 26593 6.0501e+07   46   73          - 4.5247e+07      -  57.1  131s
 79350 29234 7.0420e+07   47   71          - 4.5423e+07      -  56.3  137s
 83235 30372 infeasible   42               - 4.5485e+07      -  55.8  140s
 90415 32668 infeasible   68               - 4.5588e+07      -  55.6  146s
 97533 34991 4.9791e+07   41   68          - 4.5813e+07      -  55.5  152s
 101000 36201 6.3228e+07   45   77          - 4.6103e+07      -  55.5  155s
 107538 37791 infeasible   41               - 4.6430e+07      -  55.7  161s
 112580 39946 infeasible   25               - 4.6441e+07      -  55.9  167s
 115749 41081 6.3146e+07   56   83          - 4.6468e+07      -  56.0  170s
H120139 42188                    3.018343e+08 4.6618e+07  84.6%  55.7  173s
H120142 42180                    2.590598e+08 4.6618e+07  82.0%  55.7  173s
 122841 42202 4.8796e+07   46   70 2.5906e+08 4.6620e+07  82.0%  55.8  177s
H122859 42202                    2.576935e+08 4.6620e+07  81.9%  55.8  177s
H122861 42200                    2.570197e+08 4.6620e+07  81.9%  55.8  177s
 122883 42633 4.8796e+07   47   70 2.5702e+08 4.6620e+07  81.9%  55.8  182s
 124202 42862 infeasible   37      2.5702e+08 4.6620e+07  81.9%  55.8  185s
 125033 43028 infeasible   37      2.5702e+08 4.6620e+07  81.9%  55.8  190s
H125871 43102                    2.302165e+08 4.6620e+07  79.7%  55.8  194s
 126060 43121 infeasible   26      2.3022e+08 4.6620e+07  79.7%  55.8  198s
 126105 43142 6.9211e+07   37   68 2.3022e+08 4.6620e+07  79.7%  55.8  200s
 126195 43171 7.5520e+07   39   66 2.3022e+08 4.6620e+07  79.7%  55.8  208s
 126247 43185 1.2009e+08   40   71 2.3022e+08 4.6620e+07  79.7%  55.8  211s
 126297 43193 1.2017e+08   41   70 2.3022e+08 4.6620e+07  79.7%  55.8  215s
H126365 43207                    2.302165e+08 4.6620e+07  79.7%  55.8  218s
 126403 44074 infeasible   43      2.3022e+08 4.6620e+07  79.7%  55.8  223s
H126739 44074                    2.302165e+08 4.6629e+07  79.7%  55.8  223s
H127662 44074                    2.302157e+08 4.6639e+07  79.7%  55.8  223s
 129896 44458 6.8473e+07   42   77 2.3022e+08 4.6808e+07  79.7%  55.9  227s
H130349 44458                    2.302157e+08 4.6808e+07  79.7%  55.9  227s
H130459 44458                    2.302156e+08 4.6808e+07  79.7%  55.9  227s
H130678 44458                    2.295435e+08 4.6808e+07  79.6%  55.9  227s
 131294 44937 infeasible   59      2.2954e+08 4.6808e+07  79.6%  55.8  232s
H131691 44937                    2.295059e+08 4.6808e+07  79.6%  55.8  232s
 132903 45985 infeasible   64      2.2951e+08 4.6808e+07  79.6%  55.8  237s
 136433 46167 infeasible   49      2.2951e+08 4.6957e+07  79.5%  55.6  241s
 137289 46207 4.7139e+07   25   78 2.2951e+08 4.6957e+07  79.5%  55.5  246s
H137402 46207                    2.294162e+08 4.6957e+07  79.5%  55.5  246s
H137431 47131                    2.291424e+08 4.6957e+07  79.5%  55.5  251s
H137502 47131                    2.290178e+08 4.6957e+07  79.5%  55.5  251s
 140903 48285 8.2145e+07   76   94 2.2902e+08 4.7073e+07  79.4%  55.2  257s
H141266 48285                    2.289808e+08 4.7073e+07  79.4%  55.2  257s
H141393 48285                    2.288913e+08 4.7073e+07  79.4%  55.2  257s
H141665 48285                    2.286863e+08 4.7073e+07  79.4%  55.2  257s
H141849 48282                    2.266433e+08 4.7073e+07  79.2%  55.2  257s
H141920 48257                    2.209753e+08 4.7073e+07  78.7%  55.2  257s
H142669 48253                    2.200097e+08 4.7138e+07  78.6%  55.2  257s
 144715 49243 9.2867e+07   38   74 2.2001e+08 4.7153e+07  78.6%  55.1  263s
H144908 49243                    2.184097e+08 4.7153e+07  78.4%  55.1  263s
H145570 49236                    2.168854e+08 4.7153e+07  78.3%  55.1  263s
H145655 49234                    2.163496e+08 4.7153e+07  78.2%  55.1  263s
H148035 49743                    2.150002e+08 4.7303e+07  78.0%  55.1  269s
 149525 50827 infeasible   61      2.1500e+08 4.7303e+07  78.0%  55.1  274s
H149953 50827                    2.148838e+08 4.7303e+07  78.0%  55.0  274s
H150180 50827                    2.148649e+08 4.7303e+07  78.0%  55.0  274s
H150732 50827                    2.147792e+08 4.7303e+07  78.0%  55.1  274s
H151464 50827                    2.147646e+08 4.7308e+07  78.0%  55.1  274s
H152243 50817                    2.138828e+08 4.7308e+07  77.9%  55.0  274s
 152319 52220 infeasible   49      2.1388e+08 4.7308e+07  77.9%  55.0  279s
H152830 52220                    2.138817e+08 4.7308e+07  77.9%  55.0  279s
H155112 52220                    2.138807e+08 4.7308e+07  77.9%  54.9  279s
H155642 53323                    2.138807e+08 4.7308e+07  77.9%  54.9  284s
 158377 53996     cutoff   61      2.1388e+08 4.7308e+07  77.9%  54.8  289s
H158664 53996                    2.138807e+08 4.7308e+07  77.9%  54.7  289s
 159750 55213 6.3177e+07   43   69 2.1388e+08 4.7390e+07  77.8%  54.6  294s
 161917 55817 5.6580e+07   49   53 2.1388e+08 4.7424e+07  77.8%  54.5  299s
 163269 55885 6.2734e+07   50   58 2.1388e+08 4.7461e+07  77.8%  54.7  300s

Cutting planes:
  RLT: 33

Explored 163423 nodes (8935815 simplex iterations) in 300.01 seconds (43.74 work units)
Thread count was 32 (of 64 available processors)

Solution count 10: 2.13881e+08 2.13881e+08 2.13881e+08 ... 2.15e+08

Time limit reached
Best objective 2.138806805883e+08, best bound 4.746081572461e+07, gap 77.8097%
Gurobi 12.0.3: time limit, feasible solution; objective 213880680.6
8.93582e+06 simplex iterations
27 barrier iterations
163423 branching nodes
absmipgap=1.6642e+08, relmipgap=0.778097
eps [*,*]
:        3            4             5             6             7         :=
1   1.45511e-05    .            .             .             .
3    .            8.4544e-06    .             .             .
4    .             .           7.85332e-06    .             .
5    .             .            .            9.00218e-06    .
6    .             .            .             .            5.85335e-06

:         8             9            10            11            12         :=
4     .            8.56789e-06    .             .             .
6     .             .            6.33334e-06    .             .
7    1.00078e-05    .             .             .             .
9     .             .            9.20851e-06    .             .
10    .             .             .            1.42957e-05    .
11    .             .             .             .            1.10433e-05

:        13            14            15            16            17        :=
2     .            1.76418e-05    .             .             .
8    6.9618e-06    8.87175e-06    .             .             .
9     .             .            8.03991e-06    .             .
12   5.28109e-06    .             .             .             .
13    .             .             .            7.21423e-06    .
14    .             .             .             .            9.5058e-06

:        18            19            20            21            22         :=
10    .            9.58449e-06    .             .             .
13    .             .            8.80852e-06    .             .
15   8.29194e-06    .             .             .             .
16    .             .             .            9.42892e-06    .
17    .             .             .            7.28607e-06   9.00218e-06
19    .             .            6.97785e-06    .             .
20    .             .             .            7.67857e-06    .

:        23            24            25            26         :=
18   8.87175e-06    .             .             .
19    .            8.03991e-06    .             .
20    .             .            9.58449e-06    .
21    .             .             .            6.01563e-06
22    .             .             .            4.01907e-06
23    .            6.97785e-06    .             .
24    .             .            5.79563e-06    .
25    .             .             .            6.53781e-06
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 1.5881355617392012e-07
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 1,3             |   0.915774   |                   -0     |                 -0     |                   -0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,14            |   2.17113    |                    0     |                  0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,4             |   0.609074   |                    0     |                  0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |   0.1433     |                   -0     |                 -0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,9             |   0.390774   |                   -0     |                 -0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |   0.035      |                    0     |                  0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |  -0.0175     |                    0     |                  0     |                   -0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,10            |  -0.0175     |                   -0     |                 -0     |                   -0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |  -0.0692     |                   -0     |                 -0     |                   -0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,13            |   0.696612   |                   -0     |                 -0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,14            |  -0.869112   |                   -0     |                 -0     |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |   0          |                   -0     |                 -0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,15            |   0.249074   |                   -1e-08 |                 -1e-08 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,11           |  -0.0822817  |                   -0     |                 -0     |                   -0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,19           |  -0.126918   |                   -0     |                 -0     |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,12           |  -0.218982   |                   -0     |                 -0     |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,13           |  -0.445682   |                    1e-08 |                  1e-08 |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,16           |   0          |                   -1e-08 |                 -1e-08 |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,20           |   0.00423021 |                   -0     |                 -0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,17           |   1.12531    |                    0     |                  0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,18           |   0.0740738  |                   -0     |                 -0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 16,21           |  -0.15       |                    8e-08 |                  8e-08 |                   -0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,21           |   0.709423   |                   -0     |                 -0     |                   -0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,22           |   0.302592   |                   -0     |                 -0     |                   -0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,23           |   0.0173738  |                    0     |                  0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,20           |  -0.176953   |                    0     |                  0     |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,24           |  -0.0266654  |                    2e-08 |                  2e-08 |                   -0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,21           |  -0.349423   |                   -0     |                 -0     |                   -0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,25           |   0          |                    0     |                  0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,26           |   0          |                    0     |                  0     |                    0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,26           |   0.212592   |                   -0     |                 -0     |                   -0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 23,24           |  -0.0159262  |                    2e-08 |                  2e-08 |                   -0 |                    0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,25           |  -0.117592   |                   -0     |                 -0     |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 25,26           |  -0.175892   |                   -0     |                 -0     |                    0 |                   -0 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 1.5880899904840984e-07
Sum of violation of approx headloss constraint: 1.5880807248402906e-07

Con2 sum of absolute violation between original function and approximate function: 1.020655782113522e-12
Con2 sum of relative violation between original function and approximate function: 2.318637653104332e-12
*******************************************************************************

Total cost using gurobi: 213880680.5883261
gurobi solve time: 300.28 seconds
*******************************************************************************

