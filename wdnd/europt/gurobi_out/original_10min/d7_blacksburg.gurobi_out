Water Network: 7
Results smooth approximation 1 of Hazen--Williams headloss constraint

*******************************************************************************

-------------------------------- Solving with gurobi --------------------------
Gurobi 12.0.3: Set parameter LogToConsole to value 1
  tech:outlev = 1
  tech:outlev_mp = 1
Set parameter Presolve to value 1
  pre:solve = 1
Set parameter Aggregate to value 1
  pre:aggregate = 1
Set parameter TimeLimit to value 600
  lim:time = 600
Set parameter NumericFocus to value 1
  alg:numericfocus = 1
Set parameter OBBT to value 0
  mip:obbt = 0
Set parameter ScaleFlag to value 1
  pre:scale = 1
Set parameter Method to value 2
  alg:method = 2
Set parameter NodeMethod to value 1
  mip:nodemethod = 1
Set parameter NonConvex to value 2
  qp:nonconvex = 2
Set parameter MIPFocus to value 1
  mip:focus = 1
Set parameter NLPHeur to value 1
  alg:nlpheur = 1
Set parameter VarBranch to value 0
  mip:varbranch = 0
Set parameter MIPGapAbs to value 1e-05
  mip:gapabs = 1.0000000000000001e-05
Set parameter MIPGap to value 1e-06
  mip:gap = 9.9999999999999995e-07
Set parameter FeasibilityTol to value 1e-05
  alg:feastol = 1.0000000000000001e-05
  cvt:pre:feastol = 1.0000000000000001e-05
  cvt:pre:feastolrel = 9.9999999999999995e-07
  sol:chk:feastol = 1.0000000000000001e-05
  sol:chk:feastolrel = 9.9999999999999995e-07

AMPL MP initial flat model has 379 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  53 linear; 48 quadratic;
Algebraic expressions:  27 abs; 27 powconstexp;

AMPL MP final model has 482 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  80 linear; 48 quadratic;
Algebraic expressions:  27 abs; 27 powconstexp;


Set parameter InfUnbdInfo to value 1
Gurobi Optimizer version 12.0.3 build v12.0.3rc0 (linux64 - "Debian GNU/Linux 12 (bookworm)")

CPU model: INTEL(R) XEON(R) GOLD 6530, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 32 physical cores, 64 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  600
FeasibilityTol  1e-05
MIPGap  1e-06
MIPGapAbs  1e-05
Method  2
ScaleFlag  1
MIPFocus  1
NodeMethod  1
OBBT  0
VarBranch  0
InfUnbdInfo  1
NonConvex  2
NumericFocus  1
Presolve  1

Optimize a model with 80 rows, 482 columns and 497 nonzeros
Model fingerprint: 0xba1a4e00
Model has 27 simple general constraints
  27 ABS
Model has 27 general nonlinear constraints (894 nonlinear terms)
Variable types: 482 continuous, 0 integer (0 binary)
Coefficient statistics:
  Matrix range     [2e-08, 2e+00]
  Objective range  [5e-01, 3e+02]
  Bounds range     [1e-02, 7e+05]
  RHS range        [7e-04, 7e+02]
Presolve model has 27 nlconstr
Added 621 variables to disaggregate expressions.
Presolve added 94 rows and 16 columns
Presolve time: 0.05s
Presolved: 1914 rows, 1141 columns, 4536 nonzeros
Presolved model has 321 bilinear constraint(s)
Presolved model has 27 nonlinear constraint(s)

Solving non-convex MINLP

Variable types: 1116 continuous, 25 integer (25 binary)
Root barrier log...

Ordering time: 0.00s

Barrier statistics:
 AA' NZ     : 1.571e+04
 Factor NZ  : 1.991e+04 (roughly 1 MB of memory)
 Factor Ops : 3.869e+05 (less than 1 second per iteration)
 Threads    : 1

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   5.83641270e+06 -1.37491108e+07  2.35e+03 4.44e-16  9.33e+03     1s
   1   6.63517567e+05 -2.06590715e+05  2.92e+02 5.68e-14  6.17e+02     1s
   2   9.98462276e+04  4.65479146e+03  6.37e+00 8.53e-14  3.83e+01     1s
   3   6.32451226e+04  5.33027829e+04  2.25e-01 1.14e-13  3.55e+00     1s
   4   5.86763736e+04  5.74948366e+04  2.86e-02 1.14e-13  4.17e-01     1s
   5   5.80727680e+04  5.77964296e+04  7.55e-03 1.42e-13  9.68e-02     1s
   6   5.78816327e+04  5.78405475e+04  1.16e-03 5.68e-14  1.44e-02     1s
   7   5.78491825e+04  5.78460846e+04  9.58e-05 8.53e-14  1.09e-03     1s
   8   5.78465270e+04  5.78462276e+04  8.60e-06 1.70e-12  1.05e-04     1s
   9   5.78463208e+04  5.78462570e+04  1.84e-06 2.64e-12  2.24e-05     1s
  10   5.78462704e+04  5.78462624e+04  2.45e-07 5.48e-13  2.80e-06     1s
  11   5.78462631e+04  5.78462631e+04  4.46e-10 1.14e-13  2.93e-09     1s

Barrier solved model in 11 iterations and 1.22 seconds (0.02 work units)
Optimal objective 5.78462631e+04


Root relaxation: objective 5.784626e+04, 117 iterations, 0.43 seconds (0.01 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 57846.2631    0   49          - 57846.2631      -     -    1s
     0     0 57846.2631    0   45          - 57846.2631      -     -    1s
     0     0 60601.4549    0   50          - 60601.4549      -     -    4s
     0     2 60601.4549    0   50          - 60601.4549      -     -    9s
     7    16 70224.0374    3   54          - 61044.1839      -   127   10s
  3833  2230 122148.308   33    0          - 63675.3013      -  39.6   21s
  3864  2284 64219.3226   17   67          - 63675.3013      -  39.9   26s
  3928  2352 infeasible   19               - 63904.4272      -  40.4   30s
  5489  2740 97997.5356   29   59          - 69021.1282      -  44.2   35s
 10327  4180 179327.170  134   16          - 76417.4443      -  38.9   40s
 16445  8666 179511.861  203    8          - 77789.0740      -  31.2   45s
 30076 21257 151592.576  105   16          - 80141.0928      -  20.7   50s
 37806 26359 158183.361  143   22          - 80400.1311      -  17.9   57s
 44983 33833 164414.173  177   28          - 81959.0433      -  16.3   60s
 59139 45814 198288.135  269   35          - 82515.2849      -  14.1   65s
 76123 59664 129018.694   37   70          - 83575.2263      -  12.6   71s
 88639 67585 139861.314  111    9          - 84221.5150      -  11.7   75s
 101154 79477 139896.903  235   12          - 85731.9000      -  11.3   81s
 117347 92504 106703.756   36   57          - 90260.0870      -  10.6   86s
 129200 101471 146353.363  137   13          - 91155.6554      -  10.3   90s
 141372 111408 146340.016  260   12          - 92833.2657      -  10.1   95s
 157123 123474 172557.529  350   31          - 94522.7393      -   9.7  100s
 176668 140806 137115.660  104   32          - 95274.9140      -   9.3  105s
 189491 150314 138804.433  197   24          - 96336.0577      -   9.1  110s
 203650 162029 infeasible   48               - 96975.7144      -   9.0  115s
 218666 173981 177827.772   47   31          - 98234.0850      -   8.9  120s
 235821 188608 185049.042  174   16          - 98394.1817      -   8.6  126s
 247635 197858 185056.093  292   15          - 98879.4560      -   8.5  130s
 266661 214213 185390.824  339   17          - 99318.9680      -   8.2  136s
 282597 227190 185591.198  365   18          - 99492.5506      -   8.0  141s
 294343 234245 187156.963  401   15          - 99906.9158      -   7.9  145s
 304144 244867 infeasible  413               - 100157.931      -   7.8  150s
 318032 256254 189980.929  476   17          - 100157.931      -   7.8  155s
 335191 270250 158067.997  115   24          - 100356.545      -   7.7  160s
 346393 279914 143544.202   69   14          - 100985.345      -   7.7  165s
 359699 291163 144881.446  175    7          - 101008.746      -   7.6  170s
 377074 305909 121966.562   43   49          - 101288.846      -   7.5  176s
 392469 316303 infeasible  154               - 101629.629      -   7.4  180s
 405027 329888 130549.366  315   20          - 101788.689      -   7.3  185s
 416836 340094 130568.992  377   24          - 101980.023      -   7.3  190s
 433537 353883 130569.365  436   24          - 102022.758      -   7.1  195s
 447065 364233 infeasible  515               - 102048.996      -   7.0  201s
 457858 373380 130921.811  571   28          - 102437.676      -   7.0  205s
 472883 385031 127631.327   56   37          - 102800.410      -   6.9  210s
 486746 396253 152495.319   47   66          - 103221.701      -   6.9  215s
 497585 405260 170117.722  103   36          - 103281.499      -   6.9  220s
 511301 416961 171159.138  287   22          - 103565.195      -   6.9  225s
 531249 433998 170987.759  421   24          - 103970.466      -   6.8  230s
 543491 443374 171560.803  457   25          - 103970.466      -   6.7  235s
 558010 454780 171945.113  496   24          - 104312.746      -   6.7  240s
 571362 466455 136131.313   44   60          - 104377.257      -   6.7  245s
 586103 478642 149799.436  164   11          - 104429.817      -   6.6  251s
 594716 486530 151386.746  184    6          - 104688.449      -   6.6  255s
 609028 497541 133276.117   43   33          - 104767.470      -   6.5  260s
 622404 509258 136659.463  155   14          - 105142.111      -   6.5  265s
 640235 522049 168538.601  385   10          - 105323.690      -   6.5  270s
 648106 528304 189677.132  356    8          - 105344.454      -   6.5  275s
 658807 538825 190916.487  413   17          - 105344.454      -   6.5  280s
 674057 551425 infeasible  471               - 105784.679      -   6.4  285s
 688414 564753 205107.047  626   30          - 105824.321      -   6.4  290s
 705374 578385 224530.575  686   27          - 106050.994      -   6.3  296s
 718773 589411 225212.471  728   30          - 106115.466      -   6.3  300s
 732190 602367 141373.116  117   17          - 106292.686      -   6.3  305s
 747862 614714 115615.507   26   62          - 106502.936      -   6.3  311s
 759653 623696 121698.973   46   52          - 106857.056      -   6.2  315s
 772623 634808 133414.539  126   20          - 106900.931      -   6.2  320s
 786579 646334 112120.038   37   59          - 107124.833      -   6.2  326s
 797403 657065 123076.034  134   22          - 107276.157      -   6.2  330s
 810445 667677 123148.965  295   13          - 107304.329      -   6.2  335s
 826152 681626 123174.848  412   13          - 107304.329      -   6.1  340s
 842054 694332 149749.700   49   35          - 107315.219      -   6.0  345s
 853647 703475 149369.934  249   20          - 107561.022      -   6.0  350s
 868008 714482 137900.462   46   50          - 107650.617      -   6.0  355s
 882073 725613 140234.044   64   11          - 107829.120      -   6.0  360s
 896625 735955 140364.356  141    3          - 107919.143      -   6.0  366s
 909127 749243 141006.248  194   12          - 107919.143      -   6.0  370s
 922992 761414 141058.974  212   13          - 108035.239      -   5.9  375s
 938033 773931 139288.362   53   16          - 108066.576      -   5.9  380s
 952980 783415 139631.878  166   10          - 108366.832      -   5.9  386s
 961382 792562 139657.993  226   12          - 108366.832      -   5.9  390s
 975992 804009 140338.466  311   13          - 108529.248      -   5.9  395s
 988992 814848 131218.884   52   12          - 108619.164      -   5.9  400s
 1000770 823376 142370.179  137   19          - 108749.801      -   5.9  405s
 1013160 836754 141293.225  187   20          - 108839.704      -   5.9  410s
 1027743 848928 142172.392  298    9          - 108839.704      -   5.8  415s
 1042854 860992 144515.600  356    8          - 108920.528      -   5.8  420s
 1058578 875226 123880.044   36   57          - 109024.701      -   5.8  425s
 1070276 884776 133041.630  118    8          - 109164.617      -   5.8  430s
 1084736 896373 infeasible   39               - 109287.111      -   5.8  435s
 1097783 907858 145252.423   94   29          - 109480.943      -   5.8  440s
 1116589 923331 162055.237  182   36          - 109483.618      -   5.7  445s
 1129984 935430 165264.579  219   33          - 109485.614      -   5.7  450s
 1142211 944858 168343.900  262   31          - 109485.614      -   5.7  455s
 1159803 959079 170969.028  331   16          - 109590.986      -   5.7  461s
 1173599 970139 174633.867  361    6          - 109666.228      -   5.7  465s
 1188003 981567 142898.370   58   59          - 109666.228      -   5.7  470s
 1199540 991776 124323.243  112   28          - 109794.234      -   5.7  475s
 1217150 1006101 120666.649   36   36          - 109832.615      -   5.6  480s
 1231264 1016484 132558.496  138   16          - 109988.413      -   5.6  486s
 1241633 1024014 132752.896  186    6          - 109988.413      -   5.6  490s
 1252866 1034946 136879.018  260   11          - 110088.426      -   5.6  495s
 1267069 1046446 139796.642  374   15          - 110097.917      -   5.6  501s
 1277604 1054046 140001.813  420    6          - 110111.150      -   5.6  505s
 1290837 1064306 143228.392  510    8          - 110114.299      -   5.6  510s
 1299980 1072099 151578.304  103   35          - 110207.332      -   5.6  515s
 1313514 1084690 165451.982  236    9          - 110207.332      -   5.6  520s
 1327326 1096357 165695.942  342   10          - 110221.558      -   5.6  526s
 1338999 1106408 165835.179  446   19          - 110225.604      -   5.6  531s
 1354460 1118506 185017.251  469   22          - 110305.330      -   5.6  535s
 1368988 1129918 infeasible  508               - 110350.137      -   5.6  540s
 1380351 1139002 144936.155   58   46          - 110357.247      -   5.6  545s
 1389298 1146246 148991.716  127   13          - 110371.726      -   5.6  550s
 1403261 1157794 172099.162  194   25          - 110371.726      -   5.6  555s
 1413845 1166721 150204.818  295   17          - 110577.837      -   5.6  560s
 1426445 1177132 173188.012  380   25          - 110577.837      -   5.6  565s
 1440226 1188310 155841.392  433   28          - 110635.749      -   5.6  570s
 1454206 1200057 157331.944  469   21          - 110635.749      -   5.6  575s
 1464539 1207994 122946.214  103   15          - 110638.696      -   5.6  580s
 1474222 1217371 123475.621  222    9          - 110638.696      -   5.6  586s
 1488256 1228609 129357.998  334    5          - 110800.633      -   5.5  591s
 1494319 1233889 125991.934   46   32          - 110855.015      -   5.6  595s
 1505631 1242277 127440.506  100   23          - 110855.015      -   5.5  600s

Explored 1507941 nodes (8361357 simplex iterations) in 600.11 seconds (58.83 work units)
Thread count was 32 (of 64 available processors)

Solution count 0

Time limit reached
Best objective -, best bound 1.108550147124e+05, gap -
Gurobi 12.0.3: time limit, without a feasible solution
8.36136e+06 simplex iterations
28 barrier iterations
1.50794e+06 branching nodes
eps [*,*] (tr)
:         0             1             2             3             4         :=
1    1.0468e-07     .             .             .             .
2     .            8.92305e-08    .             .             .
3     .             .            1.31932e-07    .             .
4    2.99972e-07    .             .             .             .
5     .             .             .             .            1.17643e-07
8     .            3.43436e-07    .             .             .
11    .             .            3.38621e-07    .             .
13    .             .            2.333e-07      .             .
17    .             .             .            1.50133e-07    .
18    .             .             .            1.14687e-07    .

:         5             6             7             8             9         :=
6    1.66361e-07    .             .             .             .
7     .            4.41085e-07    .             .             .
8     .             .            1.97924e-07    .             .
10    .             .             .             .            1.90215e-07
12    .             .             .             .            5.70471e-07
21   1.61447e-07    .             .             .             .
25    .             .             .             .            1.98693e-07
29    .             .            2.88894e-07    .             .
30    .             .             .            4.07513e-07    .

:        11            12            13            14            15         :=
11    .            1.37455e-07    .             .             .
14    .             .            1.42856e-07    .             .
15   2.35784e-07    .             .             .             .
16    .             .             .             .            1.43693e-07
17    .             .             .             .            1.2314e-07
23    .             .             .            2.08056e-07    .

:        18            21            22            23            24         :=
13    .             .            1.49863e-07    .             .
19   1.22022e-07    .             .             .            1.25981e-07
20    .            4.01635e-07    .             .             .
22    .             .             .            2.17786e-07    .
24   1.13096e-07    .             .             .             .

:        26            29         :=
9    2.50448e-07    .
26    .            1.46656e-07
27   2.30103e-07    .
28   1.96665e-07    .
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 26124.862663059346
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 0,1             |   0          |             715.56       |           715.56       |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 0,4             |   0          |             715.56       |           715.56       |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 1,2             |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 1,8             |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,3             |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,11            |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,13            |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,17            |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,18            |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,8             |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,29            |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,30            |   0.00323968 |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,12            |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,11           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,23           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,17           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,19           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,24           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,20           |   0.00069147 |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,9            |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,21            |   0.00393115 |              -0.0936466  |            -0.0936466  |                   -0 |               -0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,10            |   0.00328763 |              -0.0496397  |            -0.0496397  |                   -0 |               -0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,25            |   0.00325167 |              -0.0448656  |            -0.0448656  |                   -0 |               -0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,15           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,14           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,16           |   0.00328763 |              -0.00693429 |            -0.00693429 |                   -0 |               -0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,13           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 23,22           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,19           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,27           |   0.00321508 |              -0.0334794  |            -0.0334794  |                   -0 |               -0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,28           |   0.00161385 |              -0.0124941  |            -0.0124941  |                   -0 |               -1e-08 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 29,26           |   0          |               0          |             0          |                    0 |                0     |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 1431.3610596689712
Sum of violation of approx headloss constraint: 1431.3610596693384

Con2 sum of absolute violation between original function and approximate function: 3.6717551308435015e-10
Con2 sum of relative violation between original function and approximate function: 1.3057170012688185e-08
*******************************************************************************

Total cost using gurobi: 55583.42331599999
gurobi solve time: 601.60 seconds
*******************************************************************************

