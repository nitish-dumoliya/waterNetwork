Water Network: 8
Results smooth approximation 2 of Hazen--Williams headloss constraint using relative error

*******************************************************************************
wdnmodel.mod

-------------------------------- Solving with scip --------------------------
SCIP 9.2.2:   tech:outlev = 1
  lim:time = 600
  heu:settings = 0
  alg:method = pusr/bin:/bin:/usr/local/games:/usr/games:/opt/ibm/ILOG/CPLEX_Studio201/cpoptimizer/bin/x86-64_linux:/opt/ibm/ILOG/CPLEX_Studio201/cplex/bin/x86-64_linux:/opt/ampl:/opt/scip/SCIPOptSuite-8.0.3-Linux/bin:/opt/gurobi/bin://home/nitishdumoliya/dist/bin:/home/nitishdumoliya/bat-v0.18.2-x86_64-unknown-linux-musl:/home/nitishdumoliya/package/go/bin:/home/nitishdumoliya/htop/htop-3.3.0:/home/nitishdumoliya/apps/parallel/bin:/home/nitishdumoliya/Bonmin-1.8.8/build/bin:/opt/gurobi1203/linux64/bin:/home/nitishdumoliya/miniconda3/lib/python3.13/site-packages/ampl_module_base/bin/
  lim:absgap = 1e-05
  lim:gap = 1e-06
  sol:chk:feastol = 1e-05
  sol:chk:feastolrel = 1e-06
  tech:optionnativeread = scip.set

AMPL MP initial flat model has 848 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  94 linear; 232 quadratic;
Algebraic expressions:  58 div; 116 powconstexp;

AMPL MP final model has 1254 variables (0 integer, 0 binary);
Objectives: 1 linear; 
Constraints:  94 linear; 290 quadratic; 58 nonlinear;
Algebraic expressions:  116 powconstexp;


presolving:
(round 1, fast)       348 del vars, 0 del conss, 0 add conss, 80 chg bounds, 0 chg sides, 0 chg coeffs, 0 upgd conss, 0 impls, 0 clqs
   (0.0s) symmetry computation started: requiring (bin +, int +, cont +), (fixed: bin -, int -, cont -)
   (0.1s) no symmetry present (symcode time: 0.00)
presolving (2 rounds: 2 fast, 1 medium, 1 exhaustive):
 348 deleted vars, 0 deleted constraints, 0 added constraints, 83 tightened bounds, 0 added holes, 0 changed sides, 0 changed coefficients
 0 implications, 0 cliques
presolved problem has 906 variables (0 bin, 0 int, 0 impl, 906 cont) and 210 constraints
     94 constraints of type <linear>
    116 constraints of type <nonlinear>
Presolving Time: 0.04

 time | node  | left  |LP iter|LP it/n|mem/heur|mdpt |vars |cons |rows |cuts |sepa|confs|strbr|  dualbound   | primalbound  |  gap   | compl. 
  0.1s|     1 |     0 |   630 |     - |    19M |   0 |2124 | 210 |2673 |   0 |  0 |   0 |   0 | 1.664360e+05 |      --      |    Inf | unknown
  1.0s|     1 |     0 |  1537 |     - |    21M |   0 |2124 | 210 |3442 | 769 |  1 |   0 |   0 | 1.664360e+05 |      --      |    Inf | unknown
  1.0s|     1 |     0 |  1596 |     - |    21M |   0 |2124 | 210 |3451 | 778 |  2 |   0 |   0 | 1.664360e+05 |      --      |    Inf | unknown
  1.0s|     1 |     0 |  1621 |     - |    21M |   0 |2124 | 210 |3454 | 781 |  3 |   0 |   0 | 1.664360e+05 |      --      |    Inf | unknown
Cannot set optimality tolerance to small value 1e-12 without GMP - using 1e-10.
Cannot set optimality tolerance to small value 1e-12 without GMP - using 1e-10.
  4.2s|     1 |     0 | 28843 |     - |    21M |   0 |2124 | 210 |3454 | 781 |  4 |   0 |   0 | 1.664360e+05 |      --      |    Inf | unknown
  4.2s|     1 |     0 | 29038 |     - |    21M |   0 |2124 | 210 |3542 | 869 |  5 |   0 |   0 | 1.664360e+05 |      --      |    Inf | unknown
* 8.4s|     1 |     0 | 58033 |     - |    LP  |   0 |2124 | 210 |3542 | 869 |  6 |   0 |   0 | 1.664360e+05 | 1.664360e+05 |   0.00%| unknown

SCIP Status        : problem is solved [optimal solution found]
Solving Time (sec) : 8.35
Solving Nodes      : 1
Primal Bound       : +1.66436028000000e+05 (1 solutions)
Dual Bound         : +1.66436028000000e+05
Gap                : 0.00 %
WARNING: No dual information available when presolving was performed.
SCIP 9.2.2: optimal solution; objective 166436.028
3078 simplex iterations
 
------------ WARNINGS ------------
WARNING:  "Tolerance violations"
  Type                         MaxAbs [Name]   MaxRel [Name]
* expr '_div'                  1E-03           4E+02         
*: Using the solver's aux variable values.
Documentation: mp.ampl.com/modeling-tools.html#automatic-solution-check.
eps [*,*]
:         1             2             3             4             5         :=
2     .             .            2.36947e-05    .             .
3     .             .             .            1.41097e-05    .
4     .             .             .             .            1.47212e-05
12    .             .             .            3.68027e-05    .
17    .            1.27975e-05    .             .             .
36   1.74613e-05    .             .             .             .
37   0.000313979    .             .             .             .

:         6             7             8             9            10         :=
5    1.35659e-05    .             .             .             .
6     .            2.21369e-05    .             .             .
18    .             .             .             .            2.87013e-05
21   1.74905e-05    .             .             .             .
22    .            1.34658e-05    .             .             .
24    .             .            2.24311e-05    .             .
25    .             .            2.11723e-05    .             .
28    .             .             .            1.92618e-05    .
30    .             .             .            2.32435e-05    .
31    .             .             .             .            1.89326e-05

:        11            12            13            14            15         :=
3    1.80929e-05    .             .             .             .
5     .             .            2.99924e-05    .             .
10   2.12135e-05    .             .             .             .
12    .             .            1.77785e-05    .             .
13    .             .             .            2.45216e-05    .
19    .            2.61665e-05    .             .             .
20    .             .             .             .            2.49467e-05
26    .             .             .             .            2.43547e-05

:        16            17            18            19            20         :=
1     .            2.24101e-05    .             .             .
2     .             .            2.00615e-05    .             .
11    .             .             .            2.00801e-05    .
14    .             .             .             .            4.44556e-05
15   1.88542e-05    .             .             .             .
17    .             .            1.64787e-05    .             .
19    .             .             .             .            1.599e-05
27   2.62192e-05    .             .             .             .

:        21            22            23            24            25         :=
7     .             .             .            1.79008e-05    .
14   3.29036e-05    .             .             .             .
15    .            2.92982e-05    .             .             .
16    .             .             .             .            2.90144e-05
21    .            2.11661e-05    .             .             .
22    .             .            2.55949e-05    .             .
23    .             .             .             .            3.04872e-05
24    .             .            1.74519e-05    .             .

:        26            27            28           29            30         :=
8     .             .            2.1395e-05    .             .
11   2.88239e-05    .             .            .             .
16    .             .             .           2.21185e-05    .
26    .            1.89966e-05    .            .             .
28    .             .             .           2.10524e-05    .
29    .             .             .            .            3.54785e-05
32    .            2.97626e-05    .            .             .

:        31            32            33            34            35         :=
1    3.04151e-05    .             .             .             .
10    .            3.80454e-05    .             .             .
29    .             .            1.72715e-05    .             .
30    .             .             .             .            2.36702e-05
31    .             .             .            3.44328e-05    .
32    .             .            2.14126e-05    .             .
33    .             .             .            4.62224e-05    .
34    .             .             .             .            1.98842e-05

:        36         :=
9    2.45452e-05
35   2.88482e-05
;

*******************************************************************************

Constraints violation:


Sum of constraints violation: 1241.2857025627895
*******************************************************************************

*******************************************************************************

Absolute and relative violations between original and approximation constraint 2:

+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| Constraint ID   |   flow value |   Original Con Violation |   Approx Con Violation |   Absolute Violation |   Relative Violation |
+=================+==============+==========================+========================+======================+======================+
| 1,17            |  0.00635812  |                 0.170223 |               0.170223 |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 1,31            |  0.00635811  |                 6.94363  |               6.94363  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,3             |  0.00676343  |               -12.2317   |             -12.2317   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 2,18            | -0.00462437  |                 9.23983  |               9.23983  |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,4             | -0.00482281  |                19.3926   |              19.3926   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 3,11            |  0.0105662   |               -50.3553   |             -50.3553   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 4,5             | -0.00270985  |                 7.15377  |               7.15377  |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,6             | -0.00391969  |                 9.42351  |               9.42351  |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 5,13            |  0.000579835 |                -0.750755 |              -0.750755 |                8e-08 |              8.7e-07 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 6,7             |  0.00205344  |                -4.1565   |              -4.1565   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 7,24            |  0.00288001  |                -4.19304  |              -4.19304  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 8,28            | -0.00635812  |                15.1606   |              15.1606   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 9,36            | -0.00751752  |                15.2325   |              15.2325   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,11           |  0.000749693 |                 0.19265  |               0.19265  |                2e-08 |              8e-08   |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 10,32           |  0.00355187  |                -1.70647  |              -1.70647  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,19           |  0.00776312  |               -22.4945   |             -22.4945   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 11,26           |  0.00180281  |                -0.498378 |              -0.498378 |                1e-08 |              1e-08   |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,4            |  0.00292295  |                -1.10268  |              -1.10268  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 12,13           |  0.00252517  |                -2.90632  |              -2.90632  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 13,14           |  0.00194501  |                -1.93959  |              -1.93959  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,20           | -0.0113112   |                10.5055   |              10.5055   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 14,21           |  0.0127163   |               -23.4808   |             -23.4808   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,16           | -0.0235959   |               204.346    |             204.346    |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 15,22           |  0.00342156  |                -2.93774  |              -2.93774  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 16,25           | -0.0127163   |                29.2876   |              29.2876   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 16,29           | -0.00778187  |                19.363    |              19.363    |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,2            |  0.00317906  |                -9.16746  |              -9.16746  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 17,18           |  0.00190905  |                -1.10005  |              -1.10005  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 18,10           | -0.00473531  |                 4.74241  |               4.74241  |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,12           |  0.00635812  |                -9.59698  |              -9.59698  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 19,20           | -0.000475006 |                 0.271062 |               0.271062 |               -3e-08 |              1.6e-07 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 20,15           | -0.0127163   |                38.2028   |              38.2028   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,6            |  0.00676313  |               -25.9015   |             -25.9015   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 21,22           |  0.00499312  |               -10.431    |             -10.431    |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,7            |  0.00108657  |                -5.27951  |              -5.27951  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 22,23           |  0.00635811  |               -10.5685   |             -10.5685   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 23,25           |  0.0182144   |               -52.3622   |             -52.3622   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,8            | -0.0105062   |                34.2337   |              34.2337   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 24,23           |  0.0127162   |               -72.0351   |             -72.0351   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 25,8            |  0.00472811  |               -10.53     |             -10.53     |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,15           | -0.00635812  |                11.1577   |              11.1577   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 26,27           |  0.00647092  |               -18.9258   |             -18.9258   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 27,16           |  0.00430781  |                -5.17536  |              -5.17536  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 28,9            | -0.00846468  |                29.1826   |              29.1826   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 28,29           |  0.00180656  |                -0.284058 |              -0.284058 |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 29,30           | -0.0151322   |                28.3452   |              28.3452   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 29,33           |  0.0085369   |               -36.8157   |             -36.8157   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 30,9            |  0.00148716  |                -2.73263  |              -2.73263  |                1e-08 |              1e-08   |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 30,35           | -0.0171594   |                73.3001   |              73.3001   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 31,10           |  0.0101469   |               -42.4238   |             -42.4238   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 31,34           | -0.00468877  |                 3.07279  |               3.07279  |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 32,27           | -0.000743115 |                 0.445751 |               0.445751 |               -5e-08 |              3.1e-07 |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 32,33           |  0.00326498  |                -4.55853  |              -4.55853  |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 33,34           |  0.0110319   |                -9.6359   |              -9.6359   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 34,35           |  0.00560312  |               -13.6982   |             -13.6982   |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 35,36           | -0.0127163   |                29.2319   |              29.2319   |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 36,1            | -0.0207038   |               172.712    |             172.712    |               -0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+
| 37,1            |  0.03391     |                -0        |               0        |                0     |              0       |
+-----------------+--------------+--------------------------+------------------------+----------------------+----------------------+

Sum of violation of original headloss constraint: 1241.2857027470334
Sum of violation of approx headloss constraint: 1241.2857025627895

Con2 sum of absolute violation between original function and approximate function: 2.291388953024054e-07
Con2 sum of relative violation between original function and approximate function: 1.4564013867590227e-06
*******************************************************************************

Total cost using scip: 166436.028
scip solve time: 8.43 seconds
*******************************************************************************

